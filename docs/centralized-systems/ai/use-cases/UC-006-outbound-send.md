# UC-006: Εντολή Αποστολής από Εσωτερικό Χρήστη (Outbound)

> **Parent ADR**: [ADR-169 - Modular AI Architecture](../../reference/adrs/ADR-169-modular-ai-architecture.md)
> **Pipeline**: [pipeline.md](../pipeline.md)

---

## Trigger

Εσωτερικός χρήστης (με συγκεκριμένο ρόλο) δίνει εντολή στο AI: "Στείλε στον συμβολαιογράφο Χ αυτά τα έγγραφα"

**Κατεύθυνση**: Εσωτερικά → Εξωτερικά (outbound) - σε αντίθεση με UC-001~005 που είναι inbound

## Ροή

1. **Εντολή**: Χρήστης δίνει εντολή αποστολής (μέσω in-app, email, Telegram)
2. **Understand**: AI αναγνωρίζει:
   - Ποιος ζητάει (ρόλος χρήστη)
   - Τι ζητάει να σταλεί (έγγραφα, πληροφορίες)
   - Σε ποιον (παραλήπτης - επαφή στο σύστημα ή νέος)
   - Μέσω ποιου καναλιού (email, Telegram, κ.λπ.)
3. **Permission Check** - Έλεγχος δικαιωμάτων αποστολής:

   | Κατηγορία Εγγράφου | Ποιος στέλνει | Παράδειγμα |
   |---------------------|---------------|------------|
   | **Public** (ελεύθερα) | Οποιοσδήποτε ρόλος | Φωτορεαλιστικά, γενικές περιγραφές, τοποθεσίες, κατόψεις δημοσιευμένες |
   | **Restricted** (ανά ρόλο) | Μόνο ρόλοι με δικαίωμα | ΚΑΕΚ, τοπογραφικά, τεχνικά σχέδια → μόνο architect/civilEngineer/mechanicalEngineer/owner |
   | **Confidential** (μόνο ιδιοκτήτης) | Μόνο `owner` ή explicit έγκριση | Τιμοκατάλογοι, οικονομικά, πίνακες ποσοστών, συμβόλαια |

   **Αν ο χρήστης ΔΕΝ έχει δικαίωμα**:
   - AI ενημερώνει: "Δεν έχετε δικαίωμα αποστολής αυτού του εγγράφου. Ζητήθηκε έγκριση από τον ιδιοκτήτη."
   - Αίτημα έγκρισης → `owner`
   - Μετά την έγκριση → αποστολή

4. **Lookup**: Αναζήτηση εγγράφων στο file system
5. **Propose**: Επιβεβαίωση στον χρήστη: "Θα στείλω τα εξής στον [παραλήπτη]: [λίστα εγγράφων]. Επιβεβαιώνεις;"
6. **Execute**: Αποστολή μέσω κατάλληλου καναλιού
7. **Audit**: Καταγραφή στο audit trail (ποιος έστειλε, τι, σε ποιον, πότε)

## Routing

Εξαρτάται από τον ρόλο του αιτούντος - δεν χρειάζεται routing σε υπεύθυνο (εκτός αν Permission Check αποτύχει).

## AI Model Tier

**FAST** (intent detection, document matching)
