# UC-014: Πώληση Ακινήτου (Property Sale Process)

> **Parent ADR**: [ADR-169 - Modular AI Architecture](../../reference/adrs/ADR-169-modular-ai-architecture.md)
> **Pipeline**: [pipeline.md](../pipeline.md)
> **Σχετικά UCs**: [UC-001](./UC-001-appointment.md) (ραντεβού), [UC-005](./UC-005-property-search.md) (αναζήτηση), [UC-010](./UC-010-status-inquiry.md) (status), [UC-023](./UC-023-property-handover.md) (παράδοση), [UC-031](./UC-031-payment-plan-management.md) (πρόγραμμα πληρωμών)

---

## Trigger

Ένας ενδιαφερόμενος εκδηλώνει ενδιαφέρον για αγορά ακινήτου. Η διαδικασία ξεκινάει και η AI παρακολουθεί κάθε βήμα μέχρι την παράδοση κλειδιών.

---

## Στάδια Διαδικασίας

### Επισκόπηση

```
LEAD → ΕΠΙΣΚΕΨΗ → ΚΡΑΤΗΣΗ → ΕΓΓΡΑΦΑ → ΔΑΝΕΙΟ → ΣΥΜΒΟΛΑΙΟ → ΠΛΗΡΩΜΕΣ → ΠΑΡΑΔΟΣΗ
```

---

### Στάδιο 1: Lead — Εκδήλωση ενδιαφέροντος

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `lead_new` |
| **Trigger** | Email, Telegram, τηλέφωνο, in-app, walk-in |
| **Ενέργειες AI** | Δημιουργία Lead, αντιστοίχιση με project/unit (αν αναφέρεται), ανάθεση σε salesManager |
| **Checklist** | ☐ Στοιχεία επικοινωνίας, ☐ Ποιο ακίνητο ενδιαφέρει, ☐ Budget/προϋπολογισμός |
| **Σύνδεση** | [UC-005](./UC-005-property-search.md) (αν ρωτάει για ακίνητα) |

---

### Στάδιο 2: Ραντεβού / Επίσκεψη

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `lead_contacted` → `lead_visit_scheduled` → `lead_visited` |
| **Ενέργειες AI** | Κλείσιμο ραντεβού (UC-001), υπενθύμιση 24h πριν, follow-up μετά την επίσκεψη |
| **Checklist** | ☐ Ραντεβού κλείστηκε, ☐ Επίσκεψη πραγματοποιήθηκε, ☐ Σημειώσεις/ενδιαφέρον καταγράφηκε |
| **Σύνδεση** | [UC-001](./UC-001-appointment.md) |
| **Auto-follow-up** | Αν πέρασαν 3 μέρες χωρίς απάντηση μετά την επίσκεψη → πρόταση follow-up email |

---

### Στάδιο 3: Κράτηση (Reservation)

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `reservation_pending` → `reservation_confirmed` |
| **Ενέργειες AI** | Ενημέρωση unit status (reserved), ειδοποίηση accountant για προκαταβολή |
| **Checklist** | ☐ Προσύμφωνο υπογράφηκε, ☐ Προκαταβολή εισπράχθηκε, ☐ Unit δεσμεύτηκε |
| **Έγκριση** | `salesManager` + `owner` (αν ποσό κράτησης < standard → owner approval) |
| **Alert** | Αν πέρασαν 7 μέρες χωρίς προκαταβολή → ειδοποίηση salesManager |

---

### Στάδιο 4: Συλλογή Εγγράφων Αγοραστή

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `documents_pending` → `documents_complete` |
| **Ενέργειες AI** | Tracking checklist, αυτόματο reminder στον αγοραστή για ελλείποντα |

**Checklist εγγράφων αγοραστή**:

| Έγγραφο | Υποχρεωτικό | Σημειώσεις |
|---------|-------------|-----------|
| ☐ Ταυτότητα / Διαβατήριο | ✅ | Φωτοαντίγραφο |
| ☐ ΑΦΜ | ✅ | Βεβαίωση απόδοσης ΑΦΜ για αλλοδαπούς |
| ☐ Εκκαθαριστικό εφορίας | ✅ | Τελευταίο έτος |
| ☐ Βεβαίωση μη οφειλής ΕΝΦΙΑ | ✅ | Αν αγοράζει 2ο ακίνητο |
| ☐ Τραπεζική προέγκριση δανείου | Αν δάνειο | Βλ. Στάδιο 5 |
| ☐ Πληρεξούσιο | Αν αντιπρόσωπος | Συμβολαιογραφικό |

**Auto-reminder**: Κάθε 5 μέρες αν λείπουν έγγραφα → AI προτείνει email στον αγοραστή: "Για να προχωρήσουμε, χρειαζόμαστε ακόμα: [λίστα]"

---

### Στάδιο 5: Δάνειο (αν χρειάζεται)

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `loan_applied` → `loan_appraised` → `loan_approved` / `loan_rejected` |
| **Ενέργειες AI** | Tracking κατάστασης, ειδοποίηση όταν αλλάζει status |

**Υπο-βήματα δανείου**:

| Βήμα | Αρμόδιος | SLA |
|------|----------|-----|
| ☐ Αίτηση κατατέθηκε | Αγοραστής | — |
| ☐ Εκτίμηση ακινήτου (τράπεζα) | Τράπεζα | ~15 μέρες |
| ☐ Έγκριση δανείου | Τράπεζα | ~30 μέρες |
| ☐ Ενημέρωση αρχείου | Secretary | Αμέσως μετά |

**Alerts**:
- Εκτίμηση >20 μέρες → "Η τράπεζα καθυστερεί — να επικοινωνήσουμε;"
- Απόρριψη δανείου → ειδοποίηση salesManager + owner → εναλλακτικές (άλλη τράπεζα, αλλαγή unit, ακύρωση)

---

### Στάδιο 6: Προετοιμασία Συμβολαίου

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `contract_preparation` → `contract_ready` |
| **Ενέργειες AI** | Tracking checklist εγγράφων, ειδοποίηση συμβολαιογράφου |
| **Σύνδεση** | [UC-003](./UC-003-notary-documents.md) |

**Checklist εγγράφων συμβολαίου** (πλευρά πωλητή):

| Έγγραφο | Αρμόδιος | Σημειώσεις |
|---------|----------|-----------|
| ☐ Τίτλοι ιδιοκτησίας | Secretary | Κτηματολόγιο/Υποθηκοφυλακείο |
| ☐ Οικοδομική άδεια | Architect | Αντίγραφο |
| ☐ Βεβαίωση μη οφειλής ΕΝΦΙΑ (πωλητή) | Accountant | Τελευταίο έτος |
| ☐ Βεβαίωση ΤΑΠ | Accountant | Από δήμο |
| ☐ Ενεργειακό πιστοποιητικό (ΠΕΑ) | Architect/Engineer | Ισχύον |
| ☐ Πολεοδομικά (κάτοψη, τοπογραφικό) | Architect | Θεωρημένα |
| ☐ Βεβαίωση περαίωσης | Architect | Αν ολοκληρώθηκε |
| ☐ Σύσταση οριζόντιας ιδιοκτησίας | Secretary | Αν πολυκατοικία |

**ΚΑΝΟΝΑΣ**: Δεν πάμε συμβολαιογράφο αν λείπει έστω 1 υποχρεωτικό έγγραφο. Η AI δεν επιτρέπει transition σε `contract_ready` αν δεν είναι πλήρης η λίστα.

---

### Στάδιο 7: Υπογραφή Συμβολαίου

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `contract_signing_scheduled` → `contract_signed` |
| **Ενέργειες AI** | Κλείσιμο ραντεβού συμβολαιογράφου, υπενθυμίσεις σε όλα τα μέρη, ενημέρωση unit status |
| **Έγκριση** | `owner` (τελική) |
| **Μετά την υπογραφή** | Unit status → `sold`, ενημέρωση Firestore, ειδοποίηση accountant για πρόγραμμα πληρωμών |

---

### Στάδιο 8: Πληρωμές

> **📋 ΠΛΗΡΗΣ ΤΕΚΜΗΡΙΩΣΗ**: [UC-031 — Payment Plan Management](./UC-031-payment-plan-management.md)
>
> Το UC-031 εμβαθύνει σε αυτό το στάδιο και παρέχει πλήρη κάλυψη:
> - 6 μέθοδοι πληρωμής (τραπεζική μεταφορά, δάνειο, επιταγές, συναλλαγματικές, μετρητά, escrow)
> - Construction-Linked Payments (CLP) — δόσεις συνδεδεμένες με milestones κατασκευής
> - Multi-method payments (μία δόση, πολλές μέθοδοι)
> - Mortgage tracking (αίτηση → εκτίμηση → έγκριση → εκταμιεύσεις)
> - Bounced check handling
> - Gantt timeline dashboard
> - ΦΠΑ/ΦΜΑ config-driven

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `payments_in_progress` → `payments_complete` |
| **Ενέργειες AI** | Tracking δόσεων, alerts για καθυστερήσεις, forecast UC-026 |

**Τύποι πληρωμών**:

| Πληρωμή | Πότε | Tracking |
|---------|------|---------|
| Προκαταβολή | Στην κράτηση | ☐ Εισπράχθηκε |
| Δόσεις κατασκευής | Ανά φάση κατασκευής (CLP milestones) | ☐ Ημερομηνία → ποσό → εισπράχθηκε |
| Υπόλοιπο | Στην παράδοση / μεταγραφή | ☐ Εισπράχθηκε |

**Alerts**:
- Δόση >7 μέρες overdue → ειδοποίηση accountant
- Δόση >30 μέρες overdue → ειδοποίηση owner + salesManager
- Δόση >90 μέρες overdue → escalation → νομική ενέργεια
- Ακάλυπτη επιταγή → 🔴 CRITICAL alert
- Εξόφληση → αυτόματη ειδοποίηση "Ο αγοραστής ολοκλήρωσε τις πληρωμές — έτοιμος για παράδοση" → trigger UC-023

---

### Στάδιο 9: Παράδοση Κλειδιών

| Πεδίο | Λεπτομέρεια |
|-------|-------------|
| **Κατάσταση** | `handover_pending` → `handover_inspection` → `handover_complete` |
| **Ενέργειες AI** | Κλείσιμο ραντεβού παράδοσης, δημιουργία snag list, tracking διορθώσεων |

**Υπο-βήματα**:

| Βήμα | Σημειώσεις |
|------|-----------|
| ☐ Τελική επιθεώρηση | Με αγοραστή + siteManager |
| ☐ Snag list (λίστα ελαττωμάτων) | Αν βρεθούν → [UC-011](./UC-011-defect-reporting.md) |
| ☐ Διόρθωση ελαττωμάτων | Tracking μέχρι ολοκλήρωση |
| ☐ Επανέλεγχος | Αγοραστής επιβεβαιώνει |
| ☐ Παράδοση κλειδιών | Πρωτόκολλο παράδοσης |
| ☐ Εγγύηση ξεκινάει | Ημερομηνία καταγράφεται |

---

## Κανάλια επικοινωνίας

Email, Telegram, In-app, κ.λπ.

---

## Routing

| Στάδιο | Κύριος αρμόδιος | Εμπλεκόμενοι |
|--------|-----------------|-------------|
| 1-2 Lead/Επίσκεψη | `salesManager` | — |
| 3 Κράτηση | `salesManager` | `owner`, `accountant` |
| 4 Έγγραφα αγοραστή | `secretary` | `salesManager` |
| 5 Δάνειο | `secretary` | `salesManager`, `accountant` |
| 6 Προετοιμασία συμβολαίου | `secretary` | `architect`, `accountant` |
| 7 Υπογραφή | `owner` | `salesManager`, `secretary` |
| 8 Πληρωμές | `accountant` | `salesManager`, `owner` |
| 9 Παράδοση | `siteManager` | `salesManager`, `owner` |

---

## AI Model Tier

- **FAST**: Status tracking, checklist management, reminders, notifications
- **QUALITY**: Σύνθεση status report για τον αγοραστή, ανάλυση εγγράφων δανείου

---

## Κανόνες

- **Ποτέ** δεν προχωράει στάδιο αν το checklist δεν είναι πλήρες — η AI μπλοκάρει transition
- **Ποτέ** δεν αποκαλύπτεται κόστος κατασκευής/margin στον αγοραστή
- **Κάθε αλλαγή** (ακύρωση, αλλαγή unit, αλλαγή τιμής) → απαιτεί `owner` approval
- **Timeout**: Αν η διαδικασία "κολλήσει" σε στάδιο >30 μέρες → alert στον owner
- **Ακύρωση**: Αν ο αγοραστής αποχωρήσει → unit γυρίζει σε `available`, ειδοποίηση salesManager, αρχειοθέτηση
