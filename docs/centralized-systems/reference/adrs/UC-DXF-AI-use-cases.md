# UC-DXF-AI: Περιπτώσεις Χρήσης — AI-Powered DXF Drawing Assistant

> **Parent ADR**: [ADR-185](./ADR-185-ai-powered-dxf-drawing-assistant.md)
> **Status**: DRAFT — Σε εξέλιξη
> **Date**: 2026-02-17
> **Last Updated**: 2026-02-17

---

## Σύνοψη

Αρχείο περιπτώσεων χρήσης για τον AI Drawing Assistant του DXF Viewer.
Κάθε UC ακολουθεί δομημένη μορφή: Actor, Trigger, Preconditions, Κύρια Ροή, Εναλλακτικές Ροές, Edge Cases.

---

## Πίνακας Περιεχομένων

| UC | Τίτλος | Phase | Status |
|----|--------|-------|--------|
| UC-DXF-001 | Βασική σχεδίαση γεωμετρικών σχημάτων | Phase 1 | DRAFT |
| UC-DXF-002 | Τροποποίηση υπαρχόντων entities | Phase 2 | DRAFT |
| UC-DXF-003 | Γεωμετρικές σχέσεις (παράλληλη, κάθετη, offset) | Phase 2 | DRAFT |
| UC-DXF-004 | Μέτρηση & ανάλυση | Phase 1 | DRAFT |
| UC-DXF-005 | Ανάλυση σχεδίου μέσω Vision | Phase 3 | DRAFT |
| UC-DXF-006 | Undo/Redo AI actions | Phase 1 | DRAFT |
| UC-DXF-007 | Φωνητική εντολή σχεδίασης | Phase 1 | DRAFT |
| UC-DXF-008 | Point + Command (δείξιμο στον canvas) | Phase 1 | DRAFT |
| UC-DXF-009 | Multi-entity creation (επαναληπτική σχεδίαση) | Phase 2 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-010 | Template-based rooms (δωμάτια από template) | Phase 4 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-011 | Import DXF + AI analysis | Phase 3 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-012 | Layer management μέσω AI | Phase 2 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-013 | Dimension annotations (αυτόματες διαστάσεις) | Phase 2 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-014 | Furniture placement (επίπλωση) | Phase 4 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-015 | Full floor plan generation (πλήρης κάτοψη) | Phase 4 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-016 | Export with AI summary | Phase 3 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-017 | AI-suggested corrections | Phase 3 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-018 | Collaborative step-by-step design | Phase 2 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-019 | Building Code compliance check (ΝΟΚ) | Phase 1* | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |
| UC-DXF-020 | Σχεδίαση εντός οικοπέδου με constraints | Phase 4 | ΠΡΟΣ ΣΥΖΗΤΗΣΗ |

> *Phase 1 για awareness, Phase 4 για πλήρη enforcement — βλέπε ADR-186

---

## UC-DXF-001: Βασική σχεδίαση γεωμετρικών σχημάτων

**Phase**: 1
**Actor**: Μηχανικός / Αρχιτέκτονας
**Trigger**: Πληκτρολογεί ή μιλάει στο AI Chat Panel
**Precondition**: DXF Viewer ανοιχτός

### Κύρια Ροή

1. Χρήστης: "Σχεδίασε ένα ορθογώνιο 10x8 μέτρα"
2. AI αναγνωρίζει → tool: `draw_rectangle`, width: 10, height: 8
3. AI αποφασίζει τοποθέτηση (βλ. Q-06):
   - Κενός canvas → κέντρο οθόνης
   - Υπάρχει σχέδιο → σε σχέση με αυτό
   - Χρήστης έχει κλικάρει σημείο → εκεί
4. Server αποστέλλει action στο client
5. Client εκτελεί `createEntityFromTool('rectangle', ...)` → `completeEntity()`
6. Αυτόματο layer assignment (βλ. Q-08): → layer "Γεωμετρία"
7. Ορθογώνιο εμφανίζεται στον canvas
8. AI απαντά: "Σχεδίασα ορθογώνιο 10×8m. Θέλεις κάτι ακόμα;"

### Εναλλακτική Ροή A — Ασαφής εντολή

1. Χρήστης: "Σχεδίασε κάτι μεγάλο"
2. AI: "Θέλεις ορθογώνιο, κύκλο, ή κάτι άλλο; Τι διαστάσεις;"
3. Χρήστης: "Ορθογώνιο 20x15"
4. → Κύρια Ροή βήμα 2

### Εναλλακτική Ροή B — Μονάδες χιλιοστά/εκατοστά

1. Χρήστης: "Σχεδίασε κύκλο ακτίνας 500 χιλιοστά"
2. AI μετατρέπει: 500mm → 0.5m
3. → Εκτέλεση με radius: 0.5

### Edge Cases

- Εντολή χωρίς διαστάσεις ("σχεδίασε κύκλο") → AI ρωτάει ακτίνα
- Μη λογικές διαστάσεις ("ορθογώνιο 0.001x0.001") → AI προειδοποιεί
- Πολύ μεγάλες διαστάσεις ("ορθογώνιο 10000x10000") → AI ρωτάει αν είναι σίγουρος

---

## UC-DXF-002: Τροποποίηση υπαρχόντων entities

**Phase**: 2
**Trigger**: Ο χρήστης αναφέρεται σε υπάρχον entity

### Κύρια Ροή

1. Χρήστης: "Μετακίνησε το ορθογώνιο 5 μέτρα δεξιά"
2. AI: tool `query_entities` → βρίσκει ορθογώνια στο scene
3. Αν υπάρχει ένα: εκτέλεση `move_entity`
4. Client εκτελεί `MoveEntityCommand` → undo-able

### Εναλλακτική Ροή — Πολλαπλά entities

1. AI βρίσκει 3 ορθογώνια
2. AI: "Βρήκα 3 ορθογώνια. Ποιο εννοείς; (1) 10×8m στο (0,0), (2) 4×3m στο (20,10), (3) 6×4m στο (50,30)"
3. Χρήστης: "Το δεύτερο"
4. → Εκτέλεση

### Edge Cases

- Entity δεν βρέθηκε → AI: "Δεν βρήκα ορθογώνιο στο σχέδιο. Θέλεις να σχεδιάσω ένα;"
- Αναφορά σε "το τελευταίο" → AI χρησιμοποιεί session history

---

## UC-DXF-003: Γεωμετρικές σχέσεις (παράλληλη, κάθετη, offset)

**Phase**: 2
**Trigger**: Εντολή σχετική με υπάρχον entity

### Κύρια Ροή

1. Χρήστης: "Σχεδίασε παράλληλη γραμμή σε αυτή, σε απόσταση 3 μέτρα"
2. AI: tool `query_entities` → βρίσκει πλησιέστερη γραμμή (ή ζητά διευκρίνιση)
3. AI: υπολογίζει offset coordinates
4. AI: tool `draw_line` με νέες συντεταγμένες
5. Client εκτελεί → νέα γραμμή εμφανίζεται παράλληλα

### Edge Cases

- "Κάνε offset 2 μέτρα" → AI ρωτάει "Προς ποια πλευρά; Πάνω ή κάτω;"
- "Κάθετη σε αυτή τη γραμμή" → AI ρωτάει "Σε ποιο σημείο της γραμμής;"

---

## UC-DXF-004: Μέτρηση & ανάλυση

**Phase**: 1
**Trigger**: Ερώτηση για διαστάσεις/εμβαδά

### Κύρια Ροή

1. Χρήστης: "Ποια η απόσταση μεταξύ αυτών των δύο γραμμών;"
2. AI: tool `query_entities` → βρίσκει γραμμές
3. AI: υπολογίζει perpendicular distance
4. AI: "Η απόσταση μεταξύ των δύο γραμμών είναι 4.25 μέτρα"

### Variants

- "Πόσο είναι το εμβαδόν αυτού του πολυγώνου;" → υπολογισμός area
- "Ποια η γωνία μεταξύ αυτών των γραμμών;" → υπολογισμός angle
- "Πόσα μέτρα είναι η περίμετρος;" → υπολογισμός perimeter

---

## UC-DXF-005: Ανάλυση σχεδίου μέσω Vision

**Phase**: 3
**Trigger**: Χρήστης ζητά ανάλυση αυτού που βλέπει

### Κύρια Ροή

1. Χρήστης: "Τι βλέπεις σε αυτό το σχέδιο;"
2. Client: Κάνει screenshot canvas → base64 → αποστολή στο API
3. Server: OpenAI Vision API (gpt-4o) αναλύει
4. AI: "Βλέπω μια κάτοψη διαμερίσματος με 3 χώρους: σαλόνι (~25τμ), κουζίνα (~12τμ), υπνοδωμάτιο (~15τμ). Υπάρχουν 2 πόρτες και 3 παράθυρα."

### Edge Cases

- Κενός canvas → AI: "Ο canvas είναι κενός. Θέλεις να σχεδιάσω κάτι;"
- Πολύ πολύπλοκο σχέδιο → AI δίνει γενική περιγραφή + ρωτά αν θέλει λεπτομέρειες

---

## UC-DXF-006: Undo/Redo AI actions

**Phase**: 1
**Trigger**: Χρήστης θέλει να αναιρέσει ενέργεια AI

### Κύρια Ροή

1. Χρήστης: "Αναίρεσε τα τελευταία 3"
2. AI: tool `undo_action` × 3
3. Client: `CommandHistory.undo()` × 3
4. Canvas ενημερώνεται
5. AI: "Αναίρεσα τις τελευταίες 3 ενέργειες"

### Variants

- "Αναίρεσε" → undo 1
- "Ξανακάνε" / "Redo" → redo
- "Αναίρεσε τα πάντα" → AI ρωτάει "Είσαι σίγουρος; Θα αφαιρεθούν Χ entities"

---

## UC-DXF-007: Φωνητική εντολή σχεδίασης

**Phase**: 1
**Trigger**: Χρήστης μιλάει αντί να πληκτρολογεί

### Κύρια Ροή

1. Χρήστης πατάει μικρόφωνο στο AI Chat Panel
2. Ήχος → OpenAI Whisper → text: "Σχεδίασε κύκλο ακτίνας δέκα μέτρα"
3. Text → DXF AI pipeline (ίδια ροή με text input)
4. Εκτέλεση σχεδίασης

### Edge Cases

- Κακή αναγνώριση → AI δείχνει τι κατάλαβε, ρωτάει "Εννοούσες αυτό;"
- Θόρυβος → AI: "Δεν κατάλαβα. Μπορείς να επαναλάβεις;"

---

## UC-DXF-008: Point + Command (δείξιμο στον canvas)

**Phase**: 1
**Trigger**: Χρήστης κλικάρει σημείο στον canvas ΚΑΙ δίνει εντολή

### Κύρια Ροή

1. Χρήστης κλικάρει σημείο (100, 200) στον canvas
2. Σημείο αποθηκεύεται ως "pending point" στο AI context
3. Χρήστης: "Σχεδίασε κύκλο εδώ ακτίνας 5"
4. AI: Χρησιμοποιεί το pending point (100, 200) ως center
5. Εκτέλεση: κύκλος center=(100,200), radius=5

### Εναλλακτική Ροή — Πολλαπλά σημεία

1. Χρήστης κλικάρει σημείο Α (0, 0)
2. Χρήστης κλικάρει σημείο Β (100, 200)
3. Χρήστης: "Σχεδίασε γραμμή μεταξύ αυτών"
4. AI: Χρησιμοποιεί τα 2 pending points
5. Εκτέλεση: γραμμή A→B

---

## UC-DXF-009 — UC-DXF-020: [ΠΡΟΣ ΣΥΖΗΤΗΣΗ]

> Οι ακόλουθες περιπτώσεις χρήσης απαιτούν περαιτέρω συζήτηση με τον Γιώργο.
> Θα συμπληρωθούν σταδιακά.

### UC-DXF-009: Multi-entity creation

**Παράδειγμα**: "Σχεδίασε 4 κολώνες σε απόσταση 5m η μία από την άλλη"
**Ερωτήσεις**: Σε γραμμή ή σε grid; Τι μέγεθος κολώνα; Ποιο layer;

### UC-DXF-010: Template-based rooms

**Παράδειγμα**: "Σχεδίασε μπάνιο 2.5x3m"
**Ερωτήσεις**: Με τι εξοπλισμό; (WC, νιπτήρας, μπανιέρα/ντουζιέρα) Πόρτα πού;

### UC-DXF-011: Import DXF + AI analysis

**Παράδειγμα**: "Εισήγαγε αυτό το DXF και πες μου τι βλέπεις"
**Ερωτήσεις**: Ποια μορφή ανάλυσης; Layers, entities, χώροι;

### UC-DXF-012: Layer management μέσω AI

**Παράδειγμα**: "Βάλε τους τοίχους σε ξεχωριστό layer"
**Ερωτήσεις**: Πώς αναγνωρίζει τι είναι "τοίχος" vs γενική γραμμή;

### UC-DXF-013: Dimension annotations

**Παράδειγμα**: "Βάλε αυτόματα τις διαστάσεις σε όλους τους τοίχους"
**Ερωτήσεις**: Εσωτερικές ή εξωτερικές διαστάσεις; Πού τοποθετούνται;

### UC-DXF-014: Furniture placement

**Παράδειγμα**: "Επίπλωσε αυτό το δωμάτιο"
**Ερωτήσεις**: Τι τύπος δωματίου; Furniture library; Στυλ;

### UC-DXF-015: Full floor plan generation

**Παράδειγμα**: "Σχεδίασε κάτοψη διαμερίσματος 80τμ, 2 υπνοδωμάτια"
**Ερωτήσεις**: Constraints (ΝΟΚ); Βασικές απαιτήσεις; Αριθμός μπάνιων;

### UC-DXF-016: Export with AI summary

**Παράδειγμα**: "Εξήγαγε το σχέδιο σε DXF με report"
**Ερωτήσεις**: Τι πληροφορίες στο report; Τι format;

### UC-DXF-017: AI-suggested corrections

**Παράδειγμα**: "Αυτός ο τοίχος δεν είναι ευθεία" / AI εντοπίζει μικρό angle
**Ερωτήσεις**: Αυτόματη διόρθωση ή πρόταση;

### UC-DXF-018: Collaborative step-by-step design

**Παράδειγμα**: "Βοήθησέ με να σχεδιάσω μια κάτοψη βήμα-βήμα"
**Ερωτήσεις**: Πόσο καθοδηγεί η AI; Ρωτάει σε κάθε βήμα;

### UC-DXF-019: Building Code compliance check (ΝΟΚ)

**Παράδειγμα**: "Ελέγχεται αν αυτό το σχέδιο τηρεί τον ΝΟΚ;"
**Ερωτήσεις**: Βλ. ADR-186. Ποιους κανόνες ελέγχει;

### UC-DXF-020: Σχεδίαση εντός οικοπέδου με constraints

**Παράδειγμα**: "Σχεδίασε κτίριο μέσα στο οικόπεδο, τηρώντας τον ΝΟΚ"
**Ερωτήσεις**: Πολύ σύνθετο. Βλ. ADR-186.

---

## Changelog

| Date | Change | By |
|------|--------|-----|
| 2026-02-17 | Initial creation — 8 detailed UCs, 12 placeholders | Claude + Γιώργος |
