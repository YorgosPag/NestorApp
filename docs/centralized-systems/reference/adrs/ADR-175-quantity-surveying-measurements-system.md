# ADR-175: Î£ÏÏƒÏ„Î·Î¼Î± Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÏ‰Î½ (Quantity Surveying / BOQ)

**Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±:** 2026-02-11
**ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·:** Î•Î¡Î•Î¥ÎÎ‘ â€” Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® Î‘Î½Î±Ï†Î¿ÏÎ¬
**Î£Ï…Î³Î³ÏÎ±Ï†Î­Î±Ï‚:** Claude Opus 4.6 + Î“Î¹ÏÏÎ³Î¿Ï‚ Î Î±Î³ÏÎ½Î·Ï‚

---

## 1. Î£ÎºÎ¿Ï€ÏŒÏ‚

Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® Î±Î½Î±Ï†Î¿ÏÎ¬ Î³Î¹Î± Ï„Î·Î½ Î­Î½Ï„Î±Î¾Î· ÏƒÏ…ÏƒÏ„Î®Î¼Î±Ï„Î¿Ï‚ **ÎµÏ€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÏ‰Î½** (Quantity Surveying) ÏƒÏ„Î·Î½ ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Nestor. ÎšÎ±Î»ÏÏ€Ï„ÎµÎ¹:

- **Î§ÎµÎ¹ÏÏ‰Î½Î±ÎºÏ„Î¹ÎºÎ­Ï‚ ÎµÏ€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚** (Phase 1 â€” Î¬Î¼ÎµÏƒÎ· Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ·)
- **Î‘Ï…Ï„ÏŒÎ¼Î±Ï„ÎµÏ‚ ÎµÏ€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ Î±Ï€ÏŒ DXF** (Phase 2 â€” Î¼ÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÎ® Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ·)
- Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Gantt, ÎºÎ¿ÏƒÏ„Î¿Î»ÏŒÎ³Î·ÏƒÎ·, Î¹ÎµÏÎ±ÏÏ‡Î¯Î± ÎºÏ„Î¹ÏÎ¯Ï‰Î½/Î­ÏÎ³Ï‰Î½

---

## 2. Î‘Î½Î¬Î»Ï…ÏƒÎ· Î¥Ï†Î¹ÏƒÏ„Î¬Î¼ÎµÎ½Î·Ï‚ Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ®Ï‚

### 2.1 Î™ÎµÏÎ±ÏÏ‡Î¯Î± ÎŸÎ½Ï„Î¿Ï„Î®Ï„Ï‰Î½ (Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ±)

```
Company (Î•Ï„Î±Î¹ÏÎµÎ¯Î±)
  â””â”€ Project (ÎˆÏÎ³Î¿)
       â””â”€ Building (ÎšÏ„Î¯ÏÎ¹Î¿)
            â”œâ”€ Floor (ÎŒÏÎ¿Ï†Î¿Ï‚)
            â”‚    â””â”€ Unit (ÎœÎ¿Î½Î¬Î´Î±/Î”Î¹Î±Î¼Î­ÏÎ¹ÏƒÎ¼Î±)
            â”œâ”€ Parking Spot (Î˜Î­ÏƒÎ· Î£Ï„Î¬Î¸Î¼ÎµÏ…ÏƒÎ·Ï‚)
            â””â”€ Storage (Î‘Ï€Î¿Î¸Î®ÎºÎ·)
```

### 2.2 Î£Î·Î¼ÎµÎ¯Î± Î£ÏÎ½Î´ÎµÏƒÎ·Ï‚

| Î£ÏÏƒÏ„Î·Î¼Î± | Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î± | Î£Ï‡Î­ÏƒÎ· Î¼Îµ Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ |
|---------|-----------|----------------------|
| **Gantt Chart** | `building-management/` â€” Î±Î½Î¬ **ÎºÏ„Î¯ÏÎ¹Î¿** | Î¦Î¬ÏƒÎµÎ¹Ï‚ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®Ï‚ â†’ ÏƒÏÎ½Î´ÎµÏƒÎ· Ï…Î»Î¹ÎºÏÎ½/ÎµÏÎ³Î±ÏƒÎ¹ÏÎ½ |
| **DXF Viewer** | `subapps/dxf-viewer/` | ÎœÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÎ¬: Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎ¾Î±Î³Ï‰Î³Î® Î¼ÎµÏ„ÏÎ®ÏƒÎµÏ‰Î½ |
| **Measurements (DXF)** | `src/types/measurements.ts` | ÎœÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ Î±Ï€Î¿ÏƒÏ„Î¬ÏƒÎµÏ‰Î½/ÎµÎ¼Î²Î±Î´ÏÎ½ Î¼Î­ÏƒÎ± ÏƒÏ„Î¿ DXF |
| **Construction Phases** | `construction_phases` collection | Î¦Î¬ÏƒÎµÎ¹Ï‚: ÏƒÎºÏ…ÏÏŒÎ´ÎµÎ¼Î±, Ï„Î¿Î¹Ï‡Î¿Ï€Î¿Î¹Î¯Î±, ÏƒÎ¿Î²Î¬Î´ÎµÏ‚ ÎºÎ»Ï€ |
| **Construction Tasks** | `construction_tasks` collection | Î•ÏÎ³Î±ÏƒÎ¯ÎµÏ‚ Î±Î½Î¬ Ï†Î¬ÏƒÎ· |

### 2.3 Î“Î¹Î±Ï„Î¯ Ï„Î¿ Gantt ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î± ÎšÏ„Î¯ÏÎ¹Î± (ÎºÎ±Î¹ ÏŒÏ‡Î¹ ÏƒÏ„Î± ÎˆÏÎ³Î±)

ÎŸ Î“Î¹ÏÏÎ³Î¿Ï‚ Î±Ï€Î¿Ï†Î¬ÏƒÎ¹ÏƒÎµ ÏƒÏ‰ÏƒÏ„Î¬: Î­Î½Î± **ÎˆÏÎ³Î¿** Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ Ï€Î¿Î»Î»Î¬ ÎºÏ„Î¯ÏÎ¹Î± ÏƒÎµ Î´Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÎ¬ ÏƒÏ„Î¬Î´Î¹Î± ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®Ï‚. ÎšÎ¬Î¸Îµ ÎºÏ„Î¯ÏÎ¹Î¿ Î­Ï‡ÎµÎ¹ Ï„Î· Î´Î¹ÎºÎ® Ï„Î¿Ï… Ï‡ÏÎ¿Î½Î¿Î´Î¹Î¬Î³ÏÎ±Î¼Î¼Î±. Î‘Ï…Ï„ÏŒ ÎµÏ…Î¸Ï…Î³ÏÎ±Î¼Î¼Î¯Î¶ÎµÏ„Î±Î¹ Î¼Îµ Ï„Î· Î´Î¹ÎµÎ¸Î½Î® Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ® (Î²Î». Â§4).

---

## 3. ÎˆÏÎµÏ…Î½Î± Î‘Î³Î¿ÏÎ¬Ï‚ â€” Î ÏÏ‚ Ï„Î¿ ÎšÎ¬Î½Î¿Ï…Î½ Î¿Î¹ ÎœÎµÎ³Î¬Î»Î¿Î¹

### 3.1 ÎœÎµÎ³Î¬Î»Î± Î›Î¿Î³Î¹ÏƒÎ¼Î¹ÎºÎ¬ ÎšÎ±Ï„Î±ÏƒÎºÎµÏ…ÏÎ½

| Î›Î¿Î³Î¹ÏƒÎ¼Î¹ÎºÏŒ | Î•Ï„Î±Î¹ÏÎµÎ¯Î± | Î™ÎµÏÎ±ÏÏ‡Î¯Î± BOQ | Î¥Î»Î¹ÎºÎ¬/Î•ÏÎ³Î±ÏƒÎ¯ÎµÏ‚ | Î£ÏÎ½Î´ÎµÏƒÎ· Gantt |
|-----------|----------|-------------|-----------------|---------------|
| **Revit + Navisworks** | Autodesk | Project â†’ Building â†’ Element â†’ Material | ÎÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î¬ schedules | 4D/5D BIM integration |
| **iTWO** | RIB Software | Project â†’ Structure â†’ WBS â†’ BOQ Item | Unified cost model | Î•Î½ÏƒÏ‰Î¼Î±Ï„Ï‰Î¼Î­Î½Î¿ |
| **Vico Office** | Trimble | Project â†’ Location â†’ Task â†’ Resource | Materials + Labor + Equipment | 5D scheduling |
| **PlanSwift** | ConstructConnect | Project â†’ Page â†’ Assembly â†’ Item | Templates Î±Î½Î¬ trade | Export ÏƒÎµ scheduling |
| **CostX** | Exactal | Project â†’ Building â†’ Group â†’ Item | Separate rates | Export |
| **Cubit** | Buildsoft | Project â†’ Trade â†’ BOQ Item | Combined | ÎŒÏ‡Î¹ ÎµÎ½ÏƒÏ‰Î¼Î±Ï„Ï‰Î¼Î­Î½Î¿ |
| **Î•Î¡Î“ÎŸÎ›Î—Î Î¤Î—Î£** | ACE-Hellas | ÎˆÏÎ³Î¿ â†’ Î‘Î¤ÎŸÎ• ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ â†’ Î•ÏÎ³Î±ÏƒÎ¯Î± | Î‘Î¤ÎŸÎ• format | ÎŒÏ‡Î¹ |

### 3.2 ÎšÎ¿Î¹Î½ÏŒ ÎœÎ¿Ï„Î¯Î²Î¿ â€” 5D BIM

Î— Î²Î¹Î¿Î¼Î·Ï‡Î±Î½Î¯Î± ÎºÎ¹Î½ÎµÎ¯Ï„Î±Î¹ Ï€ÏÎ¿Ï‚ Ï„Î¿ **5D BIM**:

```
3D Model (Î³ÎµÏ‰Î¼ÎµÏ„ÏÎ¯Î±)
  + 4D = Î§ÏÎ¿Î½Î¿Ï€ÏÎ¿Î³ÏÎ±Î¼Î¼Î±Ï„Î¹ÏƒÎ¼ÏŒÏ‚ (Gantt)
  + 5D = ÎšÎ¿ÏƒÏ„Î¿Î»ÏŒÎ³Î·ÏƒÎ· (BOQ + Î¤Î¹Î¼Î­Ï‚)
```

**Î’Î±ÏƒÎ¹ÎºÎ® Î±ÏÏ‡Î®:** ÎšÎ¬Î¸Îµ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î¿ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®Ï‚ (element) ÏƒÏ…Î½Î´Î­ÎµÏ„Î±Î¹ Ï„Î±Ï…Ï„ÏŒÏ‡ÏÎ¿Î½Î± Î¼Îµ:
- Î“ÎµÏ‰Î¼ÎµÏ„ÏÎ¹ÎºÎ¬ Î´ÎµÎ´Î¿Î¼Î­Î½Î± (Ï€Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚)
- Î§ÏÎ¿Î½Î¿Î´Î¹Î¬Î³ÏÎ±Î¼Î¼Î± (Ï€ÏŒÏ„Îµ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î¬Î¶ÎµÏ„Î±Î¹)
- ÎšÏŒÏƒÏ„Î¿Ï‚ (Ï…Î»Î¹ÎºÎ¬ + ÎµÏÎ³Î±ÏƒÎ¯Î± + ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚)

### 3.3 Î•Î»Î»Î·Î½Î¹ÎºÎ¬ Î ÏÏŒÏ„Ï…Ï€Î± â€” Î‘Î¤ÎŸÎ•

Î¤Î¿ **Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÏŒ Î¤Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î¿ ÎŸÎ¹ÎºÎ¿Î´Î¿Î¼Î¹ÎºÏÎ½ Î•ÏÎ³ÏÎ½ (Î‘Î¤ÎŸÎ•)** Î¿ÏÎ¯Î¶ÎµÎ¹ Ï„Î¹Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ ÎµÏÎ³Î±ÏƒÎ¹ÏÎ½:

| ÎšÏ‰Î´. | ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î‘Î¤ÎŸÎ• | Î Î±ÏÎ±Î´ÎµÎ¯Î³Î¼Î±Ï„Î± |
|------|----------------|-------------|
| ÎŸÎ™Îš-1 | **Î§Ï‰Î¼Î±Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬** | Î•ÎºÏƒÎºÎ±Ï†Î­Ï‚, ÎµÏ€Î¹Ï‡ÏÏƒÎµÎ¹Ï‚, Î¼ÎµÏ„Î±Ï†Î¿ÏÎ­Ï‚ |
| ÎŸÎ™Îš-2 | **Î£ÎºÏ…ÏÎ¿Î´Î­Î¼Î±Ï„Î±** | Î˜ÎµÎ¼Î­Î»Î¹Î±, Ï€Î»Î¬ÎºÎµÏ‚, ÎºÎ¿Î»ÏÎ½ÎµÏ‚, Î´Î¿ÎºÎ¿Î¯ |
| ÎŸÎ™Îš-3 | **Î¤Î¿Î¹Ï‡Î¿Ï€Î¿Î¹Î¯ÎµÏ‚** | Î¤Î¿ÏÎ²Î»Î±, Î¼Ï€Î»ÏŒÎº, Ï€Î­Ï„ÏÎ± |
| ÎŸÎ™Îš-4 | **Î•Ï€Î¹Ï‡ÏÎ¯ÏƒÎ¼Î±Ï„Î±** | Î£Î¿Î²Î¬Î´ÎµÏ‚ ÎµÏƒÏ‰Ï„./ÎµÎ¾Ï‰Ï„., ÎµÎ¹Î´Î¹ÎºÎ¿Î¯ ÏƒÎ¿Î²Î¬Î´ÎµÏ‚ |
| ÎŸÎ™Îš-5 | **Î Î±Ï„ÏÎ¼Î±Ï„Î±/Î”Î¬Ï€ÎµÎ´Î±** | Î Î»Î±ÎºÎ¬ÎºÎ¹Î±, Î¾ÏÎ»Î¿, Î¼Î¬ÏÎ¼Î±ÏÎ¿, Î¼Ï‰ÏƒÎ±ÏŠÎºÏŒ |
| ÎŸÎ™Îš-6 | **ÎšÎ¿Ï…Ï†ÏÎ¼Î±Ï„Î±** | Î ÏŒÏÏ„ÎµÏ‚, Ï€Î±ÏÎ¬Î¸Ï…ÏÎ±, ÏÎ¿Î»Î¬ |
| ÎŸÎ™Îš-7 | **Î§ÏÏ‰Î¼Î±Ï„Î¹ÏƒÎ¼Î¿Î¯** | Î’Î±Ï†Î­Ï‚ ÎµÏƒÏ‰Ï„./ÎµÎ¾Ï‰Ï„., Î²ÎµÏÎ½Î¯ÎºÎ¹Î± |
| ÎŸÎ™Îš-8 | **Î¥Î´ÏÎ±Ï…Î»Î¹ÎºÎ¬** | Î£Ï‰Î»Î·Î½ÏÏƒÎµÎ¹Ï‚, ÎµÎ¯Î´Î· Ï…Î³Î¹ÎµÎ¹Î½Î®Ï‚, Î¸Î­ÏÎ¼Î±Î½ÏƒÎ· |
| ÎŸÎ™Îš-9 | **Î—Î»ÎµÎºÏ„ÏÎ¿Î»Î¿Î³Î¹ÎºÎ¬** | ÎšÎ±Î»Ï‰Î´Î¹ÏÏƒÎµÎ¹Ï‚, Ï€Î¯Î½Î±ÎºÎµÏ‚, Ï†Ï‰Ï„Î¹ÏƒÎ¼ÏŒÏ‚ |
| ÎŸÎ™Îš-10 | **ÎœÎ¿Î½ÏÏƒÎµÎ¹Ï‚** | Î˜ÎµÏÎ¼Î¿Î¼ÏŒÎ½Ï‰ÏƒÎ·, Ï…Î³ÏÎ¿Î¼ÏŒÎ½Ï‰ÏƒÎ·, Î·Ï‡Î¿Î¼ÏŒÎ½Ï‰ÏƒÎ· |
| ÎŸÎ™Îš-11 | **Î£Î¿Î²Î±Ï„ÎµÏ€Î¯/Î Î¿Î´Î¹Î­Ï‚** | Î£Î¿Î²Î±Ï„ÎµÏ€Î¯ Î´Î±Ï€Î­Î´Ï‰Î½, Ï€Î¿Î´Î¹Î­Ï‚ Ï€Î±ÏÎ±Î¸ÏÏÏ‰Î½ |
| ÎŸÎ™Îš-12 | **ÎœÎµÏ„Î±Î»Î»Î¹ÎºÎ¬** | ÎšÎ¬Î³ÎºÎµÎ»Î±, ÏƒÎºÎ¬Î»ÎµÏ‚, ÎµÎ¹Î´Î¹ÎºÎ­Ï‚ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î­Ï‚ |

### 3.4 Î”Î¹Î±Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î¥Î»Î¹ÎºÏÎ½ vs Î•ÏÎ³Î±ÏƒÎ¹ÏÎ½

**Î”Î¹ÎµÎ¸Î½Î®Ï‚ Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ® (5D BIM maturity):**

ÎšÎ¬Î¸Îµ BOQ item Î±Î½Î±Î»ÏÎµÏ„Î±Î¹ ÏƒÎµ **3 ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± ÎºÏŒÏƒÏ„Î¿Ï…Ï‚**:

| Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î¿ | Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® | ÎœÎ¿Î½Î¬Î´Î± | Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± |
|----------|-----------|--------|-----------|
| **Î¥Î»Î¹ÎºÎ¬** (Materials) | ÎšÏŒÏƒÏ„Î¿Ï‚ Î±Î³Î¿ÏÎ¬Ï‚ Ï…Î»Î¹ÎºÏÎ½ | â‚¬/mÂ², â‚¬/mÂ³, â‚¬/Ï„ÎµÎ¼ | Î Î»Î±ÎºÎ¬ÎºÎ¹Î±: 25â‚¬/mÂ² |
| **Î•ÏÎ³Î±ÏƒÎ¯Î±** (Labor) | ÎšÏŒÏƒÏ„Î¿Ï‚ ÎµÏÎ³Î±Ï„Î¿Ï‰ÏÏÎ½ | â‚¬/ÏÏÎ±, â‚¬/mÂ² | Î¤Î¿Ï€Î¿Î¸Î­Ï„Î·ÏƒÎ·: 15â‚¬/mÂ² |
| **Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚** (Equipment) | ÎœÎ·Ï‡Î±Î½Î®Î¼Î±Ï„Î±/ÎµÏÎ³Î±Î»ÎµÎ¯Î± | â‚¬/Î·Î¼Î­ÏÎ± | Î“ÎµÏÎ±Î½ÏŒÏ‚: 200â‚¬/Î·Î¼Î­ÏÎ± |

**Î•Î»Î»Î·Î½Î¹ÎºÎ® Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ® (Î‘Î¤ÎŸÎ•):** ÎšÎ¬Î¸Îµ Î¬ÏÎ¸ÏÎ¿ Ï„Î¹Î¼Î¿Î»Î¿Î³Î¯Î¿Ï… Ï€ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ Î±Î½Î±Î»Ï…Ï„Î¹ÎºÎ® Ï„Î¹Î¼Î® Ï€Î¿Ï… Î±Î½Î±Î»ÏÎµÏ„Î±Î¹ ÏƒÎµ Ï…Î»Î¹ÎºÎ¬ + ÎµÏÎ³Î±ÏƒÎ¯Î± + Î³ÎµÎ½Î¹ÎºÎ¬ Î­Î¾Î¿Î´Î± + ÎµÏÎ³Î¿Î»Î±Î²Î¹ÎºÏŒ ÎºÎ­ÏÎ´Î¿Ï‚.

---

## 4. Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® Î ÏÏŒÏ„Î±ÏƒÎ·

### 4.1 Î‘Î ÎŸÎ¦Î‘Î£Î—: Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ Î±Î½Î¬ ÎšÎ¤Î™Î¡Î™ÎŸ (ÏŒÏ‡Î¹ Î±Î½Î¬ ÎˆÏÎ³Î¿)

**Î‘Î¹Ï„Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·:**

| ÎšÏÎ¹Ï„Î®ÏÎ¹Î¿ | Î‘Î½Î¬ ÎˆÏÎ³Î¿ | Î‘Î½Î¬ ÎšÏ„Î¯ÏÎ¹Î¿ âœ… |
|----------|---------|--------------|
| Î•Ï…Î¸Ï…Î³ÏÎ¬Î¼Î¼Î¹ÏƒÎ· Î¼Îµ Gantt | âŒ Gantt ÎµÎ¯Î½Î±Î¹ Î±Î½Î¬ ÎºÏ„Î¯ÏÎ¹Î¿ | âœ… ÎŠÎ´Î¹Î¿ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ |
| Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Ï€Î¿Î»Ï…ÎºÏ„Î¹ÏÎ¹Î±ÎºÏÎ½ | âŒ ÎœÏ€ÎµÏÎ´ÎµÎ¼Î­Î½Î¿ | âœ… ÎšÎ±Î¸Î±ÏÏŒÏ‚ Î´Î¹Î±Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒÏ‚ |
| Î•Î»Î»Î·Î½Î¹ÎºÎ® Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ® | â€” | âœ… Î•Ï€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ· Î±Î½Î¬ ÎºÏ„Î¯ÏÎ¹Î¿ |
| Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Î¼Î¿Î½Î¬Î´ÎµÏ‚/Î¿ÏÏŒÏ†Î¿Ï…Ï‚ | âŒ Î§Î¬Î½ÎµÏ„Î±Î¹ Î· ÏƒÏ‡Î­ÏƒÎ· | âœ… Î†Î¼ÎµÏƒÎ· ÏƒÏÎ½Î´ÎµÏƒÎ· |
| DXF ÏƒÏ‡Î­Î´Î¹Î± | âŒ DXF = 1 ÎºÏ„Î¯ÏÎ¹Î¿ | âœ… 1:1 Î±Î½Ï„Î¹ÏƒÏ„Î¿Î¯Ï‡Î¹ÏƒÎ· |
| Î”Î¹ÎµÎ¸Î½Î®Ï‚ Ï€ÏÎ±ÎºÏ„Î¹ÎºÎ® (Revit/iTWO) | â€” | âœ… Element-per-building |

**Î£Ï…Î¼Ï€Î­ÏÎ±ÏƒÎ¼Î±:** ÎŸÎ¹ ÎµÏ€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ Î¼Ï€Î±Î¯Î½Î¿Ï…Î½ ÏƒÏ„Î¿ **Building level**, Î±ÎºÏÎ¹Î²ÏÏ‚ Î´Î¯Ï€Î»Î± ÏƒÏ„Î¿ Gantt chart, Ï‰Ï‚ Î½Î­Î¿ tab ÏƒÏ„Î¿ building management.

**Rollup ÏƒÏ„Î¿ Project:** Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î¿Ï‚ Ï…Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î±Î¸ÏÎ¿Î¯ÏƒÎ¼Î±Ï„Î¿Ï‚ (project BOQ = Î£ building BOQs).

### 4.1.1 Î‘Î ÎŸÎ¦Î‘Î£Î—: Dual Scope â€” ÎšÏ„Î¯ÏÎ¹Î¿ Î® ÎœÎ¿Î½Î¬Î´Î± (Î£Ï…Î¶Î®Ï„Î·ÏƒÎ· Î“Î¹ÏÏÎ³Î¿Ï…)

ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ ÎµÏ€Î¹Î»Î­Î³ÎµÎ¹ **ÎµÎ»ÎµÏÎ¸ÎµÏÎ±** Î±Î½ Î¼Î¹Î± ÎµÏÎ³Î±ÏƒÎ¯Î± Î±Ï†Î¿ÏÎ¬ Î¿Î»ÏŒÎºÎ»Î·ÏÎ¿ Ï„Î¿ ÎºÏ„Î¯ÏÎ¹Î¿ Î® Î¼ÎµÎ¼Î¿Î½Ï‰Î¼Î­Î½Î· Î¼Î¿Î½Î¬Î´Î±:

| Î¤ÏÏ€Î¿Ï‚ Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚ | Scope | Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± |
|----------------|-------|-----------|
| **Î”Î¿Î¼Î¹ÎºÎ¬ / ÎšÎ¿Î¹Î½Î¬** | `building` | ÎœÏ€ÎµÏ„Î¬, Ï„Î¿Î¹Ï‡Î¿Ï€Î¿Î¹Î¯ÎµÏ‚, ÏƒÎºÏ…ÏÏŒÎ´ÎµÎ¼Î±, Î¼Î¿Î½ÏÏƒÎµÎ¹Ï‚, ÏƒÏ„Î­Î³Î· |
| **Î¦Î¹Î½Î¹ÏÎ¯ÏƒÎ¼Î±Ï„Î± / Î‘Ï„Î¿Î¼Î¹ÎºÎ¬** | `unit` | Î Î»Î±ÎºÎ¬ÎºÎ¹Î±, Î´Î¬Ï€ÎµÎ´Î±, Ï‡ÏÏÎ¼Î±Ï„Î±, ÎµÎ¯Î´Î· Ï…Î³Î¹ÎµÎ¹Î½Î®Ï‚, ÎºÎ¿Ï…Î¶Î¯Î½Î± |

**ÎšÏÎ¯ÏƒÎ¹Î¼Î· Î±ÏÏ‡Î® â€” Î Î»Î®ÏÎ·Ï‚ ÎµÎ»ÎµÏ…Î¸ÎµÏÎ¯Î± Ï‡ÏÎ®ÏƒÏ„Î·:**
- Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ **ÎºÎ±Î½Î­Î½Î±Ï‚** Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î¿Ï‚ Ï€ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼ÏŒÏ‚ (Ï€.Ï‡. "Î¼Ï€ÎµÏ„Î¬ = Î¼ÏŒÎ½Î¿ ÎºÏ„Î¯ÏÎ¹Î¿")
- Î‘Î½ ÎºÎ¬Ï€Î¿Î¹Î¿Ï‚ Î¸Î­Î»ÎµÎ¹ Î½Î± Î²Î¬Î»ÎµÎ¹ Î¼Ï€ÎµÏ„Î¬ Î±Î½Î¬ Î¼Î¿Î½Î¬Î´Î±, **Î¼Ï€Î¿ÏÎµÎ¯**
- Î‘Î½ ÎºÎ¬Ï€Î¿Î¹Î¿Ï‚ Î¸Î­Î»ÎµÎ¹ Î½Î± Î²Î¬Î»ÎµÎ¹ Ï€Î»Î±ÎºÎ¬ÎºÎ¹Î± Î±Î½Î¬ ÎºÏ„Î¯ÏÎ¹Î¿ (Î¯Î´Î¹Î± Ï€Î±Î½Ï„Î¿Ï), **Î¼Ï€Î¿ÏÎµÎ¯**
- Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® ÎµÎ¯Î½Î±Î¹ **ÎµÏÎ³Î±Î»ÎµÎ¯Î¿**, Î´ÎµÎ½ ÎµÏ€Î¹Î²Î¬Î»Î»ÎµÎ¹ Î¼ÎµÎ¸Î¿Î´Î¿Î»Î¿Î³Î¯Î±

**Data model impact:**
```typescript
scope: 'building' | 'unit';
linkedUnitId?: string | null;  // null Î±Î½ scope = 'building'
```

### 4.1.2 Î‘Î ÎŸÎ¦Î‘Î£Î—: Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ® vs Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ® Î•Ï€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ· (Variance Analysis)

ÎšÎ¬Î¸Îµ BOQ Item Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ **Î´ÏÎ¿ ÏƒÎµÏ„ Ï€Î¿ÏƒÎ¿Ï„Î®Ï„Ï‰Î½**:

| Î ÎµÎ´Î¯Î¿ | Î£ÎºÎ¿Ï€ÏŒÏ‚ | Î ÏŒÏ„Îµ Î£Ï…Î¼Ï€Î»Î·ÏÏÎ½ÎµÏ„Î±Î¹ |
|-------|--------|-------------------|
| `estimatedQuantity` | Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ® ÎµÎºÏ„Î¯Î¼Î·ÏƒÎ· | Î ÏÎ¹Î½ Ï„Î·Î½ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î® (Î±Ï€ÏŒ ÏƒÏ‡Î­Î´Î¹Î±) |
| `actualQuantity` | Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ® Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± | ÎšÎ±Ï„Î¬/Î¼ÎµÏ„Î¬ Ï„Î·Î½ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î® |
| `variance` | Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î±Ï€ÏŒÎºÎ»Î¹ÏƒÎ· (%) | Computed: `(actual - estimated) / estimated Ã— 100` |

**Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±:**

| Î•ÏÎ³Î±ÏƒÎ¯Î± | Î•ÎºÏ„Î¯Î¼Î·ÏƒÎ· | Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¬ | Î‘Ï€ÏŒÎºÎ»Î¹ÏƒÎ· |
|---------|----------|-----------|----------|
| Î Î»Î±ÎºÎ¬ÎºÎ¹Î± Î´Î±Ï€Î­Î´Î¿Ï… | 120 mÂ² | 128 mÂ² | +6.7% |
| Î£Î¿Î²Î¬Ï‚ ÎµÏƒÏ‰Ï„. | 450 mÂ² | 445 mÂ² | -1.1% |
| ÎšÎ¿Ï…Ï†ÏÎ¼Î±Ï„Î± | 12 Ï„ÎµÎ¼ | 12 Ï„ÎµÎ¼ | 0% |

**ÎŸÏ†Î­Î»Î·:**
- Variance analysis â€” Î¾Î­Ï†Ï…Î³ÎµÏ‚ Î® Î®ÏƒÎ¿Ï…Î½ Î¼Î­ÏƒÎ± ÏƒÏ„Î¿Î½ Ï€ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒ;
- Î™ÏƒÏ„Î¿ÏÎ¹ÎºÎ¬ Î´ÎµÎ´Î¿Î¼Î­Î½Î± â€” Î¼Îµ Ï„Î¿Î½ ÎºÎ±Î¹ÏÏŒ Î¼Î±Î¸Î±Î¯Î½ÎµÎ¹Ï‚ ÏŒÏ„Î¹ "Ï€Î¬Î½Ï„Î± Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏƒÎ±Î¹ +7% Ï€Î»Î±ÎºÎ¬ÎºÎ¹Î±"
- Î Î»Î·ÏÏ‰Î¼Î® Ï…Ï€ÎµÏÎ³Î¿Î»Î¬Î²Ï‰Î½ â€” Î²Î¬ÏƒÎµÎ¹ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÏÎ½ Ï€Î¿ÏƒÎ¿Ï„Î®Ï„Ï‰Î½

**Data model impact:**
```typescript
estimatedQuantity: number;      // Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ®
actualQuantity?: number | null; // Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ® (ÏƒÏ…Î¼Ï€Î»Î·ÏÏÎ½ÎµÏ„Î±Î¹ Î±ÏÎ³ÏŒÏ„ÎµÏÎ±)
// variance Ï…Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ UI, Î´ÎµÎ½ Î±Ï€Î¿Î¸Î·ÎºÎµÏÎµÏ„Î±Î¹
```

### 4.1.3 Î‘Î ÎŸÎ¦Î‘Î£Î—: ÎšÎµÎ½Ï„ÏÎ¹ÎºÏŒÏ‚ Î¤Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ â€” 3 Î•Ï€Î¯Ï€ÎµÎ´Î± ÎšÎ»Î·ÏÎ¿Î½Î¿Î¼Î¹ÎºÏŒÏ„Î·Ï„Î±Ï‚

Enterprise-class Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ Î¼Îµ **inheritance chain** (ÏŒÏ€Ï‰Ï‚ Autodesk, RIB iTWO, Trimble Vico):

```
Î•Ï€Î¯Ï€ÎµÎ´Î¿ 1: Master Price List (ÎµÏ„Î±Î¹ÏÎµÎ¯Î±Ï‚)
  â”‚  "Î’Î±ÏƒÎ¹ÎºÎ­Ï‚ Ï„Î¹Î¼Î­Ï‚ 2026" â€” ÎµÎ½Î·Î¼ÎµÏÏÎ½ÎµÏ„Î±Î¹ 1-2 Ï†Î¿ÏÎ­Ï‚/Ï‡ÏÏŒÎ½Î¿
  â”‚  Î™ÏƒÏ‡ÏÎµÎ¹ Î³Î¹Î± ÎŸÎ›ÎŸÎ¥Î£ Î±Î½ Î´ÎµÎ½ Î³Î¯Î½ÎµÎ¹ override
  â”‚
  â–¼
Î•Ï€Î¯Ï€ÎµÎ´Î¿ 2: Project Override (Î±Î½Î¬ Î­ÏÎ³Î¿)
  â”‚  "Î£Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ Î­ÏÎ³Î¿ Ï„Î± Ï€Î»Î±ÎºÎ¬ÎºÎ¹Î± +10% Î»ÏŒÎ³Ï‰ Î½Î·ÏƒÎ¹Î¿Ï"
  â”‚  Î™ÏƒÏ‡ÏÎµÎ¹ Î³Î¹Î± ÎŸÎ›Î‘ Ï„Î± ÎºÏ„Î¯ÏÎ¹Î± Ï„Î¿Ï… Î­ÏÎ³Î¿Ï… Î±Î½ Î´ÎµÎ½ Î³Î¯Î½ÎµÎ¹ override
  â”‚
  â–¼
Î•Ï€Î¯Ï€ÎµÎ´Î¿ 3: BOQ Item (Ï„ÎµÎ»Î¹ÎºÎ® Ï„Î¹Î¼Î® Î±Î½Î¬ ÎºÏ„Î¯ÏÎ¹Î¿/Î¼Î¿Î½Î¬Î´Î±)
     "Î£Îµ Î±Ï…Ï„ÏŒ Ï„Î¿ ÏƒÏ…Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½Î¿ item Î¹ÏƒÏ‡ÏÎµÎ¹ Î±Ï…Ï„Î® Î· Ï„Î¹Î¼Î®"
     Override Î¼ÏŒÎ½Î¿ Î±Î½ Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ â€” Î±Î»Î»Î¹ÏÏ‚ ÎºÎ»Î·ÏÎ¿Î½Î¿Î¼ÎµÎ¯
```

**Î ÏÏ‚ Î´Î¿Ï…Î»ÎµÏÎµÎ¹ Î· ÎºÎ»Î·ÏÎ¿Î½Î¿Î¼Î¹ÎºÏŒÏ„Î·Ï„Î±:**
- ÎÎ­Î¿ ÎºÏ„Î¯ÏÎ¹Î¿ â†’ Ï„Î¹Î¼Î­Ï‚ Î­ÏÏ‡Î¿Î½Ï„Î±Î¹ **Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î±** Î±Ï€ÏŒ Master
- ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î±Î»Î»Î¬Î¶ÎµÎ¹ **Î¼ÏŒÎ½Î¿ ÏŒ,Ï„Î¹ Î´Î¹Î±Ï†Î­ÏÎµÎ¹** (override)
- Î‘Î»Î»Î±Î³Î® Ï„Î¹Î¼Î®Ï‚ Ï„ÏƒÎ¹Î¼Î­Î½Ï„Î¿Ï… ÏƒÏ„Î·Î½ Î±Î³Î¿ÏÎ¬ â†’ Î±Î»Î»Î¬Î¶ÎµÎ¹Ï‚ **Î¼Î¯Î± Ï†Î¿ÏÎ¬** ÏƒÏ„Î¿ Master â†’ ÎµÏ†Î±ÏÎ¼ÏŒÎ¶ÎµÏ„Î±Î¹ Ï€Î±Î½Ï„Î¿Ï ÎµÎºÏ„ÏŒÏ‚ Î±Î½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ override
- UI Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Î¾ÎµÎºÎ¬Î¸Î±ÏÎ± Î±Î½ Î· Ï„Î¹Î¼Î® ÎµÎ¯Î½Î±Î¹ **inherited** Î® **overridden**

**Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬ Master Price List:**
- Versioning Î±Î½Î¬ Î­Ï„Î¿Ï‚ (Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ 2025, 2026, 2027...)
- Rate build-up: ÎºÎ¬Î¸Îµ ÎµÏÎ³Î±ÏƒÎ¯Î± = Ï…Î»Î¹ÎºÏŒ + ÎµÏÎ³Î±ÏƒÎ¯Î± + ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚
- Î¤Î¹Î¼Î­Ï‚ Î±Î½Î¬ Ï€ÎµÏÎ¹Î¿Ï‡Î® (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ¬: Î‘Î¸Î®Î½Î± â‰  Î˜ÎµÏƒÏƒÎ±Î»Î¿Î½Î¯ÎºÎ· â‰  Î½Î·ÏƒÎ¯)
- Î™ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ Ï„Î¹Î¼ÏÎ½: "Ï„Î¹ Ï€Î»Î·ÏÏÏƒÎ±Î¼Îµ Ï€Î­ÏÏƒÎ¹;"

**Firestore:**
```
boq_price_lists           # Master Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Î¹ (Î±Î½Î¬ ÎµÏ„Î±Î¹ÏÎµÎ¯Î±/Î­Ï„Î¿Ï‚)
boq_price_items           # Items Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î±Î»ÏŒÎ³Î¿Ï… (rate build-ups)
boq_project_overrides     # Overrides Î±Î½Î¬ Î­ÏÎ³Î¿ (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ¬)
```

**Î ÏÏŒÏ„Ï…Ï€Î¿ Î¼ÎµÎ³Î¬Î»Ï‰Î½ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î±ÏƒÏ„Î¹ÎºÏÎ½ (Î‘ÎšÎ¤Î©Î¡, Bouygues, Vinci):**
ÎŒÎ»ÎµÏ‚ Î´Î¹Î±Ï„Î·ÏÎ¿ÏÎ½ ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÏŒ Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î¿ Ï€Î¿Ï… ÎµÎ½Î·Î¼ÎµÏÏÎ½ÎµÏ„Î±Î¹ Ï€ÎµÏÎ¹Î¿Î´Î¹ÎºÎ¬, Î¼Îµ Ï„Î¹Î¼Î­Ï‚ Î±Î½Î¬ Ï€ÎµÏÎ¹Î¿Ï‡Î® ÎºÎ±Î¹ Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ. Î‘Ï…Ï„ÏŒ Î±ÎºÏÎ¹Î²ÏÏ‚ Ï…Î»Î¿Ï€Î¿Î¹Î¿ÏÎ¼Îµ.

### 4.1.4 Î‘Î ÎŸÎ¦Î‘Î£Î—: Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î¿Ï‚ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î¦ÏÏÎ±Ï‚ (Waste Factor)

Enterprise-standard: ÎºÎ¬Î¸Îµ BOQ item Î­Ï‡ÎµÎ¹ **Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· Ï†ÏÏÎ±** (ÏŒÏ€Ï‰Ï‚ iTWO, PlanSwift, CostX, Revit).

**ÎœÎ·Ï‡Î±Î½Î¹ÏƒÎ¼ÏŒÏ‚:**
```
ÎšÎ±Î¸Î±ÏÎ® Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± (net) = Î±Ï…Ï„ÏŒ Ï€Î¿Ï… Î¼ÎµÏ„ÏÎ¬Ï‚ Î±Ï€ÏŒ ÏƒÏ‡Î­Î´Î¹Î±
Î¦ÏÏÎ± (waste %) = default Î±Ï€ÏŒ Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿ Î® override Î±Î½Î¬ item
ÎœÎ¹ÎºÏ„Î® Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± (gross) = net Ã— (1 + wasteFactor) â†’ Î³Î¹Î± Ï€Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î±
```

**Default Ï†ÏÏÎµÏ‚ Î±Î½Î¬ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± (Î‘Î¤ÎŸÎ•):**

| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± | Default Waste | Î‘Î¹Ï„Î¹Î¿Î»Î¿Î³Î¯Î± |
|-----------|--------------|-----------|
| Î Î»Î±ÎºÎ¬ÎºÎ¹Î± / Î”Î¬Ï€ÎµÎ´Î± | 8% | ÎšÎ¿Ï€Î®, ÏƒÏ€Î±ÏƒÎ¯Î¼Î±Ï„Î± |
| Î£Î¿Î²Î¬Î´ÎµÏ‚ / Î•Ï€Î¹Ï‡ÏÎ¯ÏƒÎ¼Î±Ï„Î± | 5% | Spillage |
| Î§ÏÏÎ¼Î±Ï„Î± / Î’ÎµÏÎ½Î¯ÎºÎ¹Î± | 12% | Î£Ï„Î¬Î¾Î¹Î¼Î¿, Î´ÎµÏÏ„ÎµÏÎ¿ Ï‡Î­ÏÎ¹ |
| Î£ÎºÏ…ÏÏŒÎ´ÎµÎ¼Î± | 5% | Spillage, vibrating |
| Î£Î¯Î´Î·ÏÎ¿Ï‚ Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï | 7% | ÎšÎ¿Ï€Î®, overlaps |
| Î¤Î¿Î¹Ï‡Î¿Ï€Î¿Î¹Î¯Î± | 5% | Î£Ï€Î±ÏƒÎ¯Î¼Î±Ï„Î± Ï„Î¿ÏÎ²Î»Ï‰Î½ |
| ÎœÎ¿Î½ÏÏƒÎµÎ¹Ï‚ | 6% | ÎšÎ¿Ï€Î®, overlaps |
| ÎšÎ¿Ï…Ï†ÏÎ¼Î±Ï„Î± | 0% | Î¤ÎµÎ¼Î¬Ï‡Î¹Î± â€” Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï†ÏÏÎ± |
| Î•Î¯Î´Î· Ï…Î³Î¹ÎµÎ¹Î½Î®Ï‚ | 0% | Î¤ÎµÎ¼Î¬Ï‡Î¹Î± |
| Î£Ï‰Î»Î·Î½ÏÏƒÎµÎ¹Ï‚ | 5% | ÎšÎ¿Ï€Î®, ÏƒÏÎ½Î´ÎµÏƒÎ¼Î¿Î¹ |

**ÎšÎ±Î½ÏŒÎ½ÎµÏ‚:**
- Default waste **ÎºÎ»Î·ÏÎ¿Î½Î¿Î¼ÎµÎ¯Ï„Î±Î¹** Î±Ï€ÏŒ Ï„Î¿Î½ Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿
- ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎºÎ¬Î½ÎµÎ¹ **override** Î±Î½Î¬ item
- Î— Î¼Î¹ÎºÏ„Î® Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î± **ÎºÎ¿ÏƒÏ„Î¿Î»ÏŒÎ³Î·ÏƒÎ· ÎºÎ±Î¹ Ï€Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î±**
- Î— ÎºÎ±Î¸Î±ÏÎ® Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î³Î¹Î± **Î¼Î­Ï„ÏÎ·ÏƒÎ· Ï€ÏÎ¿ÏŒÎ´Î¿Ï…**

**Data model impact:**
```typescript
netQuantity: number;           // ÎšÎ±Î¸Î±ÏÎ® Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± (Î±Ï€ÏŒ Î¼Î­Ï„ÏÎ·ÏƒÎ·)
wasteFactor: number;           // 0.08 = 8% (default Î® override)
// grossQuantity = netQuantity Ã— (1 + wasteFactor) â†’ computed
// totalCost = grossQuantity Ã— unitCost â†’ computed
```

---

### 4.2 Î™ÎµÏÎ±ÏÏ‡Î¯Î± Î”ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½

```
Building (ÎšÏ„Î¯ÏÎ¹Î¿)
  â””â”€ BOQ (Î•Ï€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ· ÎšÏ„Î¹ÏÎ¯Î¿Ï…)
       â”œâ”€ BOQ Category (Î‘Î¤ÎŸÎ• ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±)
       â”‚    â”œâ”€ BOQ Item (Î•ÏÎ³Î±ÏƒÎ¯Î±/Î¥Î»Î¹ÎºÏŒ)
       â”‚    â”‚    â”œâ”€ quantity (Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î±)
       â”‚    â”‚    â”œâ”€ unit (Î¼Î¿Î½Î¬Î´Î±: mÂ², mÂ³, m, Ï„ÎµÎ¼, kg)
       â”‚    â”‚    â”œâ”€ materialCost (ÎºÏŒÏƒÏ„Î¿Ï‚ Ï…Î»Î¹ÎºÎ¿Ï)
       â”‚    â”‚    â”œâ”€ laborCost (ÎºÏŒÏƒÏ„Î¿Ï‚ ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚)
       â”‚    â”‚    â”œâ”€ equipmentCost (ÎºÏŒÏƒÏ„Î¿Ï‚ ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï)
       â”‚    â”‚    â”œâ”€ source: 'manual' | 'dxf-auto' | 'dxf-verified'
       â”‚    â”‚    â””â”€ linkedPhaseId? (ÏƒÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Gantt phase)
       â”‚    â””â”€ BOQ Item ...
       â””â”€ BOQ Category ...

Project (ÎˆÏÎ³Î¿) â€” rollup
  â””â”€ Project BOQ Summary = Î£(Building BOQs)
```

### 4.3 Modular Architecture â€” 5 Modules

Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® 5 Î±Î½ÎµÎ¾Î¬ÏÏ„Î·Ï„Ï‰Î½ modules Ï€Î¿Ï… Î¼Î¿Î¹ÏÎ¬Î¶Î¿Î½Ï„Î±Î¹ **Î­Î½Î± canonical data model** (BoqItem):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                  â”‚
â”‚  MODULE 1: measurements-domain (Ï€Ï…ÏÎ®Î½Î±Ï‚)                        â”‚
â”‚  Types, validations, cost engine, repository interfaces          â”‚
â”‚  Shared by ALL other modules                                     â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  MODULE 2: measurements-manual-ui                                â”‚
â”‚  Building tab CRUD, filters, templates, inline edit              â”‚
â”‚  Phase A â€” Î¬Î¼ÎµÏƒÎ· Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ·                                       â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  MODULE 3: measurements-gantt-bridge                             â”‚
â”‚  Phase/task linking, phase cost summaries, cash-flow projection  â”‚
â”‚  Phase B â€” ÏƒÏÎ½Î´ÎµÏƒÎ· Gantt â†” BOQ                                   â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  MODULE 4: measurements-dxf-adapter                              â”‚
â”‚  DXF geometry â†’ normalized BoqItem payloads (source='dxf-auto')  â”‚
â”‚  Phase C â€” Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎ¾Î±Î³Ï‰Î³Î®                                      â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  MODULE 5: measurements-reporting                                â”‚
â”‚  Project rollup, Excel/PDF export, variance reports, dashboards  â”‚
â”‚  Phase D â€” Î±Î½Î±Ï†Î¿ÏÎ­Ï‚ & ÎµÎ¾Î±Î³Ï‰Î³Î®                                    â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ÎšÎ±Î½ÏŒÎ½Î±Ï‚:** ÎŒÎ»Î± Ï„Î± modules Î³ÏÎ¬Ï†Î¿Ï…Î½/Î´Î¹Î±Î²Î¬Î¶Î¿Ï…Î½ Ï„Î± **Î¯Î´Î¹Î± canonical contracts** (BOQItem, BOQCategory, BOQSummary).

**DXF verification workflow:**
```
dxf-adapter ÎµÎ¾Î¬Î³ÎµÎ¹ â†’ source = 'dxf_auto' (draft)
  â”‚
  â–¼
Î§ÏÎ®ÏƒÏ„Î·Ï‚ ÎµÎ»Î­Î³Ï‡ÎµÎ¹/ÎµÏ€Î¹Î²ÎµÎ²Î±Î¹ÏÎ½ÎµÎ¹ â†’ source = 'dxf_verified' (confirmed)
  â”‚
  â–¼
Audit trail: Ï€Î¿Î¹Î¿Ï‚ ÎµÏ€Î¹Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎµ, Ï€ÏŒÏ„Îµ, Ï„Î¹ Î¬Î»Î»Î±Î¾Îµ
```

### 4.3.1 Risks & Controls

| # | ÎšÎ¯Î½Î´Ï…Î½Î¿Ï‚ | Î Î¹Î¸Î±Î½ÏŒÏ„Î·Ï„Î± | Î‘Î½Ï„Î¯Î¼ÎµÏ„ÏÎ¿ |
|---|---------|-----------|----------|
| 1 | **Duplicate models** Î¼ÎµÏ„Î±Î¾Ï DXF ÎºÎ±Î¹ BOQ | ÎœÎµÏƒÎ±Î¯Î± | ÎˆÎ½Î± canonical BoqItem contract â€” ÎºÎ±Î½Î­Î½Î± Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„ÏŒ model |
| 2 | **Hierarchy chaos** (editing ÏƒÏ„Î¿ project level) | Î¥ÏˆÎ·Î»Î® | Building-level ownership + project = read-only rollup |
| 3 | **Schedule/cost disconnect** (Gantt Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î¬) | ÎœÎµÏƒÎ±Î¯Î± | Explicit `linkedPhaseId`/`linkedTaskId` foreign keys |
| 4 | **DXF auto-trust** (Î»Î¬Î¸Î¿Ï‚ Î±Ï…Ï„ÏŒÎ¼Î±Ï„ÎµÏ‚ Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚) | Î¥ÏˆÎ·Î»Î® | Mandatory verification state: `dxf_auto â†’ dxf_verified` + audit trail |
| 5 | **Î¤Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ stale** (Î¾ÎµÏ€ÎµÏÎ±ÏƒÎ¼Î­Î½ÎµÏ‚ Ï„Î¹Î¼Î­Ï‚) | ÎœÎµÏƒÎ±Î¯Î± | Versioning Î±Î½Î¬ Î­Ï„Î¿Ï‚ + UI warning Î±Î½ Î¿ Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ > 6 Î¼Î®Î½ÎµÏ‚ |
| 6 | **Waste factor abuse** (Ï…Ï€ÎµÏÎ²Î¿Î»Î¹ÎºÎ® Ï†ÏÏÎ±) | Î§Î±Î¼Î·Î»Î® | Default limits + visual indicator Î±Î½ > 15% |

### 4.4 Firestore Collections

```
# ÎÎ­Î± collections â€” BOQ core
boq_categories          # ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ Î‘Î¤ÎŸÎ• (master data, shared)
boq_items               # Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ (ÎºÏÏÎ¹Î¿ entity â€” Î±Î½Î¬ ÎºÏ„Î¯ÏÎ¹Î¿ Î® Î¼Î¿Î½Î¬Î´Î±)
boq_templates           # Î ÏÏŒÏ„Ï…Ï€Î± (Ï€.Ï‡. "Î¤Ï…Ï€Î¹ÎºÎ® ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î± 100mÂ²")
boq_price_lists         # Master Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Î¹ (Î±Î½Î¬ ÎµÏ„Î±Î¹ÏÎµÎ¯Î±/Î­Ï„Î¿Ï‚)
boq_price_items         # Items Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î±Î»ÏŒÎ³Î¿Ï… (rate build-ups)
boq_project_overrides   # Overrides Ï„Î¹Î¼ÏÎ½ Î±Î½Î¬ Î­ÏÎ³Î¿

# ÎÎ­Î± collections â€” Gantt integration (Â§4.5)
boq_task_links          # Many-to-many BOQâ†”Phase/Task (with weightPct)
construction_milestones # ÎŸÏÏŒÏƒÎ·Î¼Î± Ï‰Ï‚ first-class entity (Î±Î½Ï„Î¯ static)

# Composite indexes needed
boq_items: companyId + projectId + buildingId
boq_items: buildingId + categoryCode + createdAt
boq_items: buildingId + scope + status
boq_items: buildingId + source + status
boq_items: buildingId + linkedPhaseId
boq_price_items: priceListId + categoryCode
boq_task_links: buildingId + boqItemId
boq_task_links: buildingId + phaseId
construction_milestones: buildingId + type + status
```

### 4.4.1 Î‘Î ÎŸÎ¦Î‘Î£Î—: Î£ÏÎ½Î´ÎµÏƒÎ· BOQ â†” Accounting â€” Bridge Now, UI Later

**Î‘ÏÏ‡Î®:** Design for integration NOW, implement UI LATER.

ÎŒÎ»ÎµÏ‚ Î¿Î¹ enterprise ÎµÏ„Î±Î¹ÏÎµÎ¯ÎµÏ‚ (iTWO, Primavera, Procore) ÎºÎ±Î¹ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î±ÏƒÏ„Î¹ÎºÎ­Ï‚ (Î‘ÎšÎ¤Î©Î¡, Î•Î›Î›Î‘ÎšÎ¤Î©Î¡, Bouygues) ÏƒÏ…Î½Î´Î­Î¿Ï…Î½ BOQ â†” Î›Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ®. Î”ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ â€” ÎµÎ¯Î½Î±Î¹ Î²Î±ÏƒÎ¹ÎºÏŒ.

**Î¤Î¹ ÎºÎ¬Î½Î¿Ï…Î¼Îµ Î¤Î©Î¡Î‘ (Phase 1):**
- Î ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î¼Îµ Ï„Î± Ï€ÎµÎ´Î¯Î± ÏƒÏÎ½Î´ÎµÏƒÎ·Ï‚ ÏƒÏ„Î¿ BOQItem data model
- ÎšÏŒÏƒÏ„Î¿Ï‚: Î¼Î·Î´ÎµÎ½Î¹ÎºÏŒ (2 nullable Ï€ÎµÎ´Î¯Î±)
- ÎšÎ­ÏÎ´Î¿Ï‚: Î±Ï€Î¿Ï†ÎµÏÎ³Î¿Ï…Î¼Îµ painful migration Î±ÏÎ³ÏŒÏ„ÎµÏÎ±

```typescript
// Î ÎµÎ´Î¯Î± ÏƒÏ„Î¿ BOQItem â€” Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î±Ï€ÏŒ Phase 1, Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î¿ÏÎ½Ï„Î±Î¹ ÏƒÎµ Phase D
linkedInvoiceId: string | null;     // Î‘Î½Ï„Î¹ÏƒÏ„Î¿Î¯Ï‡Î¹ÏƒÎ· Î¼Îµ Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î¿ accounting
linkedContractorId: string | null;  // Î Î¿Î¹Î¿Ï‚ Ï…Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï‚ Î±Î½Î±Î»Î±Î¼Î²Î¬Î½ÎµÎ¹
```

**Î¤Î¹ Ï‡Ï„Î¯Î¶Î¿Ï…Î¼Îµ Î‘Î¡Î“ÎŸÎ¤Î•Î¡Î‘ (Phase D):**
- Budget vs Invoiced dashboard
- "Î£Î¿Î²Î¬Î´ÎµÏ‚: budget 7.170â‚¬ â†’ Ï„Î¹Î¼Î¿Î»Î¿Î³Î·Î¼Î­Î½Î± 7.000â‚¬ â†’ Ï…Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ 170â‚¬"
- Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î±Î½Ï„Î¹ÏƒÏ„Î¿Î¯Ï‡Î¹ÏƒÎ· Ï„Î¹Î¼Î¿Î»Î¿Î³Î¯Ï‰Î½ Î¼Îµ Ï†Î¬ÏƒÎµÎ¹Ï‚ BOQ
- Alerts: "ÎŸ Ï…Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï‚ Î¾ÎµÏ€Î­ÏÎ±ÏƒÎµ Ï„Î¿Î½ Ï€ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒ ÎºÎ±Ï„Î¬ 15%"

**Î“Î¹Î±Ï„Î¯ bridge now:**
- Î‘Î½ Î”Î•Î Î²Î¬Î»Î¿Ï…Î¼Îµ Ï„Î± Ï€ÎµÎ´Î¯Î± Ï„ÏÏÎ± â†’ retrofit Î±ÏÎ³ÏŒÏ„ÎµÏÎ± = migration + ÏƒÏ€Î¬Î½Îµ Î´ÎµÎ´Î¿Î¼Î­Î½Î±
- Î‘Î½ Ï„Î± Î²Î¬Î»Î¿Ï…Î¼Îµ Ï„ÏÏÎ± (null) â†’ ÏƒÏÎ½Î´ÎµÏƒÎ· Î±ÏÎ³ÏŒÏ„ÎµÏÎ± Î³Î¯Î½ÎµÏ„Î±Î¹ trivially

### 4.4.2 Î‘Î ÎŸÎ¦Î‘Î£Î—: UI Strategy â€” Î£Ï‡ÎµÎ´Î¹Î±ÏƒÎ¼ÏŒÏ‚ Î Î±ÏÎ¬Î»Î»Î·Î»Î±, Î¥Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· ÎœÎµÏ„Î¬ Ï„Î¿Î½ Î Ï…ÏÎ®Î½Î±

**Î‘Ï€ÏŒÏ†Î±ÏƒÎ·:** Î•Ï€Î¹Î»Î¿Î³Î® **(Î’) Î Î±ÏÎ¬Î»Î»Î·Î»Î±** â€” wireframes/screens ÏƒÏ‡ÎµÎ´Î¹Î¬Î¶Î¿Î½Ï„Î±Î¹ Î¤Î©Î¡Î‘, implementation ÎœÎ•Î¤Î‘ Ï„Î¿Î½ Ï€Ï…ÏÎ®Î½Î±.

**Î£ÎµÎ¹ÏÎ¬ ÎµÎºÏ„Î­Î»ÎµÏƒÎ·Ï‚:**
1. Î£Ï‡ÎµÎ´Î¹Î±ÏƒÎ¼ÏŒÏ‚ screens/flows (ÎºÎµÎ¯Î¼ÎµÎ½Î¿ â€” Î±Ï…Ï„Î® Î· ÎµÎ½ÏŒÏ„Î·Ï„Î±)
2. Î¥Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Ï€Ï…ÏÎ®Î½Î± (types, service, repository, cost engine)
3. Î¥Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· UI (React components Î²Î¬ÏƒÎµÎ¹ ÏƒÏ‡ÎµÎ´Î¹Î±ÏƒÎ¼Î¿Ï)

### 4.4.3 UI Screens & Flows â€” Î£Ï‡ÎµÎ´Î¹Î±ÏƒÎ¼ÏŒÏ‚

#### SCREEN 1: Building Tab "Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚"
**Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±:** Building Detail â†’ Î½Î­Î¿ tab Î´Î¯Ï€Î»Î± ÏƒÏ„Î¿ "Î§ÏÎ¿Î½Î¿Î´Î¹Î¬Î³ÏÎ±Î¼Î¼Î±"
**Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [Summary Cards]                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Î¥Î»Î¹ÎºÎ¬    â”‚ â”‚ Î•ÏÎ³Î±ÏƒÎ¯ÎµÏ‚ â”‚ â”‚ Î•Î¾Î¿Ï€Î»Î¹Ïƒ. â”‚ â”‚ Î£Î¥ÎÎŸÎ›ÎŸ   â”‚ â”‚
â”‚ â”‚ 45.200â‚¬  â”‚ â”‚ 28.100â‚¬  â”‚ â”‚ 3.400â‚¬   â”‚ â”‚ 76.700â‚¬  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                       â”‚
â”‚ [Î¦Î¯Î»Ï„ÏÎ±] Scope: ÎŒÎ»Î±|ÎšÏ„Î¯ÏÎ¹Î¿|ÎœÎ¿Î½Î¬Î´Î±  Status: ÎŒÎ»Î±|...  â”‚
â”‚                                                       â”‚
â”‚ [Accordion: ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ Î‘Î¤ÎŸÎ•]                          â”‚
â”‚ â–¼ ÎŸÎ™Îš-1: Î§Ï‰Î¼Î±Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬ (3 items â€” 8.200â‚¬)            â”‚
â”‚ â–¼ ÎŸÎ™Îš-2: Î£ÎºÏ…ÏÎ¿Î´Î­Î¼Î±Ï„Î± (5 items â€” 22.400â‚¬)            â”‚
â”‚ â–¶ ÎŸÎ™Îš-3: Î¤Î¿Î¹Ï‡Î¿Ï€Î¿Î¹Î¯ÎµÏ‚ (4 items â€” 6.800â‚¬)             â”‚
â”‚ â–¶ ÎŸÎ™Îš-4: Î•Ï€Î¹Ï‡ÏÎ¯ÏƒÎ¼Î±Ï„Î± (6 items â€” 12.300â‚¬)             â”‚
â”‚ â–¶ ÎŸÎ™Îš-5: Î”Î¬Ï€ÎµÎ´Î± (8 items â€” 18.500â‚¬)                  â”‚
â”‚ ...                                                   â”‚
â”‚                                                       â”‚
â”‚ [Expanded Category: ÎŸÎ™Îš-2 Î£ÎºÏ…ÏÎ¿Î´Î­Î¼Î±Ï„Î±]               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ #  â”‚ Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®      â”‚ ÎœÎ¿Î½â”‚ Î Î¿Ïƒ. â”‚ Î¦ÏÏÎ±% â”‚ ÎšÏŒÏƒÏ„Î¿Ï‚   â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ 1  â”‚ Î˜ÎµÎ¼Î­Î»Î¹Î± C25/30 â”‚ mÂ³ â”‚ 45   â”‚ 5%    â”‚ 6.307â‚¬   â”‚â”‚
â”‚ â”‚ 2  â”‚ Î Î»Î¬ÎºÎ± Î¿ÏÎ¿Ï†Î®Ï‚   â”‚ mÂ³ â”‚ 38   â”‚ 5%    â”‚ 5.320â‚¬   â”‚â”‚
â”‚ â”‚ 3  â”‚ ÎšÎ¿Î»ÏÎ½ÎµÏ‚        â”‚ mÂ³ â”‚ 22   â”‚ 5%    â”‚ 3.234â‚¬   â”‚â”‚
â”‚ â”‚ +  â”‚ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· item  â”‚    â”‚      â”‚       â”‚          â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                       â”‚
â”‚ [Actions Bar]                                         â”‚
â”‚ [+ ÎÎ­Î¿ Item] [ğŸ“¥ Import Excel] [ğŸ“¤ Export] [ğŸ–¨ï¸ PDF]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### SCREEN 2: BOQ Item Editor (Modal/Drawer)
**Trigger:** Click ÏƒÎµ item Î® "+ ÎÎ­Î¿ Item"
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± Î•ÏÎ³Î±ÏƒÎ¯Î±Ï‚                          [âœ•]    â”‚
â”‚                                                       â”‚
â”‚ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±:  [ÎŸÎ™Îš-2: Î£ÎºÏ…ÏÎ¿Î´Î­Î¼Î±Ï„Î±     â–¼]              â”‚
â”‚ Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®:  [Î˜ÎµÎ¼Î­Î»Î¹Î± C25/30              ]            â”‚
â”‚ Î ÏÎ¿Î´Î¹Î±Î³ÏÎ±Ï†Î­Ï‚: [Î£ÎºÏ…ÏÏŒÎ´ÎµÎ¼Î± C25/30, XC2     ]           â”‚
â”‚                                                       â”‚
â”‚ â”€â”€ Scope â”€â”€                                           â”‚
â”‚ (â—) ÎšÏ„Î¯ÏÎ¹Î¿  ( ) ÎœÎ¿Î½Î¬Î´Î± â†’ [Î•Ï€Î¹Î»Î¿Î³Î® Î¼Î¿Î½Î¬Î´Î±Ï‚ â–¼]        â”‚
â”‚ ÎŒÏÎ¿Ï†Î¿Ï‚: [â€” Î ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ â€”  â–¼]                         â”‚
â”‚ Î¤ÏÏ€Î¿Ï‚ Ï‡ÏÏÎ¿Ï…: [â€” Î ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÏŒ â€” â–¼]                     â”‚
â”‚                                                       â”‚
â”‚ â”€â”€ Î Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚ â”€â”€                                       â”‚
â”‚ ÎœÎ¿Î½Î¬Î´Î±:       [mÂ³  â–¼]                                 â”‚
â”‚ Î•ÎºÏ„Î¯Î¼Î·ÏƒÎ·:     [45      ] mÂ³                           â”‚
â”‚ Î¦ÏÏÎ±:         [5   ] %  (default: 5%)                 â”‚
â”‚ ÎœÎ¹ÎºÏ„Î®:        47.25 mÂ³  (auto)                        â”‚
â”‚ Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ®:   [â€”       ] mÂ³ (ÏƒÏ…Î¼Ï€Î»Î·ÏÏÎ½ÎµÏ„Î±Î¹ Î±ÏÎ³ÏŒÏ„ÎµÏÎ±)  â”‚
â”‚                                                       â”‚
â”‚ â”€â”€ ÎšÏŒÏƒÏ„Î¿Ï‚ Î±Î½Î¬ Î¼Î¿Î½Î¬Î´Î± â”€â”€  [ğŸ”— Î‘Ï€ÏŒ Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿]       â”‚
â”‚ Î¥Î»Î¹ÎºÏŒ:        [85.00  ] â‚¬/mÂ³  â“˜ inherited             â”‚
â”‚ Î•ÏÎ³Î±ÏƒÎ¯Î±:      [35.00  ] â‚¬/mÂ³  â“˜ inherited             â”‚
â”‚ Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚:   [13.00  ] â‚¬/mÂ³  âœï¸ overridden           â”‚
â”‚                                                       â”‚
â”‚ â”€â”€ Î£ÏÎ½Î¿Î»Î± (auto) â”€â”€                                   â”‚
â”‚ Î¥Î»Î¹ÎºÏŒ:     47.25 Ã— 85.00 = 4.016,25â‚¬                 â”‚
â”‚ Î•ÏÎ³Î±ÏƒÎ¯Î±:   47.25 Ã— 35.00 = 1.653,75â‚¬                 â”‚
â”‚ Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚: 47.25 Ã— 13.00 = 614,25â‚¬                  â”‚
â”‚ Î£Î¥ÎÎŸÎ›ÎŸ:     6.284,25â‚¬                                 â”‚
â”‚                                                       â”‚
â”‚ â”€â”€ Î£Ï…Î½Î´Î­ÏƒÎµÎ¹Ï‚ â”€â”€                                       â”‚
â”‚ Î¦Î¬ÏƒÎ· Gantt:     [PH-002: Î£ÎºÏ…ÏÎ¿Î´Î­Î¼Î±Ï„Î±  â–¼]             â”‚
â”‚ Î¥Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï‚:   [â€” ÎšÎ±Î½Î­Î½Î±Ï‚ â€”           â–¼]             â”‚
â”‚                                                       â”‚
â”‚ Î£Î·Î¼ÎµÎ¹ÏÏƒÎµÎ¹Ï‚: [                              ]          â”‚
â”‚ Î ÏÎ¿Î­Î»ÎµÏ…ÏƒÎ·: manual  Status: [draft â–¼]                  â”‚
â”‚                                                       â”‚
â”‚            [Î‘ÎºÏÏÏ‰ÏƒÎ·]  [ğŸ’¾ Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ·]                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### SCREEN 3: Project Rollup (read-only)
**Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±:** Project Detail â†’ Tab/Card "Î£Ï…Î³ÎºÎµÎ½Ï„ÏÏ‰Ï„Î¹ÎºÎ® Î•Ï€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ·"
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Î£Ï…Î³ÎºÎµÎ½Ï„ÏÏ‰Ï„Î¹ÎºÎ® Î•Ï€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ· ÎˆÏÎ³Î¿Ï…                       â”‚
â”‚                                                       â”‚
â”‚ [Î‘Î½Î¬ ÎšÏ„Î¯ÏÎ¹Î¿]                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ÎšÏ„Î¯ÏÎ¹Î¿         â”‚ Î¥Î»Î¹ÎºÎ¬    â”‚ Î•ÏÎ³Î±ÏƒÎ¯ÎµÏ‚ â”‚ Î£ÏÎ½Î¿Î»Î¿     â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ ÎšÏ„Î¯ÏÎ¹Î¿ Î‘       â”‚ 45.200â‚¬  â”‚ 28.100â‚¬  â”‚ 76.700â‚¬    â”‚â”‚
â”‚ â”‚ ÎšÏ„Î¯ÏÎ¹Î¿ Î’       â”‚ 38.400â‚¬  â”‚ 22.800â‚¬  â”‚ 64.200â‚¬    â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ Î£Î¥ÎÎŸÎ›ÎŸ Î•Î¡Î“ÎŸÎ¥   â”‚ 83.600â‚¬  â”‚ 50.900â‚¬  â”‚ 140.900â‚¬   â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                       â”‚
â”‚ [Î‘Î½Î¬ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± â€” cross-building]                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±              â”‚ Î£ÏÎ½Î¿Î»Î¿   â”‚ % Î ÏÎ¿Ï‹Ï€.       â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ ÎŸÎ™Îš-2: Î£ÎºÏ…ÏÎ¿Î´Î­Î¼Î±Ï„Î±    â”‚ 32.400â‚¬  â”‚ 23%            â”‚â”‚
â”‚ â”‚ ÎŸÎ™Îš-5: Î”Î¬Ï€ÎµÎ´Î±         â”‚ 28.500â‚¬  â”‚ 20%            â”‚â”‚
â”‚ â”‚ ÎŸÎ™Îš-4: Î•Ï€Î¹Ï‡ÏÎ¯ÏƒÎ¼Î±Ï„Î±    â”‚ 18.200â‚¬  â”‚ 13%            â”‚â”‚
â”‚ â”‚ ...                    â”‚          â”‚                â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                       â”‚
â”‚ [Variance Summary â€” Î±Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ actual quantities]    â”‚
â”‚ Î•ÎºÏ„Î¯Î¼Î·ÏƒÎ·: 140.900â‚¬  Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¬: 148.200â‚¬  +5.2%      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### SCREEN 4: Î¤Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ (Master Price List)
**Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±:** Settings Î® Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î® ÏƒÎµÎ»Î¯Î´Î±
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Î¤Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ 2026              [+ ÎÎ­Î¿Ï‚ ÎšÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚]   â”‚
â”‚                                                       â”‚
â”‚ [Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ·: _________ ]  [ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: ÎŒÎ»ÎµÏ‚ â–¼]        â”‚
â”‚                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ÎšÏ‰Î´â”‚ Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®         â”‚ÎœÎ¿Î½ â”‚Î¥Î»Î¹ÎºÏŒ  â”‚Î•ÏÎ³Î±Ïƒ. â”‚Î¦ÏÏÎ±% â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚2.1 â”‚ Î£ÎºÏ…ÏÏŒÎ´ÎµÎ¼Î± C20/25 â”‚ mÂ³ â”‚ 80â‚¬   â”‚ 30â‚¬   â”‚ 5%   â”‚â”‚
â”‚ â”‚2.2 â”‚ Î£ÎºÏ…ÏÏŒÎ´ÎµÎ¼Î± C25/30 â”‚ mÂ³ â”‚ 85â‚¬   â”‚ 35â‚¬   â”‚ 5%   â”‚â”‚
â”‚ â”‚5.1 â”‚ Î Î»Î±ÎºÎ¬ÎºÎ¹Î± 60x60   â”‚ mÂ² â”‚ 25â‚¬   â”‚ 15â‚¬   â”‚ 8%   â”‚â”‚
â”‚ â”‚5.2 â”‚ ÎÏÎ»Î¹Î½Î¿ Î´Î¬Ï€ÎµÎ´Î¿    â”‚ mÂ² â”‚ 45â‚¬   â”‚ 20â‚¬   â”‚ 6%   â”‚â”‚
â”‚ â”‚ +  â”‚ Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· item    â”‚    â”‚       â”‚       â”‚      â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                                       â”‚
â”‚ [ğŸ“¥ Import Excel] [ğŸ“¤ Export] [ğŸ“‹ Î‘Î½Ï„Î¹Î³ÏÎ±Ï†Î®â†’2027]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### FLOW 1: Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î½Î­Î¿Ï… BOQ Item
```
1. Î§ÏÎ®ÏƒÏ„Î·Ï‚ â†’ Tab "Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚" ÏƒÏ„Î¿ ÎºÏ„Î¯ÏÎ¹Î¿
2. Click "+ ÎÎ­Î¿ Item" Î® "+" ÏƒÎµ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±
3. Modal editor Î±Î½Î¿Î¯Î³ÎµÎ¹ (Screen 2)
4. Î•Ï€Î¹Î»Î¿Î³Î® ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚ â†’ auto-fill Î¼Î¿Î½Î¬Î´Î± + default Ï†ÏÏÎ±
5. Click "Î‘Ï€ÏŒ Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿" â†’ Ï„Î¹Î¼Î­Ï‚ auto-fill (inherited)
6. Î§ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎºÎ¬Î½ÎµÎ¹ override Ï„Î¹Î¼Î­Ï‚
7. Î‘Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· â†’ item ÎµÎ¼Ï†Î±Î½Î¯Î¶ÎµÏ„Î±Î¹ ÏƒÏ„Î· Î»Î¯ÏƒÏ„Î±
8. Summary cards ÎµÎ½Î·Î¼ÎµÏÏÎ½Î¿Î½Ï„Î±Î¹ real-time
```

#### FLOW 2: Import Î±Ï€ÏŒ Excel
```
1. Î§ÏÎ®ÏƒÏ„Î·Ï‚ â†’ Click "ğŸ“¥ Import Excel"
2. Upload .xlsx Î±ÏÏ‡ÎµÎ¯Î¿
3. Î£ÏÏƒÏ„Î·Î¼Î± validates (ÏƒÏ„Î®Î»ÎµÏ‚, Î¼Î¿Î½Î¬Î´ÎµÏ‚, duplicates)
4. Preview: Ï€Î¯Î½Î±ÎºÎ±Ï‚ Î¼Îµ âœ…/âŒ Î±Î½Î¬ Î³ÏÎ±Î¼Î¼Î®
5. Î§ÏÎ®ÏƒÏ„Î·Ï‚ Î±Ï€Î¿Î´Î­Ï‡ÎµÏ„Î±Î¹ Î® Î±Ï€Î¿ÏÏÎ¯Ï€Ï„ÎµÎ¹
6. Import â†’ items Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½Ï„Î±Î¹ Ï‰Ï‚ draft
```

#### FLOW 3: Estimated â†’ Actual (Variance tracking)
```
1. Î‘ÏÏ‡Î¹ÎºÎ¬: Î¼ÏŒÎ½Î¿ estimatedQuantity ÏƒÏ…Î¼Ï€Î»Î·ÏÏ‰Î¼Î­Î½Î¿
2. ÎšÎ±Ï„Î¬ Ï„Î· ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®: Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ ÏƒÏ…Î¼Ï€Î»Î·ÏÏÎ½ÎµÎ¹ actualQuantity
3. Î£ÏÏƒÏ„Î·Î¼Î± Î´ÎµÎ¯Ï‡Î½ÎµÎ¹: variance % + Ï‡ÏÏ‰Î¼Î±Ï„Î¹ÎºÎ® Î­Î½Î´ÎµÎ¹Î¾Î·
   â€¢ Î ÏÎ¬ÏƒÎ¹Î½Î¿: â‰¤5% Î±Ï€ÏŒÎºÎ»Î¹ÏƒÎ·
   â€¢ ÎšÎ¯Ï„ÏÎ¹Î½Î¿: 5-15% Î±Ï€ÏŒÎºÎ»Î¹ÏƒÎ·
   â€¢ ÎšÏŒÎºÎºÎ¹Î½Î¿: >15% Î±Ï€ÏŒÎºÎ»Î¹ÏƒÎ·
4. Project rollup Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ ÏƒÏ…Î½Î¿Î»Î¹ÎºÎ® Î±Ï€ÏŒÎºÎ»Î¹ÏƒÎ·
```

### 4.4.5 Î‘Î ÎŸÎ¦Î‘Î£Î—: PDF ÏƒÎµ ÎœÎ¿ÏÏ†Î® Î‘Î¤ÎŸÎ• + Excel Export

**Î‘Ï€ÏŒÏ†Î±ÏƒÎ·:** ÎšÎ±Î¹ Ï„Î± Î´ÏÎ¿ â€” **PDF (Î¼Î¿ÏÏ†Î® Î‘Î¤ÎŸÎ•)** + **Excel (.xlsx)**.

ÎŒÎ»ÎµÏ‚ Î¿Î¹ Î¼ÎµÎ³Î¬Î»ÎµÏ‚ ÎµÏ„Î±Î¹ÏÎµÎ¯ÎµÏ‚ (iTWO, CostX, PlanSwift, Procore, ACE-Hellas Î•Î¡Î“ÎŸÎ›Î—Î Î¤Î—Î£) ÎºÎ¬Î½Î¿Ï…Î½ export ÏƒÎµ Ï„Î¿Ï€Î¹ÎºÏŒ format. Î— ÎµÏ€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ· Î´ÎµÎ½ Î¼Î­Î½ÎµÎ¹ Î¼ÏŒÎ½Î¿ ÏƒÏ„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± â€” ÎµÎºÏ„Ï…Ï€ÏÎ½ÎµÏ„Î±Î¹ Î³Î¹Î±:

| Î Î±ÏÎ±Î»Î®Ï€Ï„Î·Ï‚ | Î£ÎºÎ¿Ï€ÏŒÏ‚ |
|-----------|--------|
| Î¤ÏÎ¬Ï€ÎµÎ¶ÎµÏ‚ | Î”Î±Î½ÎµÎ¹Î¿Î´Î¿Ï„Î®ÏƒÎµÎ¹Ï‚, Î±Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ· ÎºÏŒÏƒÏ„Î¿Ï…Ï‚ |
| Î¥Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Î¹ | Î¤Î¹ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎºÎ¬Î½Î¿Ï…Î½, Ï€ÏŒÏƒÎ¿ Î¸Î± Ï€Î»Î·ÏÏ‰Î¸Î¿ÏÎ½ |
| Î ÎµÎ»Î¬Ï„ÎµÏ‚ | Î ÏŒÏƒÎ¿ Î¸Î± ÎºÎ¿ÏƒÏ„Î¯ÏƒÎµÎ¹ Î· ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î® |
| ÎœÎ·Ï‡Î±Î½Î¹ÎºÎ¿Î¯ | Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ ÎµÏÎ³Î±ÏƒÎ¹ÏÎ½ |
| Î”Î·Î¼ÏŒÏƒÎ¹Î¿ | Î”Î·Î¼ÏŒÏƒÎ¹Î± Î­ÏÎ³Î±, ÎµÎ»ÎµÎ³ÎºÏ„Î¹ÎºÎ¿Î¯ Î¼Î·Ï‡Î±Î½Î¹ÏƒÎ¼Î¿Î¯ |

**PDF Format (Î¼Î¿ÏÏ†Î® Î‘Î¤ÎŸÎ•):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Î‘ÎÎ‘Î›Î¥Î¤Î™ÎšÎ— Î•Î Î™ÎœÎ•Î¤Î¡Î—Î£Î—                                 â”‚
â”‚ ÎšÏ„Î¯ÏÎ¹Î¿: Î Î¿Î»Ï…ÎºÎ±Ï„Î¿Î¹ÎºÎ¯Î± Î‘ â€” ÎˆÏÎ³Î¿: Î Î±Î³ÏÎ½Î·Ï‚ Î‘.Î•. #12    â”‚
â”‚ Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±: 11/02/2026                               â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¤
â”‚ Î‘/Î‘â”‚Î†ÏÎ¸ÏÎ¿ â”‚ Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®      â”‚ÎœÎ¿Î½ â”‚ Î Î¿Ïƒ.  â”‚Î¤Î¹Î¼Î®  â”‚Î”Î±Ï€. â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚    â”‚      â”‚ ÎŸÎ™Îš-2: Î£ÎšÎ¥Î¡ÎŸÎ”. â”‚    â”‚       â”‚      â”‚     â”‚
â”‚ 1  â”‚2.1   â”‚ Î˜ÎµÎ¼Î­Î»Î¹Î± C25/30 â”‚ mÂ³ â”‚ 47.25 â”‚133â‚¬  â”‚6.284â”‚
â”‚ 2  â”‚2.2   â”‚ Î Î»Î¬ÎºÎ± Î¿ÏÎ¿Ï†Î®Ï‚   â”‚ mÂ³ â”‚ 39.90 â”‚140â‚¬  â”‚5.586â”‚
â”‚    â”‚      â”‚ Î¥Ï€Î¿ÏƒÏÎ½Î¿Î»Î¿      â”‚    â”‚       â”‚      â”‚11.87â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤
â”‚    â”‚      â”‚ ÎŸÎ™Îš-5: Î”Î‘Î Î•Î”Î‘  â”‚    â”‚       â”‚      â”‚     â”‚
â”‚ 3  â”‚5.1   â”‚ Î Î»Î±ÎºÎ¬ÎºÎ¹Î± 60x60 â”‚ mÂ² â”‚129.60 â”‚ 40â‚¬  â”‚5.184â”‚
â”‚ ...â”‚      â”‚                â”‚    â”‚       â”‚      â”‚     â”‚
â”œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”¤
â”‚ Î“Î•ÎÎ™ÎšÎŸ Î£Î¥ÎÎŸÎ›ÎŸ:  Î¥Î»Î¹ÎºÎ¬: 45.200â‚¬  Î•ÏÎ³Î±ÏƒÎ¯Î±: 28.100â‚¬    â”‚
â”‚                 Î•Î¾Î¿Ï€Î»: 3.400â‚¬   Î£Î¥ÎÎŸÎ›ÎŸ: 76.700â‚¬      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Excel Format:** 22 ÏƒÏ„Î®Î»ÎµÏ‚, 3 sheets â€” spec ÏƒÏ„Î¿ parallel research doc.

**Î¥Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ·:** Î•Ï€Î±Î½Î±Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¯Î·ÏƒÎ· PDF engine Î±Ï€ÏŒ obligations module (`src/components/obligations/pdf.ts`).

### 4.4.8 Î‘Î ÎŸÎ¦Î‘Î£Î—: Excel Import + Export â€” ÎšÎ±Î¹ Ï„Î± Î”ÏÎ¿ Î±Ï€ÏŒ Phase 1

**Î‘Ï€ÏŒÏ†Î±ÏƒÎ·:** Import **ÎºÎ±Î¹** Export .xlsx Î±Ï€ÏŒ Phase 1. Î”ÎµÎ½ Î±Ï†Î®Î½Î¿Ï…Î¼Îµ Ï„Î¿ import Î³Î¹Î± Î±ÏÎ³ÏŒÏ„ÎµÏÎ±.

**Î“Î¹Î±Ï„Î¯ Phase 1:** Î Î¿Î»Î»Î¿Î¯ ÎˆÎ»Î»Î·Î½ÎµÏ‚ Î¼Î·Ï‡Î±Î½Î¹ÎºÎ¿Î¯ Î­Ï‡Î¿Ï…Î½ **Î®Î´Î·** ÎµÏ€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ ÏƒÎµ Excel. Î‘Î½ Î´ÎµÎ½ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Ï„Î¹Ï‚ ÎµÎ¹ÏƒÎ¬Î³Î¿Ï…Î½, Î´ÎµÎ½ Î¸Î± Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÎ¿Ï…Î½ Ï„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± â€” Î¸Î± ÏƒÏ…Î½ÎµÏ‡Î¯ÏƒÎ¿Ï…Î½ ÏƒÏ„Î¿ Excel.

**Import Flow:**
```
1. Î§ÏÎ®ÏƒÏ„Î·Ï‚ â†’ Click "ğŸ“¥ Import Excel"
2. Upload .xlsx Î±ÏÏ‡ÎµÎ¯Î¿
3. Î£ÏÏƒÏ„Î·Î¼Î± Î±Î½Î±Î³Î½Ï‰ÏÎ¯Î¶ÎµÎ¹ ÏƒÏ„Î®Î»ÎµÏ‚ (smart column mapping)
4. Validation:
   â€¢ ÎœÎ¿Î½Î¬Î´Î± Î¼Î­Ï„ÏÎ·ÏƒÎ·Ï‚ âœ…/âŒ
   â€¢ IFC type compatibility âœ…/âŒ
   â€¢ Duplicate detection (key: building + category + description)
   â€¢ Î¤Î¹Î¼Î­Ï‚ ÏƒÎµ ÏƒÏ‰ÏƒÏ„ÏŒ ÎµÏÏÎ¿Ï‚ âœ…/âŒ
5. Preview: Ï€Î¯Î½Î±ÎºÎ±Ï‚ Î¼Îµ âœ…/âŒ Î±Î½Î¬ Î³ÏÎ±Î¼Î¼Î®
   â€¢ Î ÏÎ¬ÏƒÎ¹Î½Î¿: OK, Î­Ï„Î¿Î¹Î¼Î· Î³Î¹Î± ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î®
   â€¢ ÎšÎ¯Ï„ÏÎ¹Î½Î¿: Warning (Ï€.Ï‡. Ï†ÏÏÎ± > 15%)
   â€¢ ÎšÏŒÎºÎºÎ¹Î½Î¿: Error (Ï€.Ï‡. Î»Î¬Î¸Î¿Ï‚ Î¼Î¿Î½Î¬Î´Î±)
6. Î§ÏÎ®ÏƒÏ„Î·Ï‚ Î±Ï€Î¿Î´Î­Ï‡ÎµÏ„Î±Î¹ Î® Î±Ï€Î¿ÏÏÎ¯Ï€Ï„ÎµÎ¹ Î±Î½Î¬ Î³ÏÎ±Î¼Î¼Î®
7. Import â†’ items Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½Ï„Î±Î¹ Ï‰Ï‚ status = 'draft'
8. Rejection report (.xlsx) Î¼Îµ row-level errors
```

**Export Flow:**
```
1. Î§ÏÎ®ÏƒÏ„Î·Ï‚ â†’ Click "ğŸ“¤ Export Excel"
2. Î•Ï€Î¹Î»Î¿Î³Î® scope: ÎŸÎ»ÏŒÎºÎ»Î·ÏÎ¿ ÎºÏ„Î¯ÏÎ¹Î¿ | ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± | Î¦Î¯Î»Ï„ÏÎ¿
3. Export .xlsx Î¼Îµ 3 sheets:
   â€¢ Sheet 1: BOQ_Items (22 ÏƒÏ„Î®Î»ÎµÏ‚)
   â€¢ Sheet 2: Dictionaries (Î¼Î¿Î½Î¬Î´ÎµÏ‚, ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚, statuses)
   â€¢ Sheet 3: Summary (rollup Î±Î½Î¬ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± + ÏƒÏÎ½Î¿Î»Î±)
```

**Import Normalization Rules** (Î±Ï€ÏŒ OpenAI research):
1. Î‘Î½ Î­ÏÎ¸ÎµÎ¹ Î¼ÏŒÎ½Î¿ Ï€ÎµÏÎ¹Î³ÏÎ±Ï†Î® Ï‡Ï‰ÏÎ¯Ï‚ code â†’ match Î¼Îµ `synonymsEl`
2. Î‘Î½ Î­ÏÎ¸ÎµÎ¹ code Î±Î»Î»Î¬ Î»Î¬Î¸Î¿Ï‚ unit â†’ hard error
3. Î‘Î½ Î»ÎµÎ¯Ï€ÎµÎ¹ IFC type â†’ derive Î±Ï€ÏŒ category + warning
4. Versioned import batches Î³Î¹Î± audit/rollback

---

### 4.4.4 Î•Ï…ÏÎ®Î¼Î±Ï„Î± Î±Ï€ÏŒ Î Î±ÏÎ¬Î»Î»Î·Î»Î· ÎˆÏÎµÏ…Î½Î± (OpenAI Codex Agent)

Î Î·Î³Î®: `docs/architecture-review/2026-02-11-boq-parallel-research.md`

**Î•Î½ÏƒÏ‰Î¼Î±Ï„Ï‰Î¼Î­Î½Î± ÎµÏ…ÏÎ®Î¼Î±Ï„Î±:**

1. **IFC Quantity Types â†’ BOQItem:** Î ÏÎ¿ÏƒÏ„Î¯Î¸ÎµÏ„Î±Î¹ Ï€ÎµÎ´Î¯Î¿ `ifcQuantityType` Î³Î¹Î± Î´Î¹ÎµÎ¸Î½Î® Î´Î¹Î±Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÎºÏŒÏ„Î·Ï„Î±
   - `count` | `length` | `area` | `volume` | `weight` | `time`
   - Î‘Î½Ï„Î¹ÏƒÏ„Î¿Î¹Ï‡Î¯Î¶ÎµÏ„Î±Î¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± Î²Î¬ÏƒÎµÎ¹ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚ Î‘Î¤ÎŸÎ•

2. **Î‘Î¤ÎŸÎ• Î¦ÏÏÎ±:** Î•Ï€Î¹Î²ÎµÎ²Î±Î¹ÏÎ¸Î·ÎºÎµ ÏŒÏ„Î¹ **Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹** ÎµÏ€Î¯ÏƒÎ·Î¼Î¿Ï‚ Ï€Î¯Î½Î±ÎºÎ±Ï‚ Ï†ÏÏÎ±Ï‚ â€” Î¿Î¹ Ï„Î¹Î¼Î­Ï‚ Î¼Î±Ï‚ ÎµÎ¯Î½Î±Î¹ configurable defaults (ÏƒÏ‰ÏƒÏ„Î® Ï€ÏÎ¿ÏƒÎ­Î³Î³Î¹ÏƒÎ·)

3. **Excel Template:** 22 ÏƒÏ„Î®Î»ÎµÏ‚, 3 sheets (Items, Dictionaries, Rollup) â€” Ï€Î»Î®ÏÎ·Ï‚ spec ÏƒÏ„Î¿ parallel research doc

4. **DXF Auto Pipeline (Phase 2):** ezdxf â†’ Shapely polygonize â†’ NetworkX cycles â†’ AI room classification (CubiCasa5K dataset)

5. **Î£Î·Î¼Î±ÏƒÎ¹Î¿Î»Î¿Î³Î¯Î± Î¼ÎµÏ„ÏÎ®ÏƒÎµÏ‰Î½:** Î”ÎµÎ½ Î±ÏÎºÎµÎ¯ Î¼ÏŒÎ½Î¿ `m2` â€” Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ context: `area_wall_plaster` vs `area_floor_finish`. Î‘Ï…Ï„ÏŒ ÎºÎ±Î»ÏÏ€Ï„ÎµÏ„Î±Î¹ Î±Ï€ÏŒ Ï„Î¿Î½ ÏƒÏ…Î½Î´Ï…Î±ÏƒÎ¼ÏŒ `categoryCode + ifcQuantityType + unit`

### 4.4.6 Î•Ï…ÏÎ®Î¼Î±Ï„Î± Î±Ï€ÏŒ Î Î±ÏÎ¬Î»Î»Î·Î»Î· ÎˆÏÎµÏ…Î½Î± #2 (OpenAI Codex Agent)

Î Î·Î³Î®: `docs/architecture-review/2026-02-11-boq-parallel-research-2.md`

**1. PDF Î‘Î¤ÎŸÎ• â€” Dual Mode:**
- **Tender mode** (Î´Î·Î¼ÏŒÏƒÎ¹Î¿ ÏƒÏ…Î¼Î²Î±Ï„ÏŒ): Ï„ÎµÎ»Î¹ÎºÎ® Ï„Î¹Î¼Î® Î¼Î¿Î½Î¬Î´Î±Ï‚ + Î“Î•+ÎŸÎ•/Î‘Ï€ÏÏŒÎ²Î»ÎµÏ€Ï„Î± ÏƒÏ„Î¿ Ï„Î­Î»Î¿Ï‚
- **Detailed mode** (ÎµÏƒÏ‰Ï„ÎµÏÎ¹ÎºÏŒ): Î±Î½Î¬Î»Ï…ÏƒÎ· Î¥Î»Î¹ÎºÎ¬/Î•ÏÎ³Î±ÏƒÎ¯Î±/Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚ Î±Î½Î¬ Î³ÏÎ±Î¼Î¼Î®
- Typography: 10-12pt body, A4 portrait, Î±ÏÎ¹Î¸Î¼Î·Ï„Î¹ÎºÎ¬ Î´ÎµÎ¾Î¹Î¬

**2. Subcontractor Pattern (Procore/Oracle/Buildertrend):**
```
Î¥Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï‚ â†’ Î£ÏÎ¼Î²Î±ÏƒÎ·/Commitment â†’ SOV/BOQ items
  â†’ Progress Certification â†’ Payment Application
  â†’ Retainage/ÎšÏÎ±Ï„Î®ÏƒÎµÎ¹Ï‚ â†’ Î¤ÎµÎ»Î¹ÎºÎ® Î•ÎºÎºÎ±Î¸Î¬ÏÎ¹ÏƒÎ·
```
Contract types: `lump_sum` | `unit_price` | `cost_plus` | `remeasurable`

**3. 5D / EVM â€” Simplified Î³Î¹Î± Nestor:**
- MVP metrics: `PV, EV, AC, CPI, SPI`
- EV source: **Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½ÎµÏ‚ Ï€Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚** (ÏŒÏ‡Î¹ subjective %)
- Traffic lights: `CPI/SPI < 0.95` ÎºÏŒÎºÎºÎ¹Î½Î¿, `0.95-1.05` Ï€ÏÎ¬ÏƒÎ¹Î½Î¿
- S-curve cash-flow projection

**4. Î•Î»Î»Î·Î½Î¹ÎºÎ® Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ· â€” First-Class Entity:**
- Î.4412/2016: Î¬ÏÎ¸ÏÎ± 151 (Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚), 152 (Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯), 153 (Î‘Î½Î±Î¸ÎµÏÏÎ·ÏƒÎ·), 165 (Î¥Ï€ÎµÏÎ³Î¿Î»Î±Î²Î¯Î±)
- Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï…: 1Î¿Ï‚, 2Î¿Ï‚, ..., Ï„ÎµÎ»Î¹ÎºÏŒÏ‚
- Î‘Î½Î¬ BOQ line: `EstimatedQty â†’ CertifiedQty_to_date â†’ RemainingQty â†’ CertifiedAmount â†’ Variance`
- Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î¼Î¿Î½Ï„ÎµÎ»Î¿Ï€Î¿Î¹Î·Î¸ÎµÎ¯ Ï‰Ï‚ **first-class entity** (ÏŒÏ‡Î¹ attachment)

### 4.4.7 Î‘Î ÎŸÎ¦Î‘Î£Î—: Î¥Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Î¹ â€” CRM Contact + Contractor Layer

**Î•ÏÏÏ„Î·ÏƒÎ·:** ÎÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„ÏŒ module Ï…Ï€ÎµÏÎ³Î¿Î»Î¬Î²Ï‰Î½ Î® Ï‡ÏÎ®ÏƒÎ· Ï…Ï€Î±ÏÏ‡ÏŒÎ½Ï„Ï‰Î½ contacts;
**Î‘Ï€Î¬Î½Ï„Î·ÏƒÎ·:** **ÎšÎ±Î¹ Ï„Î± Î´ÏÎ¿** â€” layered approach.

**ÎšÎ¡Î™Î£Î™ÎœÎŸ: Î— Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎ± Î´Î¿Î¼Î® ÎµÏ€Î±Ï†ÏÎ½ Î”Î•Î Î±Î»Î»Î¬Î¶ÎµÎ¹.**

ÎŸÎ¹ ÎµÏ€Î±Ï†Î­Ï‚ Ï€Î±ÏÎ±Î¼Î­Î½Î¿Ï…Î½ Î±ÎºÏÎ¹Î²ÏÏ‚ ÏŒÏ€Ï‰Ï‚ ÎµÎ¯Î½Î±Î¹:
```
Î•Ï€Î±Ï†Î­Ï‚ (contacts â€” Î‘ÎœÎ•Î¤Î‘ÎšÎ™ÎÎ—Î¤Î— Î”ÎŸÎœÎ—)
  â”œâ”€ Î¦Ï…ÏƒÎ¹ÎºÎ¬ Î ÏÏŒÏƒÏ‰Ï€Î±
  â”œâ”€ ÎÎ¿Î¼Î¹ÎºÎ¬ Î ÏÏŒÏƒÏ‰Ï€Î±
  â””â”€ Î”Î·Î¼ÏŒÏƒÎ¹ÎµÏ‚ Î¥Ï€Î·ÏÎµÏƒÎ¯ÎµÏ‚
```

ÎˆÎ½Î±Ï‚ Ï…Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï‚ **Î”Î•Î** ÎµÎ¯Î½Î±Î¹ Î½Î­Î¿Ï‚ Ï„ÏÏ€Î¿Ï‚ ÎµÏ€Î±Ï†Î®Ï‚. Î•Î¯Î½Î±Î¹ Î¼Î¹Î± **Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎ± ÎµÏ€Î±Ï†Î®** (Ï†Ï…ÏƒÎ¹ÎºÏŒ Î® Î½Î¿Î¼Î¹ÎºÏŒ Ï€ÏÏŒÏƒÏ‰Ï€Î¿) Ï€Î¿Ï… **ÎµÏ€Î¹Ï€Î»Î­Î¿Î½** Î±Ï€Î¿ÎºÏ„Î¬ contractor profile. Î¤Î¿ profile ÎµÎ¯Î½Î±Î¹ **role/layer** Ï€Î¬Î½Ï‰ ÏƒÏ„Î·Î½ ÎµÏ€Î±Ï†Î® â€” Î´ÎµÎ½ Î±Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¬ Ï„Î¯Ï€Î¿Ï„Î±.

**Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î±:**
- "Î Î±Ï€Î±Î´ÏŒÏ€Î¿Ï…Î»Î¿Ï‚ ÎÎ¯ÎºÎ¿Ï‚" = Î¦Ï…ÏƒÎ¹ÎºÏŒ Î ÏÏŒÏƒÏ‰Ï€Î¿ ÏƒÏ„Î¿ CRM (Î®Î´Î· Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)
- ÎŸ Î¯Î´Î¹Î¿Ï‚ = Î¥Ï€ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï‚ Ï€Î»Î±ÎºÎ¬Î´Ï‰Î½ (contractor profile **Ï€Î¬Î½Ï‰** ÏƒÏ„Î·Î½ Î¯Î´Î¹Î± ÎµÏ€Î±Ï†Î®)
- Î— ÎµÏ€Î±Ï†Î® Î´ÎµÎ½ Î±Î»Î»Î¬Î¶ÎµÎ¹, Î´ÎµÎ½ Î¼ÎµÏ„Î±ÎºÎ¹Î½ÎµÎ¯Ï„Î±Î¹, Î´ÎµÎ½ Î±Î»Î»Î¬Î¶ÎµÎ¹ Ï„ÏÏ€Î¿

**Î‘ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® â€” Layer Ï€Î¬Î½Ï‰ ÏƒÎµ Contacts:**

```
CRM Contact (Î¥Î Î‘Î¡Î§Î•Î™ Î—Î”Î— â€” Î´ÎµÎ½ Î±Î»Î»Î¬Î¶ÎµÎ¹)
  â”‚  id, name, type (physical/legal/public), Î‘Î¦Îœ, Ï„Î·Î», email
  â”‚  Î‘Ï…Ï„ÏŒ Î´ÎµÎ½ Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ ÏƒÎµ Î¤Î™Î ÎŸÎ¤Î‘
  â”‚
  â–¼
Contractor Profile (ÎÎ•ÎŸ LAYER â€” Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„ÏŒ collection)
  â”‚  contactId â†’ Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ ÏƒÎµ Ï…Ï€Î¬ÏÏ‡Î¿Ï…ÏƒÎ± ÎµÏ€Î±Ï†Î®
  â”‚  specialty: 'plumber' | 'electrician' | 'tiler' | 'painter' | ...
  â”‚  rating, Î±Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·, Î¹ÏƒÏ„Î¿ÏÎ¹ÎºÏŒ ÏƒÏ…Î½ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚
  â”‚  Î”ÎµÎ½ Î±Î»Î»Î¬Î¶ÎµÎ¹ Î¿ÏÏ„Îµ 1 Î³ÏÎ±Î¼Î¼Î® ÎºÏÎ´Î¹ÎºÎ± ÏƒÏ„Î¿ CRM
  â”‚
  â–¼
Contract/Commitment (ÎÎ•ÎŸ â€” Phase D)
  â”‚  contractorProfileId, buildingId
  â”‚  type: 'lump_sum' | 'unit_price' | 'cost_plus' | 'remeasurable'
  â”‚  value, phases, retainage %
  â”‚
  â–¼
Progress Certification (ÎÎ•ÎŸ â€” Phase D)
  â”‚  Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½ÎµÏ‚ Ï€Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚, Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï… (1Î¿Ï‚, 2Î¿Ï‚...)
  â”‚  Î.4412/2016 Î¬ÏÎ¸ÏÎ± 151-154 compliance
  â”‚
  â–¼
Payment (ÏƒÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Accounting subapp)
     Î¤Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î¿, ÎºÏÎ¬Ï„Î·ÏƒÎ· ÎµÎ³Î³ÏÎ·ÏƒÎ·Ï‚, Ï„ÎµÎ»Î¹ÎºÎ® ÎµÎºÎºÎ±Î¸Î¬ÏÎ¹ÏƒÎ·
```

**Î ÏÏŒÏ„Ï…Ï€Î¿:** Procore, Oracle â€” Î¿ vendor/subcontractor ÎµÎ¯Î½Î±Î¹ **role** Ï€Î¬Î½Ï‰ ÏƒÎµ contact, Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î® Î¿Î½Ï„ÏŒÏ„Î·Ï„Î±.

**Firestore:**
```
contractor_profiles     # ÎÎ­Î¿ collection â€” contactId + specialty + rating
                        # Î”Î•Î Ï„ÏÎ¿Ï€Î¿Ï€Î¿Î¹ÎµÎ¯ Ï„Î¿ contacts collection
```

**Î¤Î¹ ÎºÎ¬Î½Î¿Ï…Î¼Îµ Î¤Î©Î¡Î‘ (Phase 1):**
- `linkedContractorId` ÏƒÏ„Î¿ BOQItem â†’ Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ ÏƒÎµ `contacts` collection (Î±Ï€Î»ÏŒ linking)
- Î”ÎµÎ½ Ï‡Ï„Î¯Î¶Î¿Ï…Î¼Îµ contractor module Î±ÎºÏŒÎ¼Î±
- Î”ÎµÎ½ Î±Î»Î»Î¬Î¶Î¿Ï…Î¼Îµ Ï„Î¯Ï€Î¿Ï„Î± ÏƒÏ„Î¿ CRM/contacts

**Î¤Î¹ Ï‡Ï„Î¯Î¶Î¿Ï…Î¼Îµ Î‘Î¡Î“ÎŸÎ¤Î•Î¡Î‘ (Phase D):**
- `contractor_profiles` collection (layer Ï€Î¬Î½Ï‰ ÏƒÎµ contacts)
- Contract/Commitment management
- Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ + Î›Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼Î¿Î¯ ÎµÏÎ³Î¿Î»Î¬Î²Î¿Ï…
- Retainage tracking

---

### 4.5 Î£ÏÎ½Î´ÎµÏƒÎ· Gantt â†” BOQ

#### 4.5.1 Many-to-Many Link Model (Î±Ï€ÏŒ Codex integration report)

**Î‘ÏÏ‡Î¹ÎºÎ® ÏƒÏ‡ÎµÎ´Î¯Î±ÏƒÎ·:** Î‘Ï€Î»ÏŒ `linkedPhaseId` ÏƒÏ„Î¿ BOQ item (1:1).
**Î‘Î½Î±Î¸ÎµÏ‰ÏÎ·Î¼Î­Î½Î· ÏƒÏ‡ÎµÎ´Î¯Î±ÏƒÎ·:** Many-to-many Î¼Î­ÏƒÏ‰ **link table** `boq_task_links`.

**Î“Î¹Î±Ï„Î¯ many-to-many:**
- 1 BOQ item Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎºÏ„ÎµÎ¯Î½ÎµÏ„Î±Î¹ ÏƒÎµ Ï€Î¿Î»Î»Î­Ï‚ Ï†Î¬ÏƒÎµÎ¹Ï‚ (Ï€.Ï‡. ÏƒÎ¿Î²Î¬Î´ÎµÏ‚ Î¾ÎµÎºÎ¹Î½Î¬Î½Îµ ÏƒÎµ Î¼Î¯Î± Ï†Î¬ÏƒÎ·, Ï„ÎµÎ»ÎµÎ¹ÏÎ½Î¿Ï…Î½ ÏƒÎµ Î¬Î»Î»Î·)
- 1 phase/task Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï€ÎµÏÎ¹Î­Ï‡ÎµÎ¹ Ï€Î¿Î»Î»Î¬ BOQ items
- Î§ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ `weightPct` Î³Î¹Î± ÎµÏ€Î¹Î¼ÎµÏÎ¹ÏƒÎ¼ÏŒ ÎºÏŒÏƒÏ„Î¿Ï…Ï‚ Î±Î½Î¬ task

**Hybrid approach:** Î”Î¹Î±Ï„Î·ÏÎ¿ÏÎ½Ï„Î±Î¹ Ï„Î± `linkedPhaseId`/`linkedTaskId` ÏƒÏ„Î¿ BOQItem Ï‰Ï‚ **primary link** (quick query), Î±Î»Î»Î¬ Î· `boq_task_links` collection Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÎ¹ **granular many-to-many** Î³Î¹Î± ÏƒÏÎ½Î¸ÎµÏ„Î± ÏƒÎµÎ½Î¬ÏÎ¹Î±.

```typescript
interface BOQTaskLink {
  id: string;
  buildingId: string;
  phaseId: string;
  taskId: string | null;         // null = phase-level link
  boqItemId: string;
  weightPct: number;             // 0-1, default 1.0 (100%)
  createdAt: string;
  createdBy: string;
}
```

#### 4.5.2 Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î£ÏÎ½Î´ÎµÏƒÎ·Ï‚

```
Construction Phase: "Î£Î¿Î²Î¬Î´ÎµÏ‚ Î•ÏƒÏ‰Ï„ÎµÏÎ¹ÎºÎ¿Î¯" (PH-004)
  â”œâ”€ Gantt: 15 ÎœÎ±Ï â†’ 30 ÎœÎ±Ï 2026
  â””â”€ BOQ Items (linked):
       â”œâ”€ Î£Î¿Î²Î¬Ï‚ ÎµÏƒÏ‰Ï„. Ï„Î¿Î¯Ï‡Ï‰Î½: 450 mÂ² Ã— (3.50â‚¬ Ï…Î»Î¹ÎºÏŒ + 8.00â‚¬ ÎµÏÎ³Î±ÏƒÎ¯Î±)
       â”œâ”€ Î£Î¿Î²Î¬Ï‚ ÎµÏƒÏ‰Ï„. Î¿ÏÎ¿Ï†ÏÎ½: 120 mÂ² Ã— (4.00â‚¬ Ï…Î»Î¹ÎºÏŒ + 10.00â‚¬ ÎµÏÎ³Î±ÏƒÎ¯Î±)
       â””â”€ Î“Ï‰Î½Î¹ÏŒÎºÏÎ±Î½Î±: 85 m Ã— (1.20â‚¬ Ï…Î»Î¹ÎºÏŒ + 2.50â‚¬ ÎµÏÎ³Î±ÏƒÎ¯Î±)
       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
       Î£ÏÎ½Î¿Î»Î¿ Ï†Î¬ÏƒÎ·Ï‚: 450Ã—11.50 + 120Ã—14.00 + 85Ã—3.70 = 7,169.50â‚¬
```

Î‘Ï…Ï„ÏŒ ÎµÏ€Î¹Ï„ÏÎ­Ï€ÎµÎ¹:
- **Cash-flow projection** â€” Ï€ÏŒÏ„Îµ Î¸Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„Î¿ÏÎ½ Ï„Î± Ï‡ÏÎ®Î¼Î±Ï„Î±
- **Progress tracking** â€” % Î¿Î»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ·Ï‚ Ï†Î¬ÏƒÎ·Ï‚ â†’ % Î´Î±Ï€Î¬Î½Î·Ï‚ (certifiedQty/estimatedQty)
- **Variance analysis** â€” ÏƒÏÎ³ÎºÏÎ¹ÏƒÎ· planned vs actual ÎºÏŒÏƒÏ„Î¿Ï‚

#### 4.5.3 Î•Ï€Î­ÎºÏ„Î±ÏƒÎ· Î¤ÏÏ€Ï‰Î½ Gantt (Prerequisite)

Î Î·Î³Î®: `docs/architecture-review/2026-02-11-timeline-gantt-measurements-integration-report.md`

Î¤Î± Ï…Ï€Î¬ÏÏ‡Î¿Î½Ï„Î± `ConstructionPhase` / `ConstructionTask` types (`src/types/building/construction.ts`) **Î´ÎµÎ½ Î­Ï‡Î¿Ï…Î½** Ï€ÎµÎ´Î¯Î± ÎºÏŒÏƒÏ„Î¿Ï…Ï‚. Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï€ÏÎ¿ÏƒÏ„ÎµÎ¸Î¿ÏÎ½:

```typescript
// Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÏƒÏ„Î¿ ConstructionPhase/ConstructionTask:
plannedCost?: number;         // Î£ÏÎ½Î¿Î»Î¿ linked BOQ items (cached)
actualCost?: number;          // Î£ÏÎ½Î¿Î»Î¿ Ï€Î»Î·ÏÏ‰Î¼Î­Î½Ï‰Î½ Ï€Î¿ÏƒÏÎ½
earnedValue?: number;         // Î£(certifiedQty Ã— unitCost) linked items
linkedBoqCount?: number;      // Î ÏŒÏƒÎ± BOQ items ÏƒÏ…Î½Î´Î­Î¿Î½Ï„Î±Î¹
boqCoveragePct?: number;      // % Ï„Î¿Ï… budget Ï€Î¿Ï… ÎºÎ±Î»ÏÏ€Ï„ÎµÏ„Î±Î¹ Î±Ï€ÏŒ BOQ
```

#### 4.5.4 Milestones Ï‰Ï‚ First-Class Entity

Î£Î®Î¼ÎµÏÎ± Ï„Î± milestones ÎµÎ¯Î½Î±Î¹ **hardcoded** (Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯ÎµÏ‚ 2006-2009 ÏƒÎµ utils.ts). Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î³Î¯Î½Î¿Ï…Î½ data-driven:

```typescript
interface ConstructionMilestone {
  id: string;
  buildingId: string;
  name: string;
  type: MilestoneType;
  targetDate: string;
  actualDate: string | null;
  status: 'pending' | 'reached' | 'overdue' | 'cancelled';
  linkedPhaseId: string | null;
  linkedTaskId: string | null;
  linkedCertificationId: string | null;
  linkedInvoiceId: string | null;
  createdAt: string;
  updatedAt: string;
}

type MilestoneType =
  | 'phase_start'             // ÎˆÎ½Î±ÏÎ¾Î· Ï†Î¬ÏƒÎ·Ï‚
  | 'phase_complete'          // ÎŸÎ»Î¿ÎºÎ»Î®ÏÏ‰ÏƒÎ· Ï†Î¬ÏƒÎ·Ï‚
  | 'measurement_freeze'      // ÎšÎ»ÎµÎ¯Î´Ï‰Î¼Î± Ï€Î¿ÏƒÎ¿Ï„Î®Ï„Ï‰Î½ (before certification)
  | 'certification_cutoff'    // Î¤ÎµÎ»Î¹ÎºÎ® Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Ï€Î¹ÏƒÏ„Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚
  | 'invoice_approved'        // ÎˆÎ³ÎºÏÎ¹ÏƒÎ· Ï„Î¹Î¼Î¿Î»Î¿Î³Î¯Î¿Ï…
  | 'retainage_release'       // Î‘Ï€Î¿Î´Î­ÏƒÎ¼ÎµÏ…ÏƒÎ· ÎºÏÎ¬Ï„Î·ÏƒÎ·Ï‚
  | 'permit'                  // Î‘Î´ÎµÎ¹Î¿Î´Î¿Ï„Î¹ÎºÏŒ Î¿ÏÏŒÏƒÎ·Î¼Î¿
  | 'inspection'              // Î•Ï€Î¹Î¸ÎµÏÏÎ·ÏƒÎ·
  | 'handover';               // Î Î±ÏÎ¬Î´Î¿ÏƒÎ·
```

#### 4.5.5 Progress Rule: Î Î¿ÏƒÎ¿Ï„Î¹ÎºÏŒÏ‚ Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚

Î— Ï€ÏÏŒÎ¿Î´Î¿Ï‚ task/phase Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï…Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÏ„Î±Î¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± Î±Ï€ÏŒ certified Ï€Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚:

```
taskProgress = Î£(certifiedQuantity Ã— unitCost) / Î£(estimatedQuantity Ã— unitCost) Ã— 100
```

Î‘Ï…Ï„ÏŒ Î±Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¬ Ï„Î¿Î½ subjective progress % Î¼Îµ **Î±Î½Ï„Î¹ÎºÎµÎ¹Î¼ÎµÎ½Î¹ÎºÏŒ** Ï€Î¿ÏƒÎ¿Ï„Î¹ÎºÏŒ Î´ÎµÎ¯ÎºÏ„Î· (Ï€ÏÏŒÏ„Ï…Ï€Î¿ iTWO/Primavera).

#### 4.5.6 Technical Debt â€” Static Cards

**Î ÏÎ¹Î½** Ï„Î· ÏƒÏÎ½Î´ÎµÏƒÎ· BOQâ†”Gantt, Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Î±Î½Ï„Î¹Î¼ÎµÏ„Ï‰Ï€Î¹ÏƒÏ„ÎµÎ¯ Ï„ÎµÏ‡Î½Î¹ÎºÏŒ Ï‡ÏÎ­Î¿Ï‚:

| Component | Î ÏÏŒÎ²Î»Î·Î¼Î± | Î›ÏÏƒÎ· |
|-----------|---------|------|
| `CompletionForecastCard` | Fixed `delayDays = 5` | Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î±Ï€ÏŒ SPI + schedule slippage |
| `CriticalPathCard` | Static UI content | Real CPM analysis Î²Î¬ÏƒÎµÎ¹ dependencies |
| Milestones view | Hardcoded dates (2006-2009) | Î”ÎµÎ´Î¿Î¼Î­Î½Î± Î±Ï€ÏŒ `construction_milestones` collection |

---

## 5. Data Model (TypeScript Types)

### 5.1 IFC Quantity Types (Î´Î¹ÎµÎ¸Î½Î­Ï‚ standard â€” buildingSMART IFC4.3)

```typescript
type IfcQuantityType =
  | 'count'    // IfcQuantityCount â€” Ï„ÎµÎ¼Î¬Ï‡Î¹Î± (Ï€ÏŒÏÏ„ÎµÏ‚, Ï€Î±ÏÎ¬Î¸Ï…ÏÎ±, ÎµÎ¯Î´Î· Ï…Î³Î¹ÎµÎ¹Î½Î®Ï‚)
  | 'length'   // IfcQuantityLength â€” Î³ÏÎ±Î¼Î¼Î¹ÎºÎ¬ (ÏƒÏ‰Î»Î®Î½ÎµÏ‚, ÏƒÎ¿Î²Î±Ï„ÎµÏ€Î¯, ÎºÎ¬Î³ÎºÎµÎ»Î±)
  | 'area'     // IfcQuantityArea â€” ÎµÏ€Î¹Ï†Î¬Î½ÎµÎ¹ÎµÏ‚ (Î´Î¬Ï€ÎµÎ´Î±, ÏƒÎ¿Î²Î¬Î´ÎµÏ‚, Ï‡ÏÏÎ¼Î±Ï„Î±)
  | 'volume'   // IfcQuantityVolume â€” ÏŒÎ³ÎºÎ¿Î¹ (ÏƒÎºÏ…ÏÏŒÎ´ÎµÎ¼Î±, ÎµÎºÏƒÎºÎ±Ï†Î­Ï‚)
  | 'weight'   // IfcQuantityWeight â€” Î²Î¬ÏÎ¿Ï‚ (Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚, Î¼Î­Ï„Î±Î»Î»Î±)
  | 'time';    // IfcQuantityTime â€” Ï‡ÏÏŒÎ½Î¿Ï‚ (Î·Î¼ÎµÏÎ¿Î¼Î¯ÏƒÎ¸Î¹Î±, ÎµÎ½Î¿Î¹ÎºÎ¯Î±ÏƒÎ· ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï)
```

### 5.2 Governance Status (Î±Ï€ÏŒ gap analysis Â§5.1)

```typescript
// Î‘Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¬ Ï„Î¿ Î±Ï€Î»ÏŒ 'draft' | 'confirmed' | 'completed'
type BOQItemStatus =
  | 'draft'       // Î ÏÏŒÏ‡ÎµÎ¹ÏÎ¿ â€” ÎµÎ»ÎµÏÎ¸ÎµÏÎ· ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±
  | 'submitted'   // Î¥Ï€Î¿Î²Î»Î®Î¸Î·ÎºÎµ Î³Î¹Î± Î­Î³ÎºÏÎ¹ÏƒÎ·
  | 'approved'    // Î•Î³ÎºÏÎ¯Î¸Î·ÎºÎµ â€” ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½ÎµÏ‚ Ï„Î¹Î¼Î­Ï‚ (Î¼ÏŒÎ½Î¿ Î¼Îµ change order)
  | 'certified'   // Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î®Î¸Î·ÎºÎµ Î±Ï€ÏŒ Î¼Î·Ï‡Î±Î½Î¹ÎºÏŒ
  | 'locked';     // Î¤ÎµÎ»Î¹ÎºÎ¬ ÎºÎ»ÎµÎ¹Î´Ï‰Î¼Î­Î½Î¿ (Ï„ÎµÎ»Î¹ÎºÏŒÏ‚ Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒÏ‚)

// ÎšÎ±Î½ÏŒÎ½Î±Ï‚: ÎŒÏ„Î±Î½ status >= 'submitted', Î¼ÏŒÎ½Î¿ ÎµÎ¾Î¿Ï…ÏƒÎ¹Î¿Î´Î¿Ï„Î·Î¼Î­Î½Î¿Î¹
// ÏÏŒÎ»Î¿Î¹ Î¼Ï€Î¿ÏÎ¿ÏÎ½ Î½Î± Î±Î»Î»Î¬Î¾Î¿Ï…Î½ actualQuantity, unitCost, wasteFactor

type MeasurementMethod =
  | 'manual'      // Î§ÎµÎ¹ÏÎ¿ÎºÎ¯Î½Î·Ï„Î· Î¼Î­Ï„ÏÎ·ÏƒÎ·
  | 'rule'        // Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼ÏŒÏ‚ Î²Î¬ÏƒÎµÎ¹ ÎºÎ±Î½ÏŒÎ½Î± (Ï€.Ï‡. ÎµÎ¼Î²Î±Î´ÏŒÎ½ Ã— ÏÏˆÎ¿Ï‚)
  | 'ai'          // AI-based (DXF recognition)
  | 'hybrid';     // Î£Ï…Î½Î´Ï…Î±ÏƒÎ¼ÏŒÏ‚
```

### 5.3 ÎœÎ¿Î½Î¬Î´ÎµÏ‚ ÎœÎ­Ï„ÏÎ·ÏƒÎ·Ï‚

```typescript
type MeasurementUnit =
  | 'm2'    // Ï„ÎµÏ„ÏÎ±Î³Ï‰Î½Î¹ÎºÎ¬ Î¼Î­Ï„ÏÎ± (Î´Î¬Ï€ÎµÎ´Î±, ÏƒÎ¿Î²Î¬Î´ÎµÏ‚, Ï‡ÏÏÎ¼Î±Ï„Î±)
  | 'm3'    // ÎºÏ…Î²Î¹ÎºÎ¬ Î¼Î­Ï„ÏÎ± (ÏƒÎºÏ…ÏÏŒÎ´ÎµÎ¼Î±, Ï‡Ï‰Î¼Î±Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬)
  | 'm'     // Ï„ÏÎ­Ï‡Î¿Î½Ï„Î± Î¼Î­Ï„ÏÎ± (ÏƒÎ¿Î²Î±Ï„ÎµÏ€Î¯, ÏƒÏ‰Î»Î®Î½ÎµÏ‚, ÎºÎ¬Î³ÎºÎµÎ»Î±)
  | 'pcs'   // Ï„ÎµÎ¼Î¬Ï‡Î¹Î± (Ï€ÏŒÏÏ„ÎµÏ‚, Ï€Î±ÏÎ¬Î¸Ï…ÏÎ±, ÎµÎ¯Î´Î· Ï…Î³Î¹ÎµÎ¹Î½Î®Ï‚)
  | 'kg'    // Ï‡Î¹Î»Î¹ÏŒÎ³ÏÎ±Î¼Î¼Î± (ÏƒÎ¯Î´Î·ÏÎ¿Ï‚, Î¼Î­Ï„Î±Î»Î»Î±)
  | 'lt'    // Î»Î¯Ï„ÏÎ± (Ï‡ÏÏÎ¼Î±Ï„Î±, Î¼Î¿Î½Ï‰Ï„Î¹ÎºÎ¬)
  | 'set'   // ÏƒÎµÏ„ (ÎµÎ³ÎºÎ±Ï„Î±ÏƒÏ„Î¬ÏƒÎµÎ¹Ï‚, Î»ÎµÎ²Î·Ï„Î¿ÏƒÏ„Î¬ÏƒÎ¹Î¿)
  | 'day'   // Î·Î¼Î­ÏÎ± (ÎµÎ½Î¿Î¹ÎºÎ¯Î±ÏƒÎ· ÎµÎ¾Î¿Ï€Î»Î¹ÏƒÎ¼Î¿Ï)
  | 'lump'; // ÎºÎ±Ï„' Î±Ï€Î¿ÎºÎ¿Ï€Î®
```

### 5.2 ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ Î‘Î¤ÎŸÎ•

```typescript
// 3-level hierarchy: group â†’ category â†’ subcategory
// Î Î·Î³Î®: docs/architecture-review/2026-02-11-boq-categories-normalized-spec.md

type CategoryLevel = 'group' | 'category' | 'subcategory';
type WastePolicy = 'none' | 'optional' | 'required';
type SourceAuthority = 'GGDE' | 'SATE' | 'INTERNAL';

interface BOQCategory {
  id: string;
  code: string;                    // 'EARTHWORKS_DEMOLITIONS', 'OIK-EPI-001'
  legacyCode: string | null;       // Mapping ÏƒÎµ ÎµÏ€Î¯ÏƒÎ·Î¼Î¿ Î‘Î¤ÎŸÎ• ÎºÏ‰Î´Î¹ÎºÏŒ
  nameEl: string;                  // 'Î§Ï‰Î¼Î±Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬ ÎºÎ±Î¹ ÎšÎ±Î¸Î±Î¹ÏÎ­ÏƒÎµÎ¹Ï‚'
  nameEn: string;                  // 'Earthworks and Demolitions'
  level: CategoryLevel;            // group, category, subcategory
  parentCode: string | null;       // null = root group
  ifcQuantityType: IfcQuantityType;
  defaultUnit: MeasurementUnit;
  allowedUnits: MeasurementUnit[]; // Validation â€” Ï€Î¿Î¹ÎµÏ‚ Î¼Î¿Î½Î¬Î´ÎµÏ‚ ÎµÏ€Î¹Ï„ÏÎ­Ï€Î¿Î½Ï„Î±Î¹
  defaultWastePct: number;         // 0.08 = 8%
  wastePolicy: WastePolicy;       // none=0 Ï€Î¬Î½Ï„Î±, optional=default, required=Ï…Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÏŒ
  active: boolean;
  sortOrder: number;
  tags: string[];                  // ['site', 'excavation']
  synonymsEl: string[];            // Î“Î¹Î± import matching: ['Ï‡Ï‰Î¼Î±Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬', 'ÎµÎºÏƒÎºÎ±Ï†Î­Ï‚']
  synonymsEn: string[];
  sourceAuthority: SourceAuthority;
  sourceVersion: string;           // 'mapped-v1'
  deprecated: boolean;
  replacementCode: string | null;  // Î‘Î½ deprecated â†’ Î½Î­Î¿Ï‚ ÎºÏ‰Î´Î¹ÎºÏŒÏ‚
  createdAt: string;
  updatedAt: string;
}
```

**12 Top-Level Groups (v1):**

| # | Code | Î•Î»Î»Î·Î½Î¹ÎºÎ¬ | IFC Type | Default Unit |
|---|------|----------|----------|-------------|
| 1 | `EARTHWORKS_DEMOLITIONS` | Î§Ï‰Î¼Î±Ï„Î¿Ï…ÏÎ³Î¹ÎºÎ¬/ÎšÎ±Î¸Î±Î¹ÏÎ­ÏƒÎµÎ¹Ï‚ | volume | mÂ³ |
| 2 | `CONCRETE_REINFORCEMENT` | Î£ÎºÏ…ÏÎ¿Î´Î­Î¼Î±Ï„Î±/ÎŸÏ€Î»Î¹ÏƒÎ¼Î¿Î¯ | volume | mÂ³ |
| 3 | `MASONRY_PARTITIONS` | Î¤Î¿Î¹Ï‡Î¿Ï€Î¿Î¹Î¯ÎµÏ‚/Î§Ï‰ÏÎ¯ÏƒÎ¼Î±Ï„Î± | area | mÂ² |
| 4 | `PLASTER_INSULATION` | Î•Ï€Î¹Ï‡ÏÎ¯ÏƒÎ¼Î±Ï„Î±/ÎœÎ¿Î½ÏÏƒÎµÎ¹Ï‚ | area | mÂ² |
| 5 | `FLOOR_WALL_FINISHES` | Î•Ï€ÎµÎ½Î´ÏÏƒÎµÎ¹Ï‚/Î•Ï€Î¹ÏƒÏ„ÏÏÏƒÎµÎ¹Ï‚ | area | mÂ² |
| 6 | `CARPENTRY_METALWORK` | ÎÏÎ»Î¹Î½Î±/ÎœÎµÏ„Î±Î»Î»Î¹ÎºÎ¬ | weight | kg |
| 7 | `OPENINGS_FRAMES` | Î ÏŒÏÏ„ÎµÏ‚/Î Î±ÏÎ¬Î¸Ï…ÏÎ±/ÎšÎ¿Ï…Ï†ÏÎ¼Î±Ï„Î± | count | pcs |
| 8 | `PAINTINGS_COATINGS` | Î§ÏÏ‰Î¼Î±Ï„Î¹ÏƒÎ¼Î¿Î¯/Î•Ï€Î¹ÏƒÏ„ÏÏÏƒÎµÎ¹Ï‚ | area | mÂ² |
| 9 | `PLUMBING_SANITARY` | Î¥Î´ÏÎ±Ï…Î»Î¹ÎºÎ¬/Î•Î¯Î´Î· Î¥Î³Î¹ÎµÎ¹Î½Î®Ï‚ | count | pcs |
| 10 | `ELECTRICAL_LOW_CURRENT` | Î—Î»ÎµÎºÏ„ÏÎ¿Î»Î¿Î³Î¹ÎºÎ¬/Î‘ÏƒÎ¸ÎµÎ½Î® | count | pcs |
| 11 | `EXTERNAL_WORKS` | Î ÎµÏÎ¹Î²Î¬Î»Î»Ï‰Î½ Î§ÏÏÎ¿Ï‚ | area | mÂ² |
| 12 | `TEMPORARY_SITE_COSTS` | Î•ÏÎ³Î¿Ï„Î±Î¾Î¹Î±ÎºÎ¬/Î§ÏÎ¿Î½Î¹ÎºÎ­Ï‚ | time | day |

### 5.3 BOQ Item (ÎºÎµÎ½Ï„ÏÎ¹ÎºÏŒ entity)

```typescript
interface BOQItem {
  id: string;

  // Î™ÎµÏÎ±ÏÏ‡Î¯Î± (Î³Î¹Î± queries & rollups)
  companyId: string;          // Î•Ï„Î±Î¹ÏÎµÎ¯Î± â€” Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Î¿ Î³Î¹Î± multi-tenant queries
  projectId: string;          // ÎˆÏÎ³Î¿ â€” Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Î¿ Î³Î¹Î± project rollup
  buildingId: string;         // ÎšÏ„Î¯ÏÎ¹Î¿ â€” ÎºÏÏÎ¹Î¿ ownership level

  // Scope (Î±Ï€ÏŒÏ†Î±ÏƒÎ· Â§4.1.1)
  scope: 'building' | 'unit';
  linkedUnitId: string | null;  // null Î±Î½ scope = 'building'

  categoryCode: string;       // 'OIK-5' (Î”Î¬Ï€ÎµÎ´Î±)
  ifcQuantityType: IfcQuantityType; // IFC-compatible classification

  // Î ÎµÏÎ¹Î³ÏÎ±Ï†Î®
  description: string;        // 'Î Î»Î±ÎºÎ¬ÎºÎ¹Î± Î´Î±Ï€Î­Î´Î¿Ï… 60x60'
  specifications: string | null; // 'Î Î¿ÏÏƒÎµÎ»Î¬Î½Î·, Î±Î½Ï„Î¹Î¿Î»Î¹ÏƒÎ¸Î·Ï„Î¹ÎºÎ¬ R10'

  // Î Î¿ÏƒÏŒÏ„Î·Ï„ÎµÏ‚ (Î±Ï€ÏŒÏ†Î±ÏƒÎ· Â§4.1.2 â€” estimated vs actual)
  estimatedQuantity: number;       // Î ÏÎ¿Ï‹Ï€Î¿Î»Î¿Î³Î¹ÏƒÏ„Î¹ÎºÎ® (Î±Ï€ÏŒ ÏƒÏ‡Î­Î´Î¹Î±)
  actualQuantity: number | null;   // Î ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ® (ÏƒÏ…Î¼Ï€Î»Î·ÏÏÎ½ÎµÏ„Î±Î¹ Î±ÏÎ³ÏŒÏ„ÎµÏÎ±)
  unit: MeasurementUnit;           // 'm2'

  // Î¦ÏÏÎ± (Î±Ï€ÏŒÏ†Î±ÏƒÎ· Â§4.1.4)
  wasteFactor: number;        // 0.08 = 8% (default Î® override)
  // grossQuantity = estimatedQuantity Ã— (1 + wasteFactor) â†’ computed

  // ÎšÏŒÏƒÏ„Î¿Ï‚ Î±Î½Î¬ Î¼Î¿Î½Î¬Î´Î± (ÎºÎ»Î·ÏÎ¿Î½Î¿Î¼ÎµÎ¯Ï„Î±Î¹ Î±Ï€ÏŒ Ï„Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿ Â§4.1.3)
  materialUnitCost: number;   // 25.00 â‚¬/mÂ²
  laborUnitCost: number;      // 15.00 â‚¬/mÂ²
  equipmentUnitCost: number;  // 0 â‚¬/mÂ²
  priceOverridden: boolean;   // true = Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¬Î»Î»Î±Î¾Îµ Ï„Î¹Î¼Î®, false = inherited

  // Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î­Î½Î± (computed, Î´ÎµÎ½ Î±Ï€Î¿Î¸Î·ÎºÎµÏÎ¿Î½Ï„Î±Î¹)
  // grossQuantity = estimatedQuantity Ã— (1 + wasteFactor)
  // totalMaterialCost = grossQuantity Ã— materialUnitCost
  // totalLaborCost = grossQuantity Ã— laborUnitCost
  // totalEquipmentCost = grossQuantity Ã— equipmentUnitCost
  // totalCost = totalMaterialCost + totalLaborCost + totalEquipmentCost
  // variance = actualQuantity ? ((actualQuantity - estimatedQuantity) / estimatedQuantity Ã— 100) : null

  // Î ÏÎ¿Î­Î»ÎµÏ…ÏƒÎ·
  source: 'manual' | 'dxf-auto' | 'dxf-verified';

  // Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Gantt
  linkedPhaseId: string | null;
  linkedTaskId: string | null;

  // Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï‡ÏÏÎ¿ (Ï€ÏÎ¿Î±Î¹ÏÎµÏ„Î¹ÎºÎ® â€” ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Ï„Î¿Ï… unitId)
  linkedFloorId: string | null;
  linkedRoomType: RoomType | null;

  // Quantity Lifecycle (Â§5.7 gap analysis â€” Ï€Î»Î®ÏÎµÏ‚ lifecycle)
  estimatedNetQuantity: number;          // ÎšÎ±Î¸Î±ÏÎ® Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± (Î±Ï€ÏŒ ÏƒÏ‡Î­Î´Î¹Î±)
  // estimatedGrossQuantity = estimatedNet Ã— (1 + wasteFactor) â†’ computed
  orderedQuantity: number | null;        // Î Î¿ÏƒÏŒÏ„Î·Ï„Î± Ï€Î±ÏÎ±Î³Î³ÎµÎ»Î¯Î±Ï‚ (Î±ÏÎ³ÏŒÏ„ÎµÏÎ±)
  installedQuantity: number | null;      // Î Î¿ÏƒÏŒÏ„Î·Ï„Î± ÎµÎ³ÎºÎ±Ï„ÎµÏƒÏ„Î·Î¼Î­Î½Î· (ÎµÏÎ³Î¿Ï„Î¬Î¾Î¹Î¿)
  certifiedQuantity: number | null;      // Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î· Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± (Î¼Î·Ï‡Î±Î½Î¹ÎºÏŒÏ‚)
  paidQuantity: number | null;           // Î Î»Î·ÏÏ‰Î¼Î­Î½Î· Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î± (Î»Î¿Î³Î±ÏÎ¹Î±ÏƒÎ¼ÏŒÏ‚)

  // Catalog versioning
  catalogVersion: string;     // '2026.02.v1' â€” Ï€Î¿Î¹Î± Î­ÎºÎ´Î¿ÏƒÎ· catalog Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®Î¸Î·ÎºÎµ

  // Baseline / Provenance (Â§5.2 gap analysis)
  baselineVersion: number;              // 1, 2, 3... â€” Î±Ï…Î¾Î¬Î½ÎµÎ¹ ÏƒÎµ ÎºÎ¬Î¸Îµ approved baseline
  drawingRevisionId: string | null;     // Î Î¿Î¹Î± Î±Î½Î±Î¸ÎµÏÏÎ·ÏƒÎ· ÏƒÏ‡ÎµÎ´Î¯Î¿Ï… Ï€Î±ÏÎ®Î³Î±Î³Îµ Ï„Î·Î½ Ï€Î¿ÏƒÏŒÏ„Î·Ï„Î±
  measurementMethod: MeasurementMethod; // Î ÏÏ‚ Ï…Ï€Î¿Î»Î¿Î³Î¯ÏƒÏ„Î·ÎºÎµ

  // Change Order tracking (Â§5.4 gap analysis â€” bridge now)
  changeOrderId: string | null;         // Î‘Î½ Ï€ÏÎ¿Î­ÎºÏ…ÏˆÎµ Î±Ï€ÏŒ change order
  isOriginalBudget: boolean;            // true = Î±ÏÏ‡Î¹ÎºÏŒÏ‚ budget, false = approved change

  // DXF confidence (Â§5.6 gap analysis â€” Phase C bridge)
  confidenceScore: number | null;       // 0-1, Î¼ÏŒÎ½Î¿ Î³Î¹Î± source='dxf-auto'
  qaStatus: 'pending' | 'accepted' | 'rejected' | null;
  qaReasonCodes: string[];              // ['open_polyline', 'missing_layer', ...]

  // Governance (Â§5.1 gap analysis â€” enterprise workflow)
  status: BOQItemStatus;
  notes: string | null;
  createdAt: string;
  updatedAt: string;
  createdBy: string;
}

type RoomType =
  | 'bathroom'    // ÎœÏ€Î¬Î½Î¹Î¿
  | 'kitchen'     // ÎšÎ¿Ï…Î¶Î¯Î½Î±
  | 'bedroom'     // Î¥Ï€Î½Î¿Î´Ï‰Î¼Î¬Ï„Î¹Î¿
  | 'living'      // Î£Î±Î»ÏŒÎ½Î¹
  | 'hallway'     // Î”Î¹Î¬Î´ÏÎ¿Î¼Î¿Ï‚
  | 'balcony'     // ÎœÏ€Î±Î»ÎºÏŒÎ½Î¹
  | 'storage'     // Î‘Ï€Î¿Î¸Î®ÎºÎ·
  | 'common'      // ÎšÎ¿Î¹Î½ÏŒÏ‡ÏÎ·ÏƒÏ„Î¿Ï‚ Ï‡ÏÏÎ¿Ï‚
  | 'exterior'    // Î•Î¾Ï‰Ï„ÎµÏÎ¹ÎºÏŒÏ‚ Ï‡ÏÏÎ¿Ï‚
  | 'staircase'   // ÎšÎ»Î¹Î¼Î±ÎºÎ¿ÏƒÏ„Î¬ÏƒÎ¹Î¿
  | 'parking';    // Î£Ï„Î¬Î¸Î¼ÎµÏ…ÏƒÎ·
```

### 5.4 BOQ Summary (rollup)

```typescript
interface BOQSummary {
  buildingId: string;
  totalItems: number;
  totalMaterialCost: number;
  totalLaborCost: number;
  totalEquipmentCost: number;
  totalCost: number;
  completionPercentage: number;  // % confirmed items
  byCategory: Record<string, {
    categoryCode: string;
    categoryName: string;
    itemCount: number;
    totalCost: number;
  }>;
}
```

---

## 6. Î¤Î¹ Î˜Î± ÎœÎµÏ„ÏÎ¬ÎµÎ¹ Î· Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î•Ï€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ· (Phase 2 â€” DXF)

Î‘Ï…Ï„ÏŒ Ï€Î¿Ï… Î¶Î·Ï„Î¬ Î¿ Î“Î¹ÏÏÎ³Î¿Ï‚ ÎµÎ¯Î½Î±Î¹ **Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· Ï‡ÏÏÏ‰Î½ ÎºÎ±Î¹ ÎµÎ¾Î±Î³Ï‰Î³Î® Ï€Î¿ÏƒÎ¿Ï„Î®Ï„Ï‰Î½** Î±Ï€ÏŒ DXF ÏƒÏ‡Î­Î´Î¹Î¿ ÎºÎ¬Ï„Î¿ÏˆÎ·Ï‚. Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÎ¬:

### 6.1 Î¤Î¹ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± ÎµÎ¾Î¬Î³ÎµÎ¹

| ÎœÎ­Ï„ÏÎ·ÏƒÎ· | Î ÏÏ‚ Î¥Ï€Î¿Î»Î¿Î³Î¯Î¶ÎµÏ„Î±Î¹ | Î§ÏÎ®ÏƒÎ· |
|---------|------------------|-------|
| **Î•Î¼Î²Î±Î´ÏŒÎ½ Î´Î±Ï€Î­Î´Î¿Ï…** (mÂ²) | Polygon area Î±Î½Î¬ Ï‡ÏÏÎ¿ | Î Î»Î±ÎºÎ¬ÎºÎ¹Î±, Î¾ÏÎ»Î¿, Î¼Î¬ÏÎ¼Î±ÏÎ¿ |
| **Î•Î¼Î²Î±Î´ÏŒÎ½ Î¿ÏÎ¿Ï†Î®Ï‚** (mÂ²) | â‰ˆ Î¯Î´Î¹Î¿ Î¼Îµ Î´Î¬Ï€ÎµÎ´Î¿ | Î£Î¿Î²Î¬Î´ÎµÏ‚ Î¿ÏÎ¿Ï†Î®Ï‚, Ï‡ÏÏÎ¼Î±Ï„Î± |
| **Î•Î¼Î²Î±Î´ÏŒÎ½ Ï„Î¿Î¯Ï‡Ï‰Î½** (mÂ²) | Î ÎµÏÎ¯Î¼ÎµÏ„ÏÎ¿Ï‚ Ï‡ÏÏÎ¿Ï… Ã— ÏÏˆÎ¿Ï‚ âˆ’ ÎºÎ¿Ï…Ï†ÏÎ¼Î±Ï„Î± | Î£Î¿Î²Î¬Î´ÎµÏ‚, Ï‡ÏÏÎ¼Î±Ï„Î±, Ï€Î»Î±ÎºÎ¬ÎºÎ¹Î± Ï„Î¿Î¯Ï‡Î¿Ï… |
| **ÎœÎ®ÎºÎ¿Ï‚ ÏƒÎ¿Î²Î±Ï„ÎµÏ€Î¯** (m) | Î ÎµÏÎ¯Î¼ÎµÏ„ÏÎ¿Ï‚ Ï‡ÏÏÎ¿Ï… âˆ’ Ï€ÏŒÏÏ„ÎµÏ‚ | Î£Î¿Î²Î±Ï„ÎµÏ€Î¯ |
| **Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Ï€Î¿ÏÏ„ÏÎ½** (Ï„ÎµÎ¼) | Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· block/symbol | Î ÏŒÏÏ„ÎµÏ‚ |
| **Î‘ÏÎ¹Î¸Î¼ÏŒÏ‚ Ï€Î±ÏÎ±Î¸ÏÏÏ‰Î½** (Ï„ÎµÎ¼) | Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· block/symbol | ÎšÎ¿Ï…Ï†ÏÎ¼Î±Ï„Î± |
| **Î•Î¯Î´Î· Ï…Î³Î¹ÎµÎ¹Î½Î®Ï‚** (Ï„ÎµÎ¼) | Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· blocks ÏƒÎµ Î¼Ï€Î¬Î½Î¹Î¿/WC | ÎÎ¹Ï€Ï„Î®ÏÎµÏ‚, Î»ÎµÎºÎ¬Î½ÎµÏ‚, Î¼Ï€Î±Î½Î¹Î­ÏÎµÏ‚ |
| **ÎœÎ®ÎºÎ¿Ï‚ ÏƒÏ‰Î»Î·Î½ÏÏƒÎµÏ‰Î½** (m) | Routing Î¼ÎµÏ„Î±Î¾Ï Ï…Î³ÏÏÎ½ Ï‡ÏÏÏ‰Î½ | Î¥Î´ÏÎ±Ï…Î»Î¹ÎºÎ¬ |
| **Î£Î·Î¼ÎµÎ¯Î± ÏÎµÏÎ¼Î±Ï„Î¿Ï‚** (Ï„ÎµÎ¼) | Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· electrical symbols | Î ÏÎ¯Î¶ÎµÏ‚, Ï†Ï‰Ï„Î¹ÏƒÏ„Î¹ÎºÎ¬ |

### 6.2 Î¤ÎµÏ‡Î½Î¹ÎºÎ® Î ÏÎ¿ÏƒÎ­Î³Î³Î¹ÏƒÎ· (AI + Rules)

```
DXF File
  â”‚
  â–¼
Layer Analysis (Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· layers: WALLS, DOORS, WINDOWS, SANITARY...)
  â”‚
  â–¼
Room Detection (closed polylines â†’ Ï‡ÏÏÎ¿Î¹)
  â”‚
  â–¼
Room Classification (AI: Î¼Ï€Î¬Î½Î¹Î¿, ÎºÎ¿Ï…Î¶Î¯Î½Î±, Ï…Ï€Î½Î¿Î´Ï‰Î¼Î¬Ï„Î¹Î¿...)
  â”‚
  â–¼
Element Detection (blocks â†’ Ï€ÏŒÏÏ„ÎµÏ‚, Ï€Î±ÏÎ¬Î¸Ï…ÏÎ±, ÎµÎ¯Î´Î· Ï…Î³Î¹ÎµÎ¹Î½Î®Ï‚)
  â”‚
  â–¼
Quantity Calculation (ÎµÎ¼Î²Î±Î´Î¬, Î¼Î®ÎºÎ·, Ï„ÎµÎ¼Î¬Ï‡Î¹Î±)
  â”‚
  â–¼
BOQ Generation (export â†’ Î¯Î´Î¹Î¿ BOQItem model, source='dxf-auto')
```

### 6.3 Î“Î¹Î±Ï„Î¯ Modular

Î— **Î¯Î´Î¹Î± Î´Î¿Î¼Î® Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½** (BOQItem) Ï‡ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ ÎºÎ±Î¹ Î³Î¹Î± Ï‡ÎµÎ¹ÏÏ‰Î½Î±ÎºÏ„Î¹ÎºÎ® ÎºÎ±Î¹ Î³Î¹Î± Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÏ€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ·. Î— Î¼ÏŒÎ½Î· Î´Î¹Î±Ï†Î¿ÏÎ¬ ÎµÎ¯Î½Î±Î¹ Ï„Î¿ Ï€ÎµÎ´Î¯Î¿ `source`:
- `manual` = Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Ï„Î·Î½ ÎºÎ±Ï„Î¬Î³ÏÎ±ÏˆÎµ
- `dxf-auto` = Ï„Î¿ DXF viewer Ï„Î·Î½ ÎµÎ¾Î®Î³Î±Î³Îµ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î±
- `dxf-verified` = Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· + ÎµÏ€Î¹Î²ÎµÎ²Î±Î¹Ï‰Î¼Î­Î½Î· Î±Ï€ÏŒ Ï‡ÏÎ®ÏƒÏ„Î·

---

## 7. UI Integration â€” Î Î¿Ï ÎœÏ€Î±Î¯Î½ÎµÎ¹ ÏƒÏ„Î·Î½ Î•Ï†Î±ÏÎ¼Î¿Î³Î®

### 7.1 Building Management â€” ÎÎ­Î¿ Tab

```
Building Detail Page
  â”œâ”€ Tab: Î“ÎµÎ½Î¹ÎºÎ¬ (Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)
  â”œâ”€ Tab: ÎœÎ¿Î½Î¬Î´ÎµÏ‚ (Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)
  â”œâ”€ Tab: Î§ÏÎ¿Î½Î¿Î´Î¹Î¬Î³ÏÎ±Î¼Î¼Î± / Gantt (Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)
  â”œâ”€ Tab: Î•Ï€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÎ¹Ï‚ â† ÎÎ•ÎŸ
  â”‚    â”œâ”€ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ (accordion Î‘Î¤ÎŸÎ•)
  â”‚    â”œâ”€ Items Î±Î½Î¬ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± (table + inline edit)
  â”‚    â”œâ”€ Summary cards (Î¥Î»Î¹ÎºÎ¬ / Î•ÏÎ³Î±ÏƒÎ¯ÎµÏ‚ / Î£ÏÎ½Î¿Î»Î¿)
  â”‚    â””â”€ Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï†Î¬ÏƒÎµÎ¹Ï‚ Gantt
  â”œâ”€ Tab: Î§ÏÏÎ¿Î¹ Î£Ï„Î¬Î¸Î¼ÎµÏ…ÏƒÎ·Ï‚ (Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)
  â””â”€ Tab: Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚ (Ï…Ï€Î¬ÏÏ‡ÎµÎ¹)
```

### 7.2 Project Level â€” Summary/Rollup

```
Project Detail Page
  â””â”€ Tab/Card: Î£Ï…Î³ÎºÎµÎ½Ï„ÏÏ‰Ï„Î¹ÎºÎ® Î•Ï€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ·
       â”œâ”€ Î‘Î½Î¬ ÎºÏ„Î¯ÏÎ¹Î¿: ÏƒÏÎ½Î¿Î»Î¿ ÎºÏŒÏƒÏ„Î¿Ï…Ï‚
       â”œâ”€ Î‘Î½Î¬ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: cross-building ÏƒÏÎ½Î¿Î»Î±
       â””â”€ Grand total: Î¥Î»Î¹ÎºÎ¬ + Î•ÏÎ³Î±ÏƒÎ¯ÎµÏ‚ + Î•Î¾Î¿Ï€Î»Î¹ÏƒÎ¼ÏŒÏ‚
```

---

## 8. Î£ÏÎ½Î´ÎµÏƒÎ· BOQ â†” Gantt (5D Concept)

### 8.1 ÎœÎ¿Î½Ï„Î­Î»Î¿ Î£ÏÎ½Î´ÎµÏƒÎ·Ï‚

```
Construction Phase (PH-004: "Î£Î¿Î²Î¬Î´ÎµÏ‚")
  â”œâ”€ startDate: 2026-03-15
  â”œâ”€ endDate: 2026-03-30
  â”œâ”€ progress: 60%
  â””â”€ linkedBOQItems: [
       { boqItemId: "boq_001", estimatedCost: 5,175â‚¬ },
       { boqItemId: "boq_002", estimatedCost: 1,680â‚¬ },
       { boqItemId: "boq_003", estimatedCost: 314.50â‚¬ }
     ]
     â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     Phase Cost: 7,169.50â‚¬
     Spent so far (60%): â‰ˆ 4,301.70â‚¬
```

### 8.2 Î¤Î¹ ÎšÎµÏÎ´Î¯Î¶Î¿Ï…Î¼Îµ

- **Cash-flow timeline:** ÎÎ­ÏÎµÎ¹Ï‚ Ï€ÏŒÏ„Îµ Î¸Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯Ï‚ Ï€ÏŒÏƒÎ± Ï‡ÏÎ®Î¼Î±Ï„Î±
- **Progress = Cost:** Î— Ï€ÏÏŒÎ¿Î´Î¿Ï‚ ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®Ï‚ = Ï€ÏÏŒÎ¿Î´Î¿Ï‚ Î´Î±Ï€Î¬Î½Î·Ï‚
- **Variance alerts:** Î‘Î½ Î· Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ® Î´Î±Ï€Î¬Î½Î· Î¾ÎµÏ€ÎµÏÎ¬ÏƒÎµÎ¹ Ï„Î·Î½ ÎµÎºÏ„Î¯Î¼Î·ÏƒÎ·

---

## 9. Î£ÏÎ³ÎºÏÎ¹ÏƒÎ· Î¼Îµ Î‘Î½Ï„Î±Î³Ï‰Î½Î¹ÏƒÎ¼ÏŒ

| Feature | Nestor (Î ÏÏŒÏ„Î±ÏƒÎ·) | PlanSwift | CostX | iTWO |
|---------|-----------------|-----------|-------|------|
| Î§ÎµÎ¹ÏÏ‰Î½Î±ÎºÏ„Î¹ÎºÎ® BOQ | âœ… Phase 1 | âœ… | âœ… | âœ… |
| Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î±Ï€ÏŒ DXF | âœ… Phase 2 | âœ… (PDF/CAD) | âœ… (PDF) | âœ… (BIM) |
| Î‘Î¤ÎŸÎ• ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ | âœ… Î•Î»Î»Î·Î½Î¹ÎºÏŒ standard | âŒ | âŒ | âŒ |
| Gantt integration | âœ… Phase 3 | âŒ | âŒ | âœ… |
| Î¥Î»Î¹ÎºÎ¬ + Î•ÏÎ³Î±ÏƒÎ¯ÎµÏ‚ | âœ… 3-way split | âœ… | âœ… | âœ… |
| Per-building hierarchy | âœ… | âŒ (per-project) | âœ… | âœ… |
| Î•Î»Î»Î·Î½Î¹ÎºÎ¬ | âœ… | âŒ | âŒ | âŒ |
| Web-based | âœ… | âŒ (desktop) | âŒ (desktop) | âœ… |

**Competitive advantage:** Nestor Î¸Î± ÎµÎ¯Î½Î±Î¹ Î· **Î¼ÏŒÎ½Î· ÎµÎ»Î»Î·Î½Î¹ÎºÎ® web-based ÎµÏ†Î±ÏÎ¼Î¿Î³Î®** Ï€Î¿Ï… ÏƒÏ…Î½Î´Ï…Î¬Î¶ÎµÎ¹ BOQ + Gantt + DXF + Î‘Î¤ÎŸÎ• ÏƒÎµ Î­Î½Î±.

---

## 10. File Structure (Proposed)

```
src/
  services/
    measurements/
      index.ts                    # Barrel exports
      boq-service.ts              # CRUD operations
      boq-repository.ts           # Firestore access
      cost-engine.ts              # Î¥Ï€Î¿Î»Î¿Î³Î¹ÏƒÎ¼Î¿Î¯ ÎºÏŒÏƒÏ„Î¿Ï…Ï‚
      boq-templates.ts            # Î ÏÏŒÏ„Ï…Ï€Î± Î‘Î¤ÎŸÎ•
  types/
    measurements/
      boq.ts                      # BOQItem, BOQCategory, BOQSummary
      cost.ts                     # CostBreakdown, PriceListItem
      units.ts                    # MeasurementUnit, conversions
  components/
    building-management/
      tabs/
        MeasurementsTabContent.tsx # ÎšÏÏÎ¹Î¿ tab component
      measurements/
        BOQCategoryAccordion.tsx   # ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ Î‘Î¤ÎŸÎ•
        BOQItemRow.tsx             # Inline edit row
        BOQSummaryCards.tsx        # Î£ÏÎ½Î¿ÏˆÎ· ÎºÏŒÏƒÏ„Î¿Ï…Ï‚
        BOQGanttLink.tsx           # Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï†Î¬ÏƒÎµÎ¹Ï‚
        BOQImportExport.tsx        # Excel import/export
  config/
    boq-categories.ts             # Î‘Î¤ÎŸÎ• ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ (master data)
  i18n/
    locales/
      el/measurements.json        # Î•Î»Î»Î·Î½Î¹ÎºÎ¬
      en/measurements.json        # English
```

---

## 11. Î Î·Î³Î­Ï‚ ÎˆÏÎµÏ…Î½Î±Ï‚

- [RIB Software â€” Bill of Quantities](https://www.rib-software.com/en/blogs/bill-of-quantities)
- [5D Cost Estimation Guide 2026](https://conwize.io/articles/5d-cost-estimation-what-is-it-and-how-does-it-work/)
- [Procore â€” 5D BIM](https://www.procore.com/library/5d-bim)
- [Best BOQ Software 2026 â€” Realx ERP](https://realxerp.com/construction-boq-software.php)
- [ACE-Hellas Î•Î¡Î“ÎŸÎ›Î—Î Î¤Î—Î£ â€” Î•Î»Î»Î·Î½Î¹ÎºÏŒ Î»Î¿Î³Î¹ÏƒÎ¼Î¹ÎºÏŒ ÎµÏ€Î¹Î¼ÎµÏ„ÏÎ®ÏƒÎµÏ‰Î½](https://docplayer.gr/474248-Ace-hellas-cad-solutions-h-kalyteri-lysi-diaheirisis-dimosion-ergon-ergoliptis-prokostologisi-epimetriseis-say-fay.html)
- [Î“Î“Î”Î• â€” Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÎ¬ Î¤Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î± / Î£Ï…Î½Ï„ÎµÎ»ÎµÏƒÏ„Î­Ï‚ Î‘Î½Î±Î¸ÎµÏÏÎ·ÏƒÎ·Ï‚](https://www.ggde.gr/index.php?option=com_docman&task=cat_view&gid=29)
- [Î£Î‘Î¤Î• â€” Î¤Î¹Î¼Î¿Î»ÏŒÎ³Î¹Î±](https://www.sate.gr/html/timologia.aspx)
- [Î•Î‘Î  â€” Î— Ï„ÎµÏ‡Î½Î¹ÎºÎ® Ï„Î·Ï‚ ÎµÏ€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ·Ï‚ ÏƒÎµ Ï„Ï…Ï€Î¹ÎºÎ­Ï‚ ÎºÎ±Ï„Î¿Î¹ÎºÎ¯ÎµÏ‚](https://apothesis.eap.gr/archive/item/85428)
- [Novatr â€” 10 Essential Software Tools for QS 2025](https://www.novatr.com/blog/10-essential-software-tools-for-quantity-surveyors)

---

## 12. Gap Analysis â€” Î•Ï…ÏÎ®Î¼Î±Ï„Î± Î•Î»Î­Î³Ï‡Î¿Ï…

Î Î·Î³Î®: `docs/architecture-review/2026-02-11-adr175-gap-analysis-report.md`

**ÎšÏÎ¹Ï„Î¹ÎºÎ®:** Î¤Î¿ ADR-175 Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¾ÎµÎ»Î¹Ï‡Î¸ÎµÎ¯ Î±Ï€ÏŒ **BOQ tool** ÏƒÎµ **project controls system**.

### 12.1 Î•Î½ÏƒÏ‰Î¼Î±Ï„Ï‰Î¼Î­Î½Î± ÏƒÏ„Î¿ Data Model (Phase 1)

| Î•ÏÏÎ·Î¼Î± | Î›ÏÏƒÎ· | Status |
|--------|------|--------|
| Governance states Ï€ÎµÎ½Î¹Ï‡ÏÎ¬ | `draftâ†’submittedâ†’approvedâ†’certifiedâ†’locked` | âœ… Î•Î½ÏƒÏ‰Î¼Î±Ï„ÏÎ¸Î·ÎºÎµ (Â§5.2) |
| Quantity lifecycle ÎµÎ»Î»Î¹Ï€Î­Ï‚ | 6 Ï€ÎµÎ´Î¯Î±: estimatedâ†’orderedâ†’installedâ†’certifiedâ†’paid | âœ… Î•Î½ÏƒÏ‰Î¼Î±Ï„ÏÎ¸Î·ÎºÎµ (Â§5.5 BOQItem) |
| Baseline/provenance Î»ÎµÎ¯Ï€ÎµÎ¹ | `baselineVersion`, `drawingRevisionId`, `measurementMethod` | âœ… Î•Î½ÏƒÏ‰Î¼Î±Ï„ÏÎ¸Î·ÎºÎµ (Â§5.5 BOQItem) |
| Change Order tracking | `changeOrderId`, `isOriginalBudget` | âœ… Î•Î½ÏƒÏ‰Î¼Î±Ï„ÏÎ¸Î·ÎºÎµ (Â§5.5 BOQItem) |
| DXF confidence scoring | `confidenceScore`, `qaStatus`, `qaReasonCodes` | âœ… Î•Î½ÏƒÏ‰Î¼Î±Ï„ÏÎ¸Î·ÎºÎµ (Â§5.5 BOQItem) |

### 12.2 ÎœÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÎ¬ Modules (Bridge Now, Build Later)

| Module | Entities | Phase |
|--------|---------|-------|
| **Change Orders** | `boq_change_orders` (scope, rate, schedule, mixed) | Phase D |
| **Subcontractor Financial** | `boq_contracts`, `boq_sov_lines`, `boq_payment_applications`, `boq_certifications`, `boq_retainage_ledger` | Phase D |
| **EVM Kernel** | `boq_evm_periods` (PV, EV, AC per month) + computed SPI/CPI | Phase D |
| **Unit Conversions** | kgâ†”ton, mÂ²â†”ÎºÎ¿Ï…Ï„Î¯ coverage, currency escalation | Phase 1C |

### 12.3 Î‘Î¾Î¹Î¿Î»ÏŒÎ³Î·ÏƒÎ·

Î— Î±ÏÏ‡Î¹ÎºÎ® ÎºÏÎ¹Ï„Î¹ÎºÎ® Î®Ï„Î±Î½ ÏƒÏ‰ÏƒÏ„Î®: Ï‡Ï‰ÏÎ¯Ï‚ governance, baselines, quantity lifecycle, Ï„Î¿ ÏƒÏÏƒÏ„Î·Î¼Î± Î¸Î± Î®Ï„Î±Î½ Î±Ï€Î»ÏŒ BOQ tool. ÎœÎµ Ï„Î¹Ï‚ ÎµÎ½ÏƒÏ‰Î¼Î±Ï„ÏÏƒÎµÎ¹Ï‚, Ï„Î¿ data model ÎµÎ¯Î½Î±Î¹ Ï€Î»Î­Î¿Î½ **project controls-ready** â€” Î±ÎºÏŒÎ¼Î± ÎºÎ¹ Î±Î½ Î· Ï€Î»Î®ÏÎ·Ï‚ Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î³Î¯Î½ÎµÎ¹ ÏƒÏ„Î±Î´Î¹Î±ÎºÎ¬.

---

## 13. Î•Ï€ÏŒÎ¼ÎµÎ½Î± Î’Î®Î¼Î±Ï„Î± (Î•Î½Î·Î¼ÎµÏÏ‰Î¼Î­Î½Î±)

| Phase | Î¤Î¹ | Î ÎµÏÎ¹Î»Î±Î¼Î²Î¬Î½ÎµÎ¹ |
|-------|-----|-------------|
| **1A** | Types + Service + Repository | Î Î»Î®ÏÎµÏ‚ data model (Î¼Îµ governance, lifecycle, baseline fields) |
| **1B** | UI Tab + CRUD | Î§ÎµÎ¹ÏÏ‰Î½Î±ÎºÏ„Î¹ÎºÎ® ÎµÏ€Î¹Î¼Î­Ï„ÏÎ·ÏƒÎ· + governance workflow |
| **1C** | Î¤Î¹Î¼Î¿ÎºÎ±Ï„Î¬Î»Î¿Î³Î¿Ï‚ + Excel Import/Export | Master price list + 3-level inheritance + import validation |
| **1D** | PDF Export | Dual mode: Tender (Î‘Î¤ÎŸÎ•) + Internal (detailed) |
| **B** | Gantt â†” BOQ link UI | Phase cost summaries, cash-flow projection |
| **C** | DXF Auto Extraction | Room detection, element classification, confidence scoring |
| **D** | Project Controls | Subcontractor financial, change orders, EVM, certifications |

---

## 14. Î£ÏÎ½Î´ÎµÏƒÎ¼Î¿Î¹ Î•ÏÎµÏ…Î½ÏÎ½

| Î‘ÏÏ‡ÎµÎ¯Î¿ | Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ |
|--------|------------|
| `docs/architecture-review/2026-02-11-measurements-architecture-report.md` | Î‘ÏÏ‡Î¹ÎºÎ® Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® Î±Î½Î±Ï†Î¿ÏÎ¬ (Sonnet) |
| `docs/architecture-review/2026-02-11-boq-parallel-research.md` | ÎˆÏÎµÏ…Î½Î± #1: Î‘Î¤ÎŸÎ•, IFC, DXF, Excel |
| `docs/architecture-review/2026-02-11-boq-categories-normalized-spec.md` | Master catalog spec |
| `docs/architecture-review/2026-02-11-boq-parallel-research-2.md` | ÎˆÏÎµÏ…Î½Î± #2: PDF, Subcontractors, 5D/EVM, Î Î¹ÏƒÏ„Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚ |
| `docs/architecture-review/2026-02-11-adr175-gap-analysis-report.md` | Gap analysis + Ï€ÏÎ¿Ï„Î¬ÏƒÎµÎ¹Ï‚ |
| `docs/architecture-review/2026-02-11-timeline-gantt-measurements-integration-report.md` | Gantt integration: milestones, M:N links, EVM, tech debt |

---

## 15. Use Case Documents (Implementation Contracts)

Î— ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÏƒÏ€Î¬ÏƒÏ„Î·ÎºÎµ ÏƒÎµ 6 Î¾ÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î¬ UC documents â€” ÎºÎ¬Î¸Îµ UC ÎµÎ¯Î½Î±Î¹ self-contained implementation contract:

| UC | Î¤Î¯Ï„Î»Î¿Ï‚ | Phase | Î‘ÏÏ‡ÎµÎ¯Î¿ |
|----|--------|-------|--------|
| UC-BOQ-001 | Manual BOQ CRUD | 1A + 1B | `docs/boq/use-cases/UC-BOQ-001-manual-boq-crud.md` |
| UC-BOQ-002 | Price Inheritance + Waste | 1C | `docs/boq/use-cases/UC-BOQ-002-price-inheritance-waste.md` |
| UC-BOQ-003 | Gantt Link + Cashflow/EVM | B + D | `docs/boq/use-cases/UC-BOQ-003-gantt-link-cashflow-evm.md` |
| UC-BOQ-004 | DXF Auto + Verification | C | `docs/boq/use-cases/UC-BOQ-004-dxf-auto-verification.md` |
| UC-BOQ-005 | Subcontractor + Certification + Retainage | D | `docs/boq/use-cases/UC-BOQ-005-subcontractor-certification-retainage.md` |
| UC-BOQ-006 | Excel/PDF Import-Export | 1C + 1D | `docs/boq/use-cases/UC-BOQ-006-excel-pdf-import-export.md` |

**Index:** `docs/boq/use-cases/README.md`

**Dependency chain:** UC-001 â†’ UC-002 â†’ UC-003/005/006 | UC-001 â†’ UC-004

---

*Î‘Ï…Ï„ÏŒ Ï„Î¿ ADR ÎµÎ¯Î½Î±Î¹ Ï€Î»Î®ÏÎ·Ï‚ Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ® Î±Î½Î±Ï†Î¿ÏÎ¬ ("constitution"). Î¤Î± UC documents Î±Ï€Î¿Ï„ÎµÎ»Î¿ÏÎ½ Ï„Î± implementation contracts. Î— Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î¸Î± Î¾ÎµÎºÎ¹Î½Î®ÏƒÎµÎ¹ Î¼ÏŒÎ½Î¿ Î¼ÎµÏ„Î¬ Î±Ï€ÏŒ Î­Î³ÎºÏÎ¹ÏƒÎ· Ï„Î¿Ï… Î“Î¹ÏÏÎ³Î¿Ï….*
