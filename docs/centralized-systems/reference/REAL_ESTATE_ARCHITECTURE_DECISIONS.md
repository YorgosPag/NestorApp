# Real Estate Architecture Decisions

> **Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±Ï‚**: 2026-01-31
> **Î Î·Î³Î®**: REAL_ESTATE_HIERARCHY_DOCUMENTATION.md (7106 Î³ÏÎ±Î¼Î¼Î­Ï‚)
> **ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ·**: LOCKED - Î•Î³ÎºÎµÎºÏÎ¹Î¼Î­Î½ÎµÏ‚ Î‘Ï€Î¿Ï†Î¬ÏƒÎµÎ¹Ï‚

---

## Executive Summary

Î‘Ï…Ï„ÏŒ Ï„Î¿ Î­Î³Î³ÏÎ±Ï†Î¿ ÏƒÏ…Î½Î¿ÏˆÎ¯Î¶ÎµÎ¹ Ï„Î¹Ï‚ **Î¿ÏÎ¹ÏƒÏ„Î¹ÎºÎ­Ï‚ Î±ÏÏ‡Î¹Ï„ÎµÎºÏ„Î¿Î½Î¹ÎºÎ­Ï‚ Î±Ï€Î¿Ï†Î¬ÏƒÎµÎ¹Ï‚** Î³Î¹Î± Ï„Î¿ Real Estate module Ï„Î·Ï‚ ÎµÏ†Î±ÏÎ¼Î¿Î³Î®Ï‚. ÎŸÎ¹ Î±Ï€Î¿Ï†Î¬ÏƒÎµÎ¹Ï‚ Î±Ï…Ï„Î­Ï‚ Î²Î±ÏƒÎ¯Î¶Î¿Î½Ï„Î±Î¹ ÏƒÎµ ÎµÎºÏ„ÎµÎ½Î® Î±Î½Î¬Î»Ï…ÏƒÎ· Î¼Îµ enterprise standards (SAP, Autodesk, Oracle, Procore, Bentley) ÎºÎ±Î¹ ÎµÎ¯Î½Î±Î¹ **Î´ÎµÏƒÎ¼ÎµÏ…Ï„Î¹ÎºÎ­Ï‚** Î³Î¹Î± ÏŒÎ»Î· Ï„Î·Î½ Î¿Î¼Î¬Î´Î± Î±Î½Î¬Ï€Ï„Ï…Î¾Î·Ï‚.

---

## 1. Î™ÎµÏÎ±ÏÏ‡Î¯Î± Î Î»Î¿Î®Î³Î·ÏƒÎ·Ï‚ (LOCKED)

### 1.1 Î’Î±ÏƒÎ¹ÎºÎ® Î™ÎµÏÎ±ÏÏ‡Î¯Î±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Î•Ï„Î±Î¹ÏÎµÎ¯ÎµÏ‚   â”‚ â†’ â”‚ ÎˆÏÎ³Î±        â”‚ â†’ â”‚ ÎšÏ„Î¯ÏÎ¹Î±      â”‚  â† Î¤Î•Î›ÎŸÎ£ Î™Î•Î¡Î‘Î¡Î§Î™Î‘Î£
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     Company          Project          Building
```

**ÎšÎ¡Î™Î£Î™ÎœÎŸ**: Î— Î¹ÎµÏÎ±ÏÏ‡Î¯Î± **Î£Î¤Î‘ÎœÎ‘Î¤Î‘** ÏƒÏ„Î¿ Building. Î”ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ 4Î· ÏƒÏ„Î®Î»Î·.

### 1.2 ÎœÎ­ÏƒÎ± ÏƒÏ„Î¿ Building (Tabs - Î Î±ÏÎ¬Î»Î»Î·Î»ÎµÏ‚ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ÎšÏ„Î¯ÏÎ¹Î¿: [ÎŒÎ½Î¿Î¼Î± ÎšÏ„Î¹ÏÎ¯Î¿Ï…]                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ÎœÎ¿Î½Î¬Î´ÎµÏ‚] | [Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚] | [Î˜Î­ÏƒÎµÎ¹Ï‚ Î£Ï„Î¬Î¸Î¼ÎµÏ…ÏƒÎ·Ï‚]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚   â€¢ Î›Î¯ÏƒÏ„Î± Î¿Î½Ï„Î¿Ï„Î®Ï„Ï‰Î½ Î±Î½Î¬Î»Î¿Î³Î± Î¼Îµ Ï„Î¿ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ tab   â”‚
â”‚                                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.3 Î¤Î¹ Î”Î•Î Î¥Ï€Î¬ÏÏ‡ÎµÎ¹

| Î›Î¬Î¸Î¿Ï‚ Î™ÎµÏÎ±ÏÏ‡Î¯Î± | Î“Î¹Î±Ï„Î¯ ÎµÎ¯Î½Î±Î¹ Î›Î¬Î¸Î¿Ï‚ |
|----------------|-------------------|
| Building â†’ Unit | ÎŸÎ¹ Î¼Î¿Î½Î¬Î´ÎµÏ‚ Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ children, ÎµÎ¯Î½Î±Î¹ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± |
| Unit â†’ Parking | Î¤Î¿ parking Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ child Ï„Î·Ï‚ Î¼Î¿Î½Î¬Î´Î±Ï‚ |
| Unit â†’ Storage | Î— Î±Ï€Î¿Î¸Î®ÎºÎ· Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ child Ï„Î·Ï‚ Î¼Î¿Î½Î¬Î´Î±Ï‚ |
| Building â†’ Unit â†’ Parking â†’ Storage | Î Î¿Î»Î»Î±Ï€Î»Î¬ ÎµÏ€Î¯Ï€ÎµÎ´Î± = Î»Î¬Î¸Î¿Ï‚ domain model |

---

## 2. Breadcrumb ÎšÎ±Î½ÏŒÎ½ÎµÏ‚ (LOCKED)

### 2.1 Î£Ï‰ÏƒÏ„ÏŒ Breadcrumb

```
âœ… Î£Î©Î£Î¤ÎŸ:
Î•Ï„Î±Î¹ÏÎµÎ¯Î± â†’ ÎˆÏÎ³Î¿ â†’ ÎšÏ„Î¯ÏÎ¹Î¿
```

### 2.2 Î›Î¬Î¸Î¿Ï‚ Breadcrumb

```
âŒ Î›Î‘Î˜ÎŸÎ£:
Î•Ï„Î±Î¹ÏÎµÎ¯Î± â†’ ÎˆÏÎ³Î¿ â†’ ÎšÏ„Î¯ÏÎ¹Î¿ â†’ Î”Î¹Î±Î¼Î­ÏÎ¹ÏƒÎ¼Î± 101
Î•Ï„Î±Î¹ÏÎµÎ¯Î± â†’ ÎˆÏÎ³Î¿ â†’ ÎšÏ„Î¯ÏÎ¹Î¿ â†’ Î‘Ï€Î¿Î¸Î®ÎºÎ· A1
Î•Ï„Î±Î¹ÏÎµÎ¯Î± â†’ ÎˆÏÎ³Î¿ â†’ ÎšÏ„Î¯ÏÎ¹Î¿ â†’ Parking P3
```

### 2.3 ÎšÎ±Î½ÏŒÎ½Î±Ï‚

> **Breadcrumb = Î™ÎµÏÎ±ÏÏ‡Î¯Î± Context**
> **Selection â‰  Hierarchy**

Î— ÎµÏ€Î¹Î»Î¿Î³Î® Î¼Î¿Î½Î¬Î´Î±Ï‚/Î±Ï€Î¿Î¸Î®ÎºÎ·Ï‚/parking:
- âœ… Î‘Î»Î»Î¬Î¶ÎµÎ¹ Ï„Î¿ ÎµÎ½ÎµÏÎ³ÏŒ Ï€ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ (content panel)
- âŒ Î”Î•Î Î±Î»Î»Î¬Î¶ÎµÎ¹ Ï„Î· Î¸Î­ÏƒÎ· ÏƒÏ„Î·Î½ Î¹ÎµÏÎ±ÏÏ‡Î¯Î± (breadcrumb)

---

## 3. Î”Î¹Î±Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÎŸÎ½Ï„Î¿Ï„Î®Ï„Ï‰Î½

### 3.1 Î¤ÏÎµÎ¹Ï‚ ÎÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î­Ï‚ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚

| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± | Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ | Collection |
|-----------|-------------|------------|
| **ÎœÎ¿Î½Î¬Î´ÎµÏ‚** | Î”Î¹Î±Î¼ÎµÏÎ¯ÏƒÎ¼Î±Ï„Î±, ÎšÎ±Ï„Î±ÏƒÏ„Î®Î¼Î±Ï„Î±, Î£Ï„Î¿ÏÎ½Ï„Î¹Î¿, ÎœÎµÎ¶Î¿Î½Î­Ï„ÎµÏ‚, Î“ÎºÎ±ÏÏƒÎ¿Î½Î¹Î­ÏÎµÏ‚ | `units` |
| **Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚** | Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚ Ï…Ï€Î¿Î³ÎµÎ¯Î¿Ï…, Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚ Î¿ÏÏŒÏ†Ï‰Î½ | `storage_units` |
| **Î˜Î­ÏƒÎµÎ¹Ï‚ Î£Ï„Î¬Î¸Î¼ÎµÏ…ÏƒÎ·Ï‚** | Parking spots | `parking_spaces` |

### 3.2 Î‘Ï€ÏŒÎ»Ï…Ï„Î¿Ï‚ ÎšÎ±Î½ÏŒÎ½Î±Ï‚

> **ÎšÎ¬Î¸Îµ Î¿Î½Ï„ÏŒÏ„Î·Ï„Î± Î­Ï‡ÎµÎ¹ Î­Î½Î± ÎºÎ±Î¹ Î¼ÏŒÎ½Î¿ Î­Î½Î± "home context".**

- âŒ **Î‘Î Î‘Î“ÎŸÎ¡Î•Î¥Î•Î¤Î‘Î™**: Î‘Ï€Î¿Î¸Î®ÎºÎ· Î¼Î­ÏƒÎ± ÏƒÏ„Î· Î»Î¯ÏƒÏ„Î± ÎœÎ¿Î½Î¬Î´Ï‰Î½
- âŒ **Î‘Î Î‘Î“ÎŸÎ¡Î•Î¥Î•Î¤Î‘Î™**: Parking Î¼Î­ÏƒÎ± ÏƒÏ„Î· Î»Î¯ÏƒÏ„Î± ÎœÎ¿Î½Î¬Î´Ï‰Î½
- âŒ **Î‘Î Î‘Î“ÎŸÎ¡Î•Î¥Î•Î¤Î‘Î™**: Î‘Î½Î¬Î¼Î¹Î¾Î· Ï„ÏÏ€Ï‰Î½ ÏƒÎµ Î¿Ï€Î¿Î¹Î±Î´Î®Ï€Î¿Ï„Îµ Î»Î¯ÏƒÏ„Î±

### 3.3 Firestore Collections

```
units/
  - apartments
  - shops
  - studios
  - maisonettes

storage_units/
  - storage A1
  - storage B2

parking_spaces/
  - P1
  - P2
```

---

## 4. Î£ÎµÎ»Î¯Î´ÎµÏ‚ Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ·Ï‚ (Management Pages)

### 4.1 Î¥Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÎ­Ï‚ ÎÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î­Ï‚ Î£ÎµÎ»Î¯Î´ÎµÏ‚

| Î£ÎµÎ»Î¯Î´Î± | Route | Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿ |
|--------|-------|-------------|
| Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· ÎœÎ¿Î½Î¬Î´Ï‰Î½ | `/units` | ÎœÎŸÎÎŸ Î¼Î¿Î½Î¬Î´ÎµÏ‚ (apartments, shops, studios, maisonettes) |
| Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î‘Ï€Î¿Î¸Î·ÎºÏÎ½ | `/storage` | ÎœÎŸÎÎŸ Î±Ï€Î¿Î¸Î®ÎºÎµÏ‚ |
| Î”Î¹Î±Ï‡ÎµÎ¯ÏÎ¹ÏƒÎ· Î˜Î­ÏƒÎµÏ‰Î½ Î£Ï„Î¬Î¸Î¼ÎµÏ…ÏƒÎ·Ï‚ | `/parking` | ÎœÎŸÎÎŸ parking spots |

### 4.2 Î“Î¹Î±Ï„Î¯ ÎÎµÏ‡Ï‰ÏÎ¹ÏƒÏ„Î­Ï‚ Î£ÎµÎ»Î¯Î´ÎµÏ‚

1. **ÎšÎ±Î¸Î±ÏÏŒ mental model** - ÎŸ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¾Î­ÏÎµÎ¹ Ï„Î¹ Î¸Î± Î´ÎµÎ¹
2. **Î”Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÏŒ business logic** Î±Î½Î¬ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± (Ï„Î¹Î¼Î¿Î»ÏŒÎ³Î·ÏƒÎ·, ÎºÎ±Î½Î¿Î½Î¹ÏƒÎ¼Î¿Î¯, reports)
3. **ÎšÎ¿Î¹Î½ÏŒÏ‚ backend** - Î”Î¹Î±Ï†Î¿ÏÎµÏ„Î¹ÎºÏŒ UX per ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±
4. **Enterprise standard** (SAP, Oracle, Autodesk pattern)

---

## 5. Toolbar & Actions Pattern

### 5.1 Compact Toolbar (Inline Actions)

**Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±**: Î Î¬Î½Ï‰ ÏƒÎµ ÎºÎ¬Î¸Îµ container/list

**Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿**:
- â• Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·
- âœï¸ Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±
- ğŸ—‘ï¸ Î”Î¹Î±Î³ÏÎ±Ï†Î®
- ğŸ” Î¦Î¯Î»Ï„ÏÎ±
- â†•ï¸ Î¤Î±Î¾Î¹Î½ÏŒÎ¼Î·ÏƒÎ·
- âŸ³ Refresh

**ÎšÎ±Î½ÏŒÎ½Î±Ï‚**: CRUD actions Î³Î¹Î± Ï„Î¿ **Ï„ÏÎ­Ï‡Î¿Î½ scope**

### 5.2 Actions Panel (Contextual Actions)

**Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î±**: Î”ÎµÎ¾Î¹Î¬ Ï€Î»ÎµÏ…ÏÎ¬ (panel "Î•Î½Î­ÏÎ³ÎµÎ¹ÎµÏ‚")

**Î ÎµÏÎ¹ÎµÏ‡ÏŒÎ¼ÎµÎ½Î¿**:
- ğŸ”— Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Î ÎµÎ»Î¬Ï„Î·
- ğŸ“„ Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î ÏÎ»Î·ÏƒÎ·Ï‚
- ğŸ“Š Î‘Î½Î±Î»Ï…Ï„Î¹ÎºÎ® ÎµÎ¹ÎºÏŒÎ½Î±
- ğŸ“¤ Export reports
- ğŸ”— ÎœÎ±Î¶Î¹ÎºÎ­Ï‚ ÏƒÏ…Î½Î´Î­ÏƒÎµÎ¹Ï‚

**ÎšÎ±Î½ÏŒÎ½Î±Ï‚**: Business-level, cross-entity actions

### 5.3 Î”Î¹Î±Ï‡Ï‰ÏÎ¹ÏƒÎ¼ÏŒÏ‚ Î•Ï…Î¸Ï…Î½ÏÎ½

| Î¤ÏÏ€Î¿Ï‚ Action | Î Î¿Ï Î‘Î½Î®ÎºÎµÎ¹ | Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± |
|--------------|------------|------------|
| CRUD | Compact Toolbar | Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· ÎœÎ¿Î½Î¬Î´Î±Ï‚ |
| Business Logic | Actions Panel | Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î ÏÎ»Î·ÏƒÎ·Ï‚ |
| Single Entity | Compact Toolbar | Î”Î¹Î±Î³ÏÎ±Ï†Î® ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿Ï… |
| Cross-Entity | Actions Panel | Î£ÏÎ½Î´ÎµÏƒÎ· Parking Î¼Îµ ÎœÎ¿Î½Î¬Î´Î± |

### 5.4 Î¤Î¹ Î”Î•Î Î ÏÎ­Ï€ÎµÎ¹ Î½Î± Î“Î¯Î½ÎµÎ¹

- âŒ Î”Î¹Ï€Î»Î¿ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ (Î¯Î´Î¹Î¿ action ÎºÎ±Î¹ ÏƒÏ„Î± Î´ÏÎ¿ Î¼Î­ÏÎ·)
- âŒ CRUD ÏƒÏ„Î¿ Actions Panel
- âŒ Business actions ÏƒÏ„Î¿ Compact Toolbar

---

## 6. Î Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸Î®Î¼Î±Ï„Î± (Bundles)

### 6.1 ÎšÏÎ¯ÏƒÎ¹Î¼Î¿Ï‚ ÎšÎ±Î½ÏŒÎ½Î±Ï‚

> **Â«Î¤Î± parking ÎºÎ±Î¹ Î¿Î¹ Î±Ï€Î¿Î¸Î®ÎºÎµÏ‚ ÎµÎ¯Î½Î±Î¹ Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿Ï…Î¸Î®Î¼Î±Ï„Î± ÏƒÏ„Î·Î½ Î Î©Î›Î—Î£Î—, ÏŒÏ‡Î¹ ÏƒÏ„Î·Î½ Î Î›ÎŸÎ—Î“Î—Î£Î—Â»**

### 6.2 Î¤Î¹ Î£Î·Î¼Î±Î¯Î½ÎµÎ¹ Î‘Ï…Ï„ÏŒ

**Î£Ï„Î·Î½ Î Î»Î¿Î®Î³Î·ÏƒÎ·**:
- ÎœÎ¿Î½Î¬Î´ÎµÏ‚, Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚, Parking = **Î¹ÏƒÏŒÏ„Î¹Î¼ÎµÏ‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚**
- ÎšÎ±Î¼Î¯Î± Î´ÎµÎ½ ÎµÎ¯Î½Î±Î¹ "child" Ï„Î·Ï‚ Î¬Î»Î»Î·Ï‚

**Î£Ï„Î·Î½ Î ÏÎ»Î·ÏƒÎ·**:
- ÎœÏ€Î¿ÏÎµÎ¯ Î½Î± Î³Î¯Î½ÎµÎ¹ bundle: Î”Î¹Î±Î¼Î­ÏÎ¹ÏƒÎ¼Î± + Parking + Î‘Ï€Î¿Î¸Î®ÎºÎ·
- Î— ÏƒÏ‡Î­ÏƒÎ· Î´Î·Î»ÏÎ½ÎµÏ„Î±Î¹ ÏƒÏ„Î¿ **ÏƒÏ…Î¼Î²ÏŒÎ»Î±Î¹Î¿/Ï€ÏÎ»Î·ÏƒÎ·**, ÏŒÏ‡Î¹ ÏƒÏ„Î¿ navigation

### 6.3 Î Î±ÏÎ¬Î´ÎµÎ¹Î³Î¼Î± Î£Ï‰ÏƒÏ„Î®Ï‚ Î›Î¿Î³Î¹ÎºÎ®Ï‚

```
Î ÏÎ»Î·ÏƒÎ· #123
â”œâ”€â”€ Unit A1 (Î”Î¹Î±Î¼Î­ÏÎ¹ÏƒÎ¼Î±)
â”œâ”€â”€ Parking P3
â”œâ”€â”€ Parking P4
â””â”€â”€ Storage S1

Î ÏÎ»Î·ÏƒÎ· #124
â””â”€â”€ Parking P7 (Î±Ï…Ï„ÏŒÎ½Î¿Î¼Î· Ï€ÏÎ»Î·ÏƒÎ·)
```

---

## 7. Î ÎµÎ»Î¬Ï„ÎµÏ‚ ÏƒÏ„Î¿ Navigation

### 7.1 ÎšÎ±Î½ÏŒÎ½Î±Ï‚

> **ÎŸÎ¹ Ï€ÎµÎ»Î¬Ï„ÎµÏ‚ Î”Î•Î ÎµÎ¯Î½Î±Î¹ navigation level - ÎµÎ¯Î½Î±Î¹ Î£Î§Î•Î£Î—**

### 7.2 Î Î¿Ï Î•Î¼Ï†Î±Î½Î¯Î¶Î¿Î½Ï„Î±Î¹ Î¿Î¹ Î ÎµÎ»Î¬Ï„ÎµÏ‚

| Î¤Î¿Ï€Î¿Î¸ÎµÏƒÎ¯Î± | Î£Ï‰ÏƒÏ„ÏŒ |
|-----------|-------|
| Î£Ï„Î¿ Navigation (Ï‰Ï‚ ÏƒÏ„Î®Î»Î·) | âŒ Î›Î‘Î˜ÎŸÎ£ |
| Î£Ï„Î¿ Unit Detail View | âœ… Î£Î©Î£Î¤ÎŸ |
| Î£Ï„Î¿ Actions Panel | âœ… Î£Î©Î£Î¤ÎŸ |
| Î£Ï„Î¿ CRM section | âœ… Î£Î©Î£Î¤ÎŸ |

### 7.3 Î£Ï‰ÏƒÏ„Î­Ï‚ Actions Î³Î¹Î± Î ÎµÎ»Î¬Ï„ÎµÏ‚

- "Î£ÏÎ½Î´ÎµÏƒÎ· Î¼Îµ Ï€ÎµÎ»Î¬Ï„Î·"
- "Î ÏÎ¿Î²Î¿Î»Î® ÏƒÏÎ¼Î²Î±ÏƒÎ·Ï‚"
- "ÎœÎµÏ„Î¬Î²Î±ÏƒÎ· ÏƒÏ„Î¿ CRM"

---

## 8. Data Migration Requirements

### 8.1 Î ÏÏŒÎ²Î»Î·Î¼Î± Ï€Î¿Ï… Î•Î½Ï„Î¿Ï€Î¯ÏƒÏ„Î·ÎºÎµ

Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚ Î¼Îµ `type: 'storage'` Î²ÏÎ¯ÏƒÎºÎ¿Î½Ï„Î±Î½ ÏƒÏ„Î¿ `units` collection Î±Î½Ï„Î¯ Î³Î¹Î± Ï„Î¿ `storage_units`.

### 8.2 Î›ÏÏƒÎ· (2 Î’Î®Î¼Î±Ï„Î±)

**Î’Î—ÎœÎ‘ 1: Frontend Filtering (Î†Î¼ÎµÏƒÎ¿)**
```typescript
// /units page
.where('type', 'not-in', ['storage', 'parking'])

// /storage page
.where('type', '==', 'storage')

// /parking page
.where('type', '==', 'parking')
```

**Î’Î—ÎœÎ‘ 2: Data Migration (Enterprise)**
- ÎœÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ· records Î¼Îµ `type: storage` Î±Ï€ÏŒ `units` â†’ `storage_units`
- ÎœÎµÏ„Î±ÎºÎ¯Î½Î·ÏƒÎ· records Î¼Îµ `type: parking` Î±Ï€ÏŒ `units` â†’ `parking_spaces`
- Î”Î¹Î±Î³ÏÎ±Ï†Î® Î±Ï€ÏŒ Ï„Î¿ Ï€Î±Î»Î¹ÏŒ collection

---

## 9. Enterprise Guardrails

### 9.1 Î“Î¹Î± Developers

```typescript
// âš ï¸ Î‘Î Î‘Î“ÎŸÎ¡Î•Î¥Î•Î¤Î‘Î™
// Î‘Ï€Î¿Î¸Î®ÎºÎ· Î ÎŸÎ¤Î• Î´ÎµÎ½ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± ÎµÎ¯Î½Î±Î¹ ÏƒÏ„Î¿ units collection
const unit = { type: 'storage', ... }; // âŒ Î›Î‘Î˜ÎŸÎ£

// âœ… Î£Î©Î£Î¤ÎŸ
const storage = { ... }; // Î Î¬ÎµÎ¹ ÏƒÏ„Î¿ storage_units collection
```

### 9.2 Î“Î¹Î± UI/UX

- âŒ ÎœÎ—Î ÎµÎ¼Ï†Î±Î½Î¯ÏƒÎµÎ¹Ï‚ Î±Ï€Î¿Î¸Î®ÎºÎ· ÏƒÏ„Î¿ tab "ÎœÎ¿Î½Î¬Î´ÎµÏ‚"
- âŒ ÎœÎ—Î ÎµÏ€ÎµÎºÏ„ÎµÎ¯Î½ÎµÎ¹Ï‚ Ï„Î¿ breadcrumb Ï€Î­ÏÎ± Î±Ï€ÏŒ Ï„Î¿ Building
- âŒ ÎœÎ—Î Î²Î¬Î»ÎµÎ¹Ï‚ Ï€ÎµÎ»Î¬Ï„ÎµÏ‚ Ï‰Ï‚ navigation level
- âœ… ÎšÏÎ¬Ï„Î± Ï„Î± tabs Î¹ÏƒÏŒÏ„Î¹Î¼Î±
- âœ… ÎšÏÎ¬Ï„Î± Ï„Î¿ Actions Panel Î³Î¹Î± business actions

### 9.3 Î“Î¹Î± Firestore Rules

```javascript
// Validation: storage NEVER in units collection
match /units/{unitId} {
  allow write: if request.resource.data.type != 'storage'
               && request.resource.data.type != 'parking';
}
```

---

## 10. Î£ÏÎ½Î¿ÏˆÎ· ÎšÎ±Î½ÏŒÎ½Ï‰Î½

| # | ÎšÎ±Î½ÏŒÎ½Î±Ï‚ | ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· |
|---|---------|-----------|
| 1 | Î™ÎµÏÎ±ÏÏ‡Î¯Î± ÏƒÏ„Î±Î¼Î±Ï„Î¬ ÏƒÏ„Î¿ Building | ğŸ”’ LOCKED |
| 2 | ÎœÎ¿Î½Î¬Î´ÎµÏ‚/Î‘Ï€Î¿Î¸Î®ÎºÎµÏ‚/Parking = Tabs, ÏŒÏ‡Î¹ levels | ğŸ”’ LOCKED |
| 3 | Breadcrumb Î´ÎµÎ½ Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ selection | ğŸ”’ LOCKED |
| 4 | ÎšÎ¬Î¸Îµ Ï„ÏÏ€Î¿Ï‚ Î­Ï‡ÎµÎ¹ Î´Î¹ÎºÏŒ Ï„Î¿Ï… collection | ğŸ”’ LOCKED |
| 5 | ÎšÎ¬Î¸Îµ Ï„ÏÏ€Î¿Ï‚ Î­Ï‡ÎµÎ¹ Î´Î¹ÎºÎ® Ï„Î¿Ï… management page | ğŸ”’ LOCKED |
| 6 | CRUD ÏƒÏ„Î¿ Compact Toolbar | ğŸ”’ LOCKED |
| 7 | Business actions ÏƒÏ„Î¿ Actions Panel | ğŸ”’ LOCKED |
| 8 | Î ÎµÎ»Î¬Ï„ÎµÏ‚ = Î£Ï‡Î­ÏƒÎ·, ÏŒÏ‡Î¹ navigation | ğŸ”’ LOCKED |
| 9 | Bundles ÏƒÏ„Î·Î½ Î ÏÎ»Î·ÏƒÎ·, ÏŒÏ‡Î¹ ÏƒÏ„Î¿ Navigation | ğŸ”’ LOCKED |

---

## 11. Î‘Î½Î±Ï†Î¿ÏÎ­Ï‚

- **Î Î·Î³Î®**: `REAL_ESTATE_HIERARCHY_DOCUMENTATION.md`
- **Enterprise Standards**: SAP Fiori, Autodesk Construction Cloud, Oracle, Procore, Bentley
- **Related ADRs**: ADR-001 (Select Components), ADR-043 (Zoom Constants)

---

## 12. Changelog

| Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± | Î‘Î»Î»Î±Î³Î® |
|------------|--------|
| 2026-01-31 | Î‘ÏÏ‡Î¹ÎºÎ® Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± Î±Ï€ÏŒ REAL_ESTATE_HIERARCHY_DOCUMENTATION.md |

---

**Î¤ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ·**: 2026-01-31
**Î£Ï…Î½Ï„Î¬ÎºÏ„Î·Ï‚**: Claude (Anthropic AI) ÏƒÎµ ÏƒÏ…Î½ÎµÏÎ³Î±ÏƒÎ¯Î± Î¼Îµ Î“Î¹ÏÏÎ³Î¿ Î Î±Î³ÏÎ½Î·
