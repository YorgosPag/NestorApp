# ğŸ¢ ENTERPRISE PACKAGE MANAGEMENT CONFIGURATION
# This file enforces pnpm usage and enterprise-level dependency management

# ========================================================
# ğŸ”’ PNPM ENFORCEMENT - Block npm/yarn usage
# ========================================================
engine-strict=true

# ğŸš« Disable npm completely - Force pnpm usage
disable-npm=true

# ğŸ“¦ Use pnpm workspace protocol for internal dependencies
link-workspace-packages=true
prefer-workspace-packages=true

# ========================================================
# ğŸ¢ ENTERPRISE SECURITY & INTEGRITY
# ========================================================

# ğŸ” Package verification for supply chain security
verify-signatures=true
audit-level=moderate

# ğŸ—ï¸ Lock file integrity enforcement
package-lock-only=false
prefer-frozen-lockfile=true

# ğŸ” Enhanced security scanning
audit=true

# ========================================================
# ğŸš€ ENTERPRISE PERFORMANCE OPTIMIZATION
# ========================================================

# ğŸ’¾ Store configuration for better performance
store-dir=~/.pnpm-store
state-dir=~/.pnpm-state

# âš¡ Parallel installation for faster builds
child-concurrency=4
network-concurrency=8

# ğŸ¯ Efficient dependency resolution
resolution-mode=highest
hoist=true
hoist-pattern[]=*

# ğŸ¢ ENTERPRISE: pdfjs-dist browser hoist (required for react-pdf/Next.js)
# Fixes ESM/Webpack compatibility issues with pdf.js
public-hoist-pattern[]=pdfjs-dist

# ========================================================
# ğŸ“Š ENTERPRISE LOGGING & MONITORING
# ========================================================

# ğŸ“‹ Detailed logging for enterprise monitoring
loglevel=info
progress=true

# ğŸ—ï¸ Build reporting for CI/CD integration
reporter=default

# ========================================================
# ğŸŒ REGISTRY & MIRROR CONFIGURATION
# ========================================================

# ğŸ“ Default npm registry (can be overridden for enterprise registries)
registry=https://registry.npmjs.org/

# ğŸ”„ Retry configuration for enterprise networks
fetch-retries=3
fetch-retry-factor=2
fetch-retry-maxtimeout=120000
fetch-timeout=300000

# ========================================================
# ğŸ¢ WORKSPACE & MONOREPO CONFIGURATION
# ========================================================

# ğŸ”— Enable workspace features
workspace-root=true
shared-workspace-lockfile=true

# ğŸ“¦ Automatic workspace dependency linking
auto-install-peers=true
dedupe-peer-dependents=true

# ========================================================
# ğŸš¨ ENTERPRISE STRICT MODE
# ========================================================

# âš ï¸ Strict peer dependency checking
strict-peer-dependencies=true

# ğŸ”’ Block legacy npm behavior
save-exact=true
save-prefix=""

# ğŸ“‹ Enterprise-level dependency validation
node-linker=isolated
symlink=true