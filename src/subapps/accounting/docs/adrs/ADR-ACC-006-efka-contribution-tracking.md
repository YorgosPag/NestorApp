# ADR-ACC-006: EFKA Contribution Tracking â€” Î Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Î•Î¹ÏƒÏ†Î¿ÏÏÎ½ Î•Î¦ÎšÎ‘

| Metadata | Value |
|----------|-------|
| **Status** | DRAFT |
| **Date** | 2026-02-09 |
| **Category** | Accounting / Social Insurance |
| **Author** | Î“Î¹ÏÏÎ³Î¿Ï‚ Î Î±Î³ÏÎ½Î·Ï‚ + Claude Code (Anthropic AI) |
| **Parent** | [ADR-ACC-000](./ADR-ACC-000-founding-decision.md) |
| **Module** | M-007: EFKA Tracker |

---

## 1. Context

ÎŸ Î“Î¹ÏÏÎ³Î¿Ï‚ Ï‰Ï‚ ÎµÎ»ÎµÏÎ¸ÎµÏÎ¿Ï‚ ÎµÏ€Î±Î³Î³ÎµÎ»Î¼Î±Ï„Î¯Î±Ï‚ Î¼Î·Ï‡Î±Î½Î¹ÎºÏŒÏ‚ ÎµÎ¯Î½Î±Î¹ Ï…Ï€Î¿Ï‡ÏÎµÏ‰Ï„Î¹ÎºÎ¬ Î±ÏƒÏ†Î±Î»Î¹ÏƒÎ¼Î­Î½Î¿Ï‚ ÏƒÏ„Î¿Î½ **Î•Î¦ÎšÎ‘** (Ï€ÏÏÎ·Î½ Î¤Î£ÎœÎ•Î”Î•/Î¤Î•Î•). Î Î»Î·ÏÏÎ½ÎµÎ¹ Î¼Î·Î½Î¹Î±Î¯Î± ÎµÎ¹ÏƒÏ†Î¿ÏÎ¬ **330,37â‚¬** (1Î· ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± ÏƒÎµ ÏŒÎ»Î¿Ï…Ï‚ Ï„Î¿Ï…Ï‚ ÎºÎ»Î¬Î´Î¿Ï…Ï‚).

### Î ÏÏŒÎ²Î»Î·Î¼Î±

- ÎŸÎ¹ ÎµÎ¹ÏƒÏ†Î¿ÏÎ­Ï‚ Ï€ÏÎ­Ï€ÎµÎ¹ Î½Î± Ï€Î»Î·ÏÏÎ½Î¿Î½Ï„Î±Î¹ **ÎºÎ¬Î¸Îµ Î¼Î®Î½Î±** â€” Î»Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼ÎµÏ‚ â†’ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î± Ï„Î­Î»Î· â†’ ÎšÎ•Î‘ÎŸ
- Î— ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± ÎµÏ€Î¹Î»Î­Î³ÎµÏ„Î±Î¹ **Î¼Î­Ï‡ÏÎ¹ 31/1** ÎºÎ¬Î¸Îµ Î­Ï„Î¿Ï…Ï‚ â€” Î´ÎµÏƒÎ¼ÎµÏ…Ï„Î¹ÎºÎ® Î³Î¹Î± ÏŒÎ»Î¿ Ï„Î¿ Î­Ï„Î¿Ï‚
- ÎŸÎ¹ ÎµÎ¹ÏƒÏ†Î¿ÏÎ­Ï‚ Î±Î»Î»Î¬Î¶Î¿Ï…Î½ **ÎµÏ„Î·ÏƒÎ¯Ï‰Ï‚** (~2,5% Î±ÏÎ¾Î·ÏƒÎ·)
- ÎšÎ±Ï„Î±Î³ÏÎ¬Ï†Î¿Î½Ï„Î±Î¹ Ï‰Ï‚ **Î­Î¾Î¿Î´Î¿** ÏƒÏ„Î¿ Î’Î¹Î²Î»Î¯Î¿ Î•-Î• (ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î± `efka`, myDATA `category2_12`)
- Î§ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ **Ï€Î±ÏÎ±ÎºÎ¿Î»Î¿ÏÎ¸Î·ÏƒÎ· Ï€Î»Î·ÏÏ‰Î¼ÏÎ½** + **reminders** + **ÎµÏ„Î®ÏƒÎ¹Î± ÏƒÏÎ½Î¿ÏˆÎ·**

### Î£Ï„Î¿Î¹Ï‡ÎµÎ¯Î± Î“Î¹ÏÏÎ³Î¿Ï… (Î±Ï€ÏŒ Î•Î¦ÎšÎ‘ ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î·Ï„Î®ÏÎ¹Î¿ 12/2025)

| Î Î±ÏÎ¬Î¼ÎµÏ„ÏÎ¿Ï‚ | Î¤Î¹Î¼Î® |
|-----------|-------|
| Î‘ÏƒÏ†Î±Î»Î¹ÏƒÏ„Î¹ÎºÏŒÏ‚ Ï†Î¿ÏÎ­Î±Ï‚ | Î•Î¦ÎšÎ‘ (Ï€ÏÏÎ·Î½ Î¤Î£ÎœÎ•Î”Î•) |
| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± ÎšÏÏÎ¹Î±Ï‚ | **1Î·** (ÎµÎ»Î¬Ï‡Î¹ÏƒÏ„Î·) |
| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î•Ï€Î¹ÎºÎ¿Ï…ÏÎ¹ÎºÎ®Ï‚ | **1Î·** |
| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± Î•Ï†Î¬Ï€Î±Î¾ | **1Î·** |
| ÎœÎ·Î½Î¹Î±Î¯Î± ÎµÎ¹ÏƒÏ†Î¿ÏÎ¬ | **330,37â‚¬** |
| Î•Ï„Î®ÏƒÎ¹Î¿ ÏƒÏÎ½Î¿Î»Î¿ | **3.964,44â‚¬** |

---

## 2. Contribution Breakdown

### 2.1 Î‘Î½Î¬Î»Ï…ÏƒÎ· ÎšÎ»Î¬Î´Ï‰Î½ (1Î· ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± â€” 2025/2026)

| ÎšÎ»Î¬Î´Î¿Ï‚ | ÎœÎ·Î½Î¹Î±Î¯Î± 2025 | ÎœÎ·Î½Î¹Î±Î¯Î± 2026 (+2,5%) | Î£ÎºÎ¿Ï€ÏŒÏ‚ |
|--------|-------------|---------------------|--------|
| ÎšÎ»Î¬Î´Î¿Ï‚ Î£ÏÎ½Ï„Î±Î¾Î·Ï‚ | 180,58â‚¬ | 185,09â‚¬ | ÎšÏÏÎ¹Î± ÏƒÏÎ½Ï„Î±Î¾Î· |
| ÎšÎ»Î¬Î´Î¿Ï‚ Î¥Î³ÎµÎ¯Î±Ï‚ (ÏƒÎµ Î•Î¯Î´Î¿Ï‚) | 58,25â‚¬ | 59,71â‚¬ | Î™Î±Ï„ÏÎ¿Ï†Î±ÏÎ¼Î±ÎºÎµÏ…Ï„Î¹ÎºÎ® |
| ÎšÎ»Î¬Î´Î¿Ï‚ Î¥Î³ÎµÎ¯Î±Ï‚ (ÏƒÎµ Î§ÏÎ®Î¼Î±) | 5,82â‚¬ | 5,97â‚¬ | Î Î±ÏÎ¿Ï‡Î­Ï‚ ÏƒÎµ Ï‡ÏÎ®Î¼Î± |
| ÎŸÎ‘Î•Î” | 10,00â‚¬ | 10,25â‚¬ | Î‘Î½ÎµÏÎ³Î¯Î± |
| Î•Ï€Î¹ÎºÎ¿Ï…ÏÎ¹ÎºÎ® Î‘ÏƒÏ†Î¬Î»Î¹ÏƒÎ· | 45,43â‚¬ | 46,57â‚¬ | Î•Ï€Î¹ÎºÎ¿Ï…ÏÎ¹ÎºÎ® ÏƒÏÎ½Ï„Î±Î¾Î· |
| Î•Ï†Î¬Ï€Î±Î¾ Î Î±ÏÎ¿Ï‡Î® | 30,29â‚¬ | 31,05â‚¬ | Î•Ï†Î¬Ï€Î±Î¾ |
| **Î£Î¥ÎÎŸÎ›ÎŸ** | **330,37â‚¬** | **338,64â‚¬** | |

> **Î£Î·Î¼ÎµÎ¯Ï‰ÏƒÎ·**: Î¤Î± Ï€Î¿ÏƒÎ¬ 2026 ÎµÎ¯Î½Î±Î¹ ÎµÎºÏ„Î¹Î¼ÏÎ¼ÎµÎ½Î± (+2,5%). Î¤Î± Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ¬ Ï€Î¿ÏƒÎ¬ Î¸Î± ÎµÎ½Î·Î¼ÎµÏÏ‰Î¸Î¿ÏÎ½ Î±Ï€ÏŒ ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î·Ï„Î®ÏÎ¹Î¿ Î•Î¦ÎšÎ‘.

### 2.2 ÎŒÎ»ÎµÏ‚ Î¿Î¹ ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ (Config)

#### ÎšÏÏÎ¹Î± Î‘ÏƒÏ†Î¬Î»Î¹ÏƒÎ· (6 ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚)

| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± | ÎœÎ·Î½Î¹Î±Î¯Î± 2025 | ÎœÎ·Î½Î¹Î±Î¯Î± 2026 (ÎµÎºÏ„.) | Î•Ï„Î®ÏƒÎ¹Î¿ 2026 (ÎµÎºÏ„.) |
|-----------|-------------|---------------------|---------------------|
| **1Î·** â† Î“Î¹ÏÏÎ³Î¿Ï‚ | 254,65â‚¬ | 261,01â‚¬ | 3.132,12â‚¬ |
| 2Î· | 303,64â‚¬ | 311,23â‚¬ | 3.734,76â‚¬ |
| 3Î· | 361,94â‚¬ | 370,99â‚¬ | 4.451,88â‚¬ |
| 4Î· | 432,97â‚¬ | 443,80â‚¬ | 5.325,60â‚¬ |
| 5Î· | 516,79â‚¬ | 529,71â‚¬ | 6.356,52â‚¬ |
| 6Î· | 669,46â‚¬ | 686,20â‚¬ | 8.234,40â‚¬ |

#### Î•Ï€Î¹ÎºÎ¿Ï…ÏÎ¹ÎºÎ® Î‘ÏƒÏ†Î¬Î»Î¹ÏƒÎ· (3 ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚)

| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± | ÎœÎ·Î½Î¹Î±Î¯Î± 2025 | ÎœÎ·Î½Î¹Î±Î¯Î± 2026 (ÎµÎºÏ„.) |
|-----------|-------------|---------------------|
| **1Î·** â† Î“Î¹ÏÏÎ³Î¿Ï‚ | 45,43â‚¬ | 46,57â‚¬ |
| 2Î· | 54,79â‚¬ | 56,16â‚¬ |
| 3Î· | 65,28â‚¬ | 66,91â‚¬ |

#### Î•Ï†Î¬Ï€Î±Î¾ Î Î±ÏÎ¿Ï‡Î® (3 ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚)

| ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± | ÎœÎ·Î½Î¹Î±Î¯Î± 2025 | ÎœÎ·Î½Î¹Î±Î¯Î± 2026 (ÎµÎºÏ„.) |
|-----------|-------------|---------------------|
| **1Î·** â† Î“Î¹ÏÏÎ³Î¿Ï‚ | 30,29â‚¬ | 31,05â‚¬ |
| 2Î· | 36,13â‚¬ | 37,03â‚¬ |
| 3Î· | 43,12â‚¬ | 44,20â‚¬ |

---

## 3. TypeScript Configuration

### 3.1 Rate Config (Config-driven, ÎµÏ„Î®ÏƒÎ¹Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·)

```typescript
interface EFKAYearConfig {
  year: number;
  annualIncrease: number;           // Ï€.Ï‡. 0.025 (2,5%)
  validFrom: string;                // "2026-01-01"

  mainCategories: EFKACategoryRate[];     // 6 ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚
  supplementaryCategories: EFKACategoryRate[];  // 3 ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚
  lumpSumCategories: EFKACategoryRate[];        // 3 ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚

  /** Î£Ï„Î±Î¸ÎµÏÎ¬ ÎºÎ»Î¬Î´Ï‰Î½ (Î¥Î³ÎµÎ¯Î±, ÎŸÎ‘Î•Î”) â€” ÎºÎ¿Î¹Î½Î¬ ÏƒÎµ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ */
  fixedBranches: {
    healthInKind: number;           // 58,25â‚¬ (2025)
    healthInCash: number;           // 5,82â‚¬
    unemployment: number;           // 10,00â‚¬
  };
}

interface EFKACategoryRate {
  category: number;                 // 1, 2, 3, (4, 5, 6 Î¼ÏŒÎ½Î¿ ÎºÏÏÎ¹Î±)
  monthlyAmount: number;
  annualAmount: number;
}
```

### 3.2 User Config

```typescript
interface EFKAUserConfig {
  companyId: string;
  selectedCategories: {
    main: 1 | 2 | 3 | 4 | 5 | 6;
    supplementary: 1 | 2 | 3;
    lumpSum: 1 | 2 | 3;
  };
  paymentReferenceCode: string;     // RF ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ (Î¼Î¿Î½Î±Î´Î¹ÎºÏŒÏ‚ Î±Î½Î¬ Î±ÏƒÏ†Î±Î»Î¹ÏƒÎ¼Î­Î½Î¿)
  selectionDeadline: string;        // "2026-01-31"
  startDate: string;                // Î—Î¼/Î½Î¯Î± Î­Î½Î±ÏÎ¾Î·Ï‚ Î±ÏƒÏ†Î¬Î»Î¹ÏƒÎ·Ï‚
}
```

### 3.3 Monthly Breakdown Calculator

```typescript
interface EFKAMonthlyBreakdown {
  month: number;                    // 1-12
  year: number;

  /** Î‘Î½Î¬Î»Ï…ÏƒÎ· Î±Î½Î¬ ÎºÎ»Î¬Î´Î¿ */
  branches: {
    pension: number;                // Î£ÏÎ½Ï„Î±Î¾Î· (Î±Ï€ÏŒ main category)
    healthInKind: number;           // Î¥Î³ÎµÎ¯Î± Î•Î¯Î´Î¿Ï‚ (ÏƒÏ„Î±Î¸ÎµÏÏŒ)
    healthInCash: number;           // Î¥Î³ÎµÎ¯Î± Î§ÏÎ®Î¼Î± (ÏƒÏ„Î±Î¸ÎµÏÏŒ)
    unemployment: number;           // ÎŸÎ‘Î•Î” (ÏƒÏ„Î±Î¸ÎµÏÏŒ)
    supplementary: number;          // Î•Ï€Î¹ÎºÎ¿Ï…ÏÎ¹ÎºÎ® (Î±Ï€ÏŒ supplementary category)
    lumpSum: number;                // Î•Ï†Î¬Ï€Î±Î¾ (Î±Ï€ÏŒ lumpSum category)
  };

  /** Î£ÏÎ½Î¿Î»Î± */
  mainTotal: number;                // pension + health + oaed
  supplementaryTotal: number;
  lumpSumTotal: number;
  grandTotal: number;               // mainTotal + supplementary + lumpSum

  /** Î Î»Î·ÏÏ‰Î¼Î® */
  deadline: string;                 // Î¤Î­Î»Î¿Ï‚ Î¼Î®Î½Î± (Ï€.Ï‡. "2026-01-31")
  status: 'upcoming' | 'due' | 'paid' | 'overdue' | 'keao';
}
```

---

## 4. Payment Tracking

### 4.1 Payment Record

```typescript
interface EFKAPayment {
  paymentId: string;                // Auto-generated
  companyId: string;

  /** Î ÎµÏÎ¯Î¿Î´Î¿Ï‚ */
  year: number;
  month: number;                    // 1-12 (Î¼Î®Î½Î±Ï‚ Î±Î½Î±Ï†Î¿ÏÎ¬Ï‚)

  /** Î Î¿ÏƒÎ¬ */
  expectedAmount: number;           // Î‘Î½Î±Î¼ÎµÎ½ÏŒÎ¼ÎµÎ½Î· ÎµÎ¹ÏƒÏ†Î¿ÏÎ¬
  paidAmount: number;               // Î Î»Î·ÏÏ‰Î¸Î­Î½ Ï€Î¿ÏƒÏŒ
  lateFee: number;                  // Î ÏÏŒÏƒÎ¸ÎµÏ„Î± Ï„Î­Î»Î· (Î±Î½ Î»Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î¿)
  totalPaid: number;                // paidAmount + lateFee

  /** Î Î»Î·ÏÏ‰Î¼Î® */
  paymentDate: string | null;       // Î—Î¼/Î½Î¯Î± Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚
  paymentMethod: 'bank_transfer' | 'web_banking' | 'elta' | 'manual';
  paymentReference: string | null;  // RF ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ Î® reference
  deadline: string;                 // Î ÏÎ¿Î¸ÎµÏƒÎ¼Î¯Î± (Ï„Î­Î»Î¿Ï‚ Î¼Î®Î½Î±)

  /** Status */
  status: 'upcoming' | 'due' | 'paid' | 'overdue' | 'keao';
  // upcoming: ÎŸ Î¼Î®Î½Î±Ï‚ Î´ÎµÎ½ Î­Ï‡ÎµÎ¹ Ï†Ï„Î¬ÏƒÎµÎ¹ Î±ÎºÏŒÎ¼Î±
  // due: Î•Î½Ï„ÏŒÏ‚ Î¼Î®Î½Î± Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚
  // paid: Î Î»Î·ÏÏÎ¸Î·ÎºÎµ
  // overdue: Î›Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î¿ (Î´ÎµÎ½ Ï€Î»Î·ÏÏÎ¸Î·ÎºÎµ ÎµÎ³ÎºÎ±Î¯ÏÏ‰Ï‚)
  // keao: Î’ÎµÎ²Î±Î¹ÏÎ¸Î·ÎºÎµ ÏƒÏ„Î¿ ÎšÎ•Î‘ÎŸ (~40 Î·Î¼Î­ÏÎµÏ‚ Î¼ÎµÏ„Î¬)

  /** Î£ÏÎ½Î´ÎµÏƒÎ· */
  journalEntryId: string | null;    // â†’ journal_entries (Î’Î¹Î²Î»Î¯Î¿ Î•-Î•)
  bankTransactionId: string | null; // â†’ bank reconciliation

  /** Meta */
  createdAt: string;
  updatedAt: string;
}
```

### 4.2 Status Transitions

```
upcoming â†’ due           (1Î· Î¼Î­ÏÎ± Î¼Î®Î½Î± Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚)
due â†’ paid               (ÎºÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ· Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚)
due â†’ overdue            (Î¼ÎµÏ„Î¬ deadline Ï‡Ï‰ÏÎ¯Ï‚ Ï€Î»Î·ÏÏ‰Î¼Î®)
overdue â†’ paid           (Ï€Î»Î·ÏÏ‰Î¼Î® + Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î± Ï„Î­Î»Î·)
overdue â†’ keao           (~40 Î·Î¼Î­ÏÎµÏ‚ â€” Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· ÎšÎ•Î‘ÎŸ)
keao â†’ paid              (ÎµÎ¾ÏŒÏ†Î»Î·ÏƒÎ· Î¼Î­ÏƒÏ‰ ÎšÎ•Î‘ÎŸ)
```

### 4.3 Late Fees Calculation

```typescript
function calculateLateFee(
  expectedAmount: number,
  deadlineDate: string,
  paymentDate: string
): number {
  const daysOverdue = daysBetween(deadlineDate, paymentDate);
  if (daysOverdue <= 0) return 0;

  // Î ÏÏŒÏƒÎ¸ÎµÏ„Î¿ Ï„Î­Î»Î¿Ï‚: 0,73% Î±Î½Î¬ Î¼Î®Î½Î± ÎºÎ±Î¸Ï…ÏƒÏ„Î­ÏÎ·ÏƒÎ·Ï‚
  const monthsOverdue = Math.ceil(daysOverdue / 30);
  const feeRate = 0.0073;  // 0,73% Î±Î½Î¬ Î¼Î®Î½Î±
  const lateFee = expectedAmount * feeRate * monthsOverdue;

  return Math.round(lateFee * 100) / 100;  // Î£Ï„ÏÎ¿Î³Î³Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· 2 Î´ÎµÎºÎ±Î´Î¹ÎºÎ¬
}
```

---

## 5. Reminders & Notifications

### 5.1 Reminder Rules

| Trigger | Î—Î¼Î­ÏÎµÏ‚ | Î¤ÏÏ€Î¿Ï‚ | ÎœÎ®Î½Ï…Î¼Î± |
|---------|--------|-------|--------|
| Î Î»Î·ÏƒÎ¹Î¬Î¶ÎµÎ¹ Ï€Î»Î·ÏÏ‰Î¼Î® | 10 Ï€ÏÎ¹Î½ | `approaching` | "Î•Î¦ÎšÎ‘ [Î¼Î®Î½Î±Ï‚]: 330,37â‚¬ â€” Ï€Î»Î·ÏÏ‰Î¼Î® Î¼Î­Ï‡ÏÎ¹ [deadline]" |
| Î—Î¼Î­ÏÎ± Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚ | 0 | `due` | "Î•Î¦ÎšÎ‘ [Î¼Î®Î½Î±Ï‚]: Î£Î®Î¼ÎµÏÎ± Î»Î®Î³ÎµÎ¹ Î· Ï€ÏÎ¿Î¸ÎµÏƒÎ¼Î¯Î±!" |
| Î›Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î¿ | +3 Î¼Î­ÏÎµÏ‚ | `overdue` | "âš ï¸ Î•Î¦ÎšÎ‘ [Î¼Î®Î½Î±Ï‚]: Î›Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î¿! Î ÏÏŒÏƒÎ¸ÎµÏ„Î± Ï„Î­Î»Î· Î¾ÎµÎºÎ¹Î½Î¿ÏÎ½" |
| ÎšÎ•Î‘ÎŸ ÎºÎ¯Î½Î´Ï…Î½Î¿Ï‚ | +30 Î¼Î­ÏÎµÏ‚ | `critical` | "ğŸš¨ Î•Î¦ÎšÎ‘ [Î¼Î®Î½Î±Ï‚]: Î£Îµ ~10 Î·Î¼Î­ÏÎµÏ‚ Î²ÎµÎ²Î±Î¯Ï‰ÏƒÎ· ÎšÎ•Î‘ÎŸ!" |
| Î•Ï€Î¹Î»Î¿Î³Î® ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚ | 15 Î™Î±Î½ | `category` | "ÎœÎ­Ï‡ÏÎ¹ 31/1: Î•Ï€Î¹Î»Î¿Î³Î® Î±ÏƒÏ†Î±Î»Î¹ÏƒÏ„Î¹ÎºÎ®Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚" |

### 5.2 Notification Channels

```typescript
interface EFKANotification {
  type: 'approaching' | 'due' | 'overdue' | 'critical' | 'category';
  month: number;
  year: number;
  amount: number;
  deadline: string;
  daysRemaining: number;          // Î‘ÏÎ½Î·Ï„Î¹ÎºÏŒ Î±Î½ ÎµÎºÏ€ÏÏŒÎ¸ÎµÏƒÎ¼Î¿

  /** Delivery */
  channels: Array<'app' | 'telegram' | 'email'>;
  // Telegram: ÎœÎ­ÏƒÏ‰ admin bot (ADR-145)
  // App: In-app notification
  // Email: ÎœÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÏŒ
}
```

---

## 6. Annual Summary

### 6.1 Î•Ï„Î®ÏƒÎ¹Î± Î£ÏÎ½Î¿ÏˆÎ·

```typescript
interface EFKAAnnualSummary {
  year: number;
  companyId: string;

  /** Î•Ï€Î¹Î»ÎµÎ³Î¼Î­Î½ÎµÏ‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚ */
  selectedCategories: {
    main: number;
    supplementary: number;
    lumpSum: number;
  };

  /** 12 Î¼Î®Î½ÎµÏ‚ */
  months: EFKAPayment[];

  /** Î£ÏÎ½Î¿Î»Î± */
  totals: {
    expectedTotal: number;        // 12 Ã— Î¼Î·Î½Î¹Î±Î¯Î± ÎµÎ¹ÏƒÏ†Î¿ÏÎ¬
    paidTotal: number;            // Î£ÏÎ½Î¿Î»Î¿ Ï€Î»Î·ÏÏ‰Î¼ÏÎ½
    lateFeesTotal: number;        // Î£ÏÎ½Î¿Î»Î¿ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Ï‰Î½ Ï„ÎµÎ»ÏÎ½
    remainingDue: number;         // Î¥Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ (Î±Î½ Î´ÎµÎ½ Ï€Î»Î·ÏÏÎ¸Î·ÎºÎ±Î½ ÏŒÎ»Î¿Î¹)
    paidMonths: number;           // Î ÏŒÏƒÎ¿Î¹ Î¼Î®Î½ÎµÏ‚ Ï€Î»Î·ÏÏÎ¸Î·ÎºÎ±Î½
    overdueMonths: number;        // Î›Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î¿Î¹ Î¼Î®Î½ÎµÏ‚
  };

  /** Î¦Î¿ÏÎ¿Î»Î¿Î³Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· */
  taxDeductibleAmount: number;    // = paidTotal (ÎµÎºÏ€Î¯Ï€Ï„ÎµÎ¹ 100%)
  // Î•Î¹ÏƒÏ†Î¿ÏÎ­Ï‚ Î•Î¦ÎšÎ‘ ÎµÎºÏ€Î¯Ï€Ï„Î¿Ï…Î½ Ï€Î»Î®ÏÏ‰Ï‚ Î±Ï€ÏŒ Ï†ÏŒÏÎ¿ ÎµÎ¹ÏƒÎ¿Î´Î®Î¼Î±Ï„Î¿Ï‚

  /** Î£ÏÎ³ÎºÏÎ¹ÏƒÎ· Î¼Îµ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î¿ Î­Ï„Î¿Ï‚ */
  previousYearTotal: number | null;
  yearOverYearChange: number | null;  // Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ Î±Î»Î»Î±Î³Î®Ï‚
}
```

### 6.2 Î¦Î¿ÏÎ¿Î»Î¿Î³Î¹ÎºÎ® Î£Î·Î¼Î±ÏƒÎ¯Î±

ÎŸÎ¹ ÎµÎ¹ÏƒÏ†Î¿ÏÎ­Ï‚ Î•Î¦ÎšÎ‘:
- **Î•ÎºÏ€Î¯Ï€Ï„Î¿Ï…Î½ 100%** Î±Ï€ÏŒ Ï„Î± Î±ÎºÎ±Î¸Î¬ÏÎ¹ÏƒÏ„Î± Î­ÏƒÎ¿Î´Î±
- ÎšÎ±Ï„Î±Ï‡Ï‰ÏÎ¿ÏÎ½Ï„Î±Î¹ ÏƒÏ„Î¿ **Î•3 ÎºÏ‰Î´Î¹ÎºÏŒ `585_005`** (Î‘ÏƒÏ†Î±Î»Î¹ÏƒÏ„Î¹ÎºÎ­Ï‚ ÎµÎ¹ÏƒÏ†Î¿ÏÎ­Ï‚)
- myDATA Ï‡Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÎ¼ÏŒÏ‚: **`category2_12`** (Î›Î¿Î¹Ï€Î­Ï‚ ÎµÎºÏ€Î¹Ï€Ï„ÏŒÎ¼ÎµÎ½ÎµÏ‚ Î´Î±Ï€Î¬Î½ÎµÏ‚)
- ÎšÎ¬Î¸Îµ Ï€Î»Î·ÏÏ‰Î¼Î® â†’ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎ³Î³ÏÎ±Ï†Î® ÏƒÏ„Î¿ Î’Î¹Î²Î»Î¯Î¿ Î•-Î•

---

## 7. Auto-Booking Integration

### 7.1 Î•Î¦ÎšÎ‘ â†’ Journal Entry

ÎšÎ¬Î¸Îµ Ï€Î»Î·ÏÏ‰Î¼Î® Î•Î¦ÎšÎ‘ Î´Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± ÎµÎ³Î³ÏÎ±Ï†Î®:

```typescript
function createEFKAJournalEntry(payment: EFKAPayment): JournalEntry {
  return {
    type: 'expense',
    date: payment.paymentDate,
    description: `Î•Î¹ÏƒÏ†Î¿ÏÎ¬ Î•Î¦ÎšÎ‘ ${monthName(payment.month)} ${payment.year}`,
    category: 'efka',
    mydataCode: 'category2_12',
    e3Code: '585_005',
    netAmount: payment.paidAmount,
    vatRate: 0,
    vatAmount: 0,
    totalAmount: payment.paidAmount,
    vatDeductible: false,
    vatDeductiblePercent: 0,
    vatDeductibleAmount: 0,
    sourceType: 'efka',
    sourceId: payment.paymentId,
    counterpartyName: 'Î•Î¦ÎšÎ‘',
    counterpartyVat: null,
    // ...
  };
}
```

### 7.2 Î ÏÏŒÏƒÎ¸ÎµÏ„Î± Î¤Î­Î»Î·

Î‘Î½ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Ï€ÏÏŒÏƒÎ¸ÎµÏ„Î± Ï„Î­Î»Î·, Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½Ï„Î±Î¹ **2 ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚**:
1. ÎšÎ±Î½Î¿Î½Î¹ÎºÎ® ÎµÎ¹ÏƒÏ†Î¿ÏÎ¬ â†’ `efka` (category2_12 / 585_005)
2. Î ÏÏŒÏƒÎ¸ÎµÏ„Î± Ï„Î­Î»Î· â†’ `other_expense` (category2_14 / 585_016)

---

## 8. Î•Î¦ÎšÎ‘ Document AI Integration

### 8.1 Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· Î•Î¹Î´Î¿Ï€Î¿Î¹Î·Ï„Î·ÏÎ¯Î¿Ï…

ÎœÎ­ÏƒÏ‰ Ï„Î¿Ï… Expense Tracker (ACC-005):

```
[1] Upload Î•Î¦ÎšÎ‘ PDF ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î·Ï„Î®ÏÎ¹Î¿
    â†“
[2] AI Classification â†’ efka_notice (confidence: 99%)
    â†“
[3] AI Extraction:
    - ÎœÎ®Î½Î±Ï‚ Î±Î½Î±Ï†Î¿ÏÎ¬Ï‚: 12/2025
    - Î Î¿ÏƒÏŒ: 330,37â‚¬
    - Î‘Î½Î¬Î»Ï…ÏƒÎ· ÎºÎ»Î¬Î´Ï‰Î½: [180.58, 58.25, 5.82, 10.00, 45.43, 30.29]
    - Î ÏÎ¿Î¸ÎµÏƒÎ¼Î¯Î±: 31/01/2026
    - Î ÏÏŒÏƒÎ¸ÎµÏ„Î± Ï„Î­Î»Î·: 0,00â‚¬ (Î® Ï€Î¿ÏƒÏŒ Î±Î½ Î»Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î¿)
    â†“
[4] Auto-match: Î’ÏÎµÏ‚ Î±Î½Ï„Î¯ÏƒÏ„Î¿Î¹Ï‡Î¿ EFKAPayment record
    â†“
[5] Update payment status + amounts
```

### 8.2 Telegram Quick Entry

```
Admin: "Î Î»Î®ÏÏ‰ÏƒÎ± Î•Î¦ÎšÎ‘ Î™Î±Î½Î¿Ï…Î±ÏÎ¯Î¿Ï…"
  â†“
Bot: "âœ… ÎšÎ±Ï„Î±Ï‡Ï‰ÏÎ®Î¸Î·ÎºÎµ Ï€Î»Î·ÏÏ‰Î¼Î® Î•Î¦ÎšÎ‘ 01/2026: 338,64â‚¬
      Î•Î³Î³ÏÎ±Ï†Î® ÏƒÏ„Î¿ Î’Î¹Î²Î»Î¯Î¿ Î•-Î•: âœ…
      Î¥Ï€ÏŒÎ»Î¿Î¹Ï€Î¿ Î­Ï„Î¿Ï…Ï‚: 11 Î¼Î®Î½ÎµÏ‚ (3.725,04â‚¬)"
```

---

## 9. Firestore Structure

```
accounting/{companyId}/
  â”œâ”€â”€ settings/
  â”‚   â””â”€â”€ efka                         â† User config (ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚, RF code)
  â”‚
  â”œâ”€â”€ efka_payments/{year}_{month}     â† Î Î»Î·ÏÏ‰Î¼Î­Ï‚ (1 doc Î±Î½Î¬ Î¼Î®Î½Î±)
  â”‚
  â”œâ”€â”€ efka_annual/{year}               â† Î•Ï„Î®ÏƒÎ¹Î± ÏƒÏÎ½Î¿ÏˆÎ·
  â”‚
  â””â”€â”€ efka_reminders/{reminderId}      â† Scheduled reminders

accounting/shared/
  â””â”€â”€ efka_rates/
      â”œâ”€â”€ 2025                         â† Rates 2025
      â””â”€â”€ 2026                         â† Rates 2026
```

### 9.1 Composite Indexes

```
efka_payments:
  - (year ASC, month ASC)              â† Î§ÏÎ¿Î½Î¿Î»Î¿Î³Î¹ÎºÎ® ÏƒÎµÎ¹ÏÎ¬
  - (status ASC, deadline ASC)         â† Î›Î·Î¾Î¹Ï€ÏÏŒÎ¸ÎµÏƒÎ¼Î± Ï€ÏÏÏ„Î±
```

---

## 10. UI Pages

| Route | Î£ÎµÎ»Î¯Î´Î± | Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± |
|-------|--------|------------|
| `/accounting/efka` | Dashboard | Î¤ÏÎ­Ï‡Ï‰Î½ Î¼Î®Î½Î±Ï‚ + ÎµÏ„Î®ÏƒÎ¹Î± overview |
| `/accounting/efka/{year}` | Î•Ï„Î®ÏƒÎ¹Î± Î‘Î½Î¬Î»Ï…ÏƒÎ· | 12 Î¼Î®Î½ÎµÏ‚ + ÏƒÏÎ½Î¿Î»Î± |
| `/accounting/efka/settings` | Î¡Ï…Î¸Î¼Î¯ÏƒÎµÎ¹Ï‚ | ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚, RF code |

### 10.1 Dashboard Mockup

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Î•Î¦ÎšÎ‘ â€” Î•Î¹ÏƒÏ†Î¿ÏÎ­Ï‚ 2026                                      â”‚
â”‚  ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î±: 1Î· (ÎšÏÏÎ¹Î± + Î•Ï€Î¹ÎºÎ¿Ï…ÏÎ¹ÎºÎ® + Î•Ï†Î¬Ï€Î±Î¾)              â”‚
â”‚  ÎœÎ·Î½Î¹Î±Î¯Î± ÎµÎ¹ÏƒÏ†Î¿ÏÎ¬: 338,64â‚¬                                  â”‚
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ âœ… Î Î»Î·ÏÏ‰Î¼Î­Î½Î¿Î¹ â”‚ â”‚ â³ Î¤ÏÎ­Ï‡Ï‰Î½    â”‚ â”‚ ğŸ“… Î¥Ï€ÏŒÎ»Î¿Î¹Ï€Î¿  â”‚        â”‚
â”‚  â”‚   1 / 12     â”‚ â”‚ Î¦ÎµÎ² 2026    â”‚ â”‚  11 Î¼Î®Î½ÎµÏ‚    â”‚        â”‚
â”‚  â”‚   338,64â‚¬    â”‚ â”‚ 338,64â‚¬ due â”‚ â”‚  3.725,04â‚¬   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                             â”‚
â”‚  ÎœÎ—ÎÎ™Î‘Î™Î‘ ÎšÎ‘Î¤Î‘Î£Î¤Î‘Î£Î—                                         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚
â”‚  Î™Î±Î½ â”‚ âœ… Paid    â”‚ 338,64â‚¬ â”‚ 28/01/2026                   â”‚
â”‚  Î¦ÎµÎ² â”‚ â³ Due     â”‚ 338,64â‚¬ â”‚ Deadline: 28/02/2026         â”‚
â”‚  ÎœÎ±Ï â”‚ ğŸ“… Upcomingâ”‚ 338,64â‚¬ â”‚ Deadline: 31/03/2026         â”‚
â”‚  Î‘Ï€Ï â”‚ ğŸ“… Upcomingâ”‚ 338,64â‚¬ â”‚ Deadline: 30/04/2026         â”‚
â”‚  ... â”‚            â”‚         â”‚                               â”‚
â”‚                                                             â”‚
â”‚  Î‘ÎÎ‘Î›Î¥Î£Î— ÎšÎ›Î‘Î”Î©Î (Î¦ÎµÎ²ÏÎ¿Ï…Î¬ÏÎ¹Î¿Ï‚)                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                 â”‚
â”‚  â”œâ”€ Î£ÏÎ½Ï„Î±Î¾Î·:           185,09â‚¬                              â”‚
â”‚  â”œâ”€ Î¥Î³ÎµÎ¯Î± (Î•Î¯Î´Î¿Ï‚):     59,71â‚¬                              â”‚
â”‚  â”œâ”€ Î¥Î³ÎµÎ¯Î± (Î§ÏÎ®Î¼Î±):      5,97â‚¬                              â”‚
â”‚  â”œâ”€ ÎŸÎ‘Î•Î”:               10,25â‚¬                              â”‚
â”‚  â”œâ”€ Î•Ï€Î¹ÎºÎ¿Ï…ÏÎ¹ÎºÎ®:         46,57â‚¬                              â”‚
â”‚  â””â”€ Î•Ï†Î¬Ï€Î±Î¾:             31,05â‚¬                              â”‚
â”‚                                                             â”‚
â”‚  [ğŸ“ ÎšÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ· Î Î»Î·ÏÏ‰Î¼Î®Ï‚]  [ğŸ“„ Î•Î¹Î´Î¿Ï€Î¿Î¹Î·Ï„Î®ÏÎ¹Î±]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 11. Category Selection Workflow

### 11.1 Î•Ï„Î®ÏƒÎ¹Î± Î•Ï€Î¹Î»Î¿Î³Î® (Î¼Î­Ï‡ÏÎ¹ 31/1)

```
[1] Î”ÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï‚: Reminder "Î•Ï€Î¹Î»Î¿Î³Î® ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚ Î¼Î­Ï‡ÏÎ¹ 31/1"
    â†“
[2] UI: Î£ÏÎ³ÎºÏÎ¹ÏƒÎ· ÎºÎ±Ï„Î·Î³Î¿ÏÎ¹ÏÎ½
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Î£ÏÎ³ÎºÏÎ¹ÏƒÎ· ÎšÎ±Ï„Î·Î³Î¿ÏÎ¹ÏÎ½ 2027                    â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚ ÎšÎ±Ï„. â”‚ ÎšÏÏÎ¹Î±    â”‚ Î•Ï€Î¹Îº.  â”‚ Î•Ï†Î¬Ï€Î±Î¾ â”‚ Î£ÏÎ½Î¿Î»Î¿ â”‚
    â”‚  1Î·  â”‚ 267,54â‚¬  â”‚ 47,73â‚¬ â”‚ 31,83â‚¬ â”‚ 347,10â‚¬â”‚ â† Î¤ÏÎ­Ï‡Î¿Ï…ÏƒÎ±
    â”‚  2Î·  â”‚ 319,01â‚¬  â”‚ 57,57â‚¬ â”‚ 37,96â‚¬ â”‚ 414,54â‚¬â”‚
    â”‚  3Î·  â”‚ 380,26â‚¬  â”‚ 68,58â‚¬ â”‚ 45,31â‚¬ â”‚ 494,15â‚¬â”‚
    â”‚  4Î·  â”‚ 454,90â‚¬  â”‚   â€”    â”‚   â€”    â”‚ 454,90â‚¬â”‚
    â”‚  5Î·  â”‚ 542,95â‚¬  â”‚   â€”    â”‚   â€”    â”‚ 542,95â‚¬â”‚
    â”‚  6Î·  â”‚ 703,36â‚¬  â”‚   â€”    â”‚   â€”    â”‚ 703,36â‚¬â”‚
    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
    â”‚ [Î”Î¹Î±Ï„Î®ÏÎ·ÏƒÎ· 1Î·]  [Î‘Î»Î»Î±Î³Î® ÏƒÎµ ...]             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
[3] Î§ÏÎ®ÏƒÏ„Î·Ï‚ ÎµÏ€Î¹Î²ÎµÎ²Î±Î¹ÏÎ½ÎµÎ¹ â†’ Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Î½Î­Î±Ï‚ ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯Î±Ï‚
    â†“
[4] Auto-recalculate Î¼Î·Î½Î¹Î±Î¯ÎµÏ‚ ÎµÎ¹ÏƒÏ†Î¿ÏÎ­Ï‚ 2027
```

---

## 12. Dependencies

| Module | Î£Ï‡Î­ÏƒÎ· | Î ÎµÏÎ¹Î³ÏÎ±Ï†Î® |
|--------|-------|-----------|
| **M-001** (Company Setup) | **BLOCKED BY** | Î§ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ Î‘ÎœÎšÎ‘, Î±ÏƒÏ†Î±Î»Î¹ÏƒÏ„Î¹ÎºÎ¬ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± |
| **M-002** (Income/Expense) | **FEEDS** | ÎšÎ¬Î¸Îµ Ï€Î»Î·ÏÏ‰Î¼Î® â†’ journal entry |
| **ACC-001** (Chart of Accounts) | **READS** | ÎšÎ±Ï„Î·Î³Î¿ÏÎ¯Î± `efka`, myDATA/E3 codes |
| **ACC-005** (AI Document) | **READS** | Î‘Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· Î•Î¦ÎšÎ‘ ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î·Ï„Î·ÏÎ¯Ï‰Î½ |
| **M-009** (Bank Reconciliation) | **LINKS** | Î Î»Î·ÏÏ‰Î¼Î® â†’ Ï„ÏÎ±Ï€ÎµÎ¶Î¹ÎºÎ® ÎºÎ¯Î½Î·ÏƒÎ· |
| **ADR-145** (Admin Bot) | **TRIGGERS** | Telegram reminders + quick entry |
| **M-010** (Reports) | **FEEDS** | Î•Ï„Î®ÏƒÎ¹Î± Î•Î¦ÎšÎ‘ ÏƒÏÎ½Î¿ÏˆÎ· |

---

## 13. Open Questions

| # | Î•ÏÏÏ„Î·ÏƒÎ· | Status |
|---|---------|--------|
| 1 | RF ÎºÏ‰Î´Î¹ÎºÏŒÏ‚ Î“Î¹ÏÏÎ³Î¿Ï… â€” Ï‡ÏÎµÎ¹Î¬Î¶ÎµÏ„Î±Î¹ Î³Î¹Î± auto-fill Ï€Î»Î·ÏÏ‰Î¼Î®Ï‚ | PENDING (ÎµÏ…Î±Î¯ÏƒÎ¸Î·Ï„Î¿ Î´ÎµÎ´Î¿Î¼Î­Î½Î¿) |
| 2 | Î•Î¹Î´Î¿Ï€Î¿Î¹Î®ÏƒÎµÎ¹Ï‚: Push notification Î® Î¼ÏŒÎ½Î¿ Telegram; | DEFAULT: Telegram + in-app |
| 3 | Î™ÏƒÏ„Î¿ÏÎ¹ÎºÎ¬ Î´ÎµÎ´Î¿Î¼Î­Î½Î±: Import Ï€Î»Î·ÏÏ‰Î¼ÏÎ½ 2025 Î® Î¼ÏŒÎ½Î¿ 2026+; | DEFAULT: 2026+ (fresh start) |

---

## 14. Decision Log

| Date | Decision | Author |
|------|----------|--------|
| 2026-02-09 | ADR Created â€” EFKA Contribution Tracking | Î“Î¹ÏÏÎ³Î¿Ï‚ + Claude Code |
| 2026-02-09 | Config-driven rates (ÎµÏ„Î®ÏƒÎ¹Î± ÎµÎ½Î·Î¼Î­ÏÏ‰ÏƒÎ·, +2,5% default) | Claude Code |
| 2026-02-09 | 6-branch breakdown (ÏƒÏÎ½Ï„Î±Î¾Î·, Ï…Î³ÎµÎ¯Î±Ã—2, ÎŸÎ‘Î•Î”, ÎµÏ€Î¹Îº., ÎµÏ†Î¬Ï€Î±Î¾) | Claude Code |
| 2026-02-09 | Late fee: 0,73%/Î¼Î®Î½Î± â€” auto-calculate | Claude Code |
| 2026-02-09 | ÎšÎ•Î‘ÎŸ status (~40 Î¼Î­ÏÎµÏ‚ Î¼ÎµÏ„Î¬ overdue) | Claude Code |
| 2026-02-09 | Auto-booking: Ï€Î»Î·ÏÏ‰Î¼Î® â†’ journal entry (efka, category2_12) | Claude Code |
| 2026-02-09 | Reminders: 10d Ï€ÏÎ¹Î½, due day, +3d overdue, +30d ÎšÎ•Î‘ÎŸ | Claude Code |
| 2026-02-09 | Category selection UI: ÏƒÏÎ³ÎºÏÎ¹ÏƒÎ· ÎºÎ±Ï„Î·Î³Î¿ÏÎ¹ÏÎ½ + deadline 31/1 | Claude Code |
| 2026-02-09 | AI integration: Î±Î½Î±Î³Î½ÏÏÎ¹ÏƒÎ· Î•Î¦ÎšÎ‘ ÎµÎ¹Î´Î¿Ï€Î¿Î¹Î·Ï„Î·ÏÎ¯Î¿Ï… (ACC-005) | Claude Code |
| 2026-02-09 | Telegram quick entry: "Î Î»Î®ÏÏ‰ÏƒÎ± Î•Î¦ÎšÎ‘ [Î¼Î®Î½Î±]" | Claude Code |
| 2026-02-09 | **Phase 2 implemented** â€” types/efka.ts: EFKACategoryRate, EFKAYearConfig (6+3+3 ÎºÎ±Ï„Î·Î³Î¿ÏÎ¯ÎµÏ‚), EFKAUserConfig, EFKAMonthlyBreakdown (6 ÎºÎ»Î¬Î´Î¿Î¹), EFKAPaymentStatus (5 states incl. keao), EFKAPayment, EFKAAnnualSummary, EFKANotification. types/interfaces.ts: IAccountingRepository with getEFKAPayments, updateEFKAPayment, get/saveEFKAUserConfig | Claude Code |
| 2026-02-09 | **Phase 3 implemented** â€” services/config/efka-config.ts: `EFKA_YEAR_CONFIGS` (ReadonlyMap 2025+2026), 6 main pension categories (185.09â€“703.69â‚¬/mo), 3 supplementary (46.57â€“68.62â‚¬/mo), 3 lump sum (31.05â€“45.33â‚¬/mo). Helpers: `getEfkaConfigForYear()`, `calculateMonthlyBreakdown(year, mainCode, suppCode, lumpCode)`, `calculateAnnualTotal()`. services/repository: `getEFKAPayments(year)`, `updateEFKAPayment()`, `getEFKAConfig()`, `saveEFKAConfig()`. services/accounting-service.ts: `getEfkaAnnualSummary()` | Claude Code |

---

*ADR Format based on: Michael Nygard's Architecture Decision Records*
