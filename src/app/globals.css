@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import dropdown z-index overrides */
/* Dropdown overrides inlined for Next.js 16 compatibility */

@layer base {
  :root {
    --background: 212 22% 95%; /* Adjusted for a very light grey */
    --foreground: 222.2 47.4% 11.2%;
    
    --card: 210 40% 96.1%; /* Changed to gray-100 equivalent for dropdown cards */
    --card-foreground: 222.2 47.4% 11.2%;
    
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;
    
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 47.4% 11.2%;
    
    --radius: 0.5rem;

    /* Semantic Status Colors */
    --status-success: 142 71% 45%;    /* Green for success/available */
    --status-info: 221 83% 53%;       /* Blue for info/active */
    --status-warning: 32 95% 44%;     /* Orange for warning/reserved */
    --status-error: 0 72% 51%;        /* Red for error/sold */
    --status-purple: 271 76% 53%;     /* Purple for special states */

    /* Sidebar Variables */
    --sidebar-background: 212 22% 95%;
    --sidebar-foreground: 222.2 47.4% 11.2%;
    --sidebar-accent: 210 40% 96.1%;
    --sidebar-accent-foreground: 222.2 47.4% 11.2%;
    --sidebar-border: 214.3 31.8% 91.4%;
    --sidebar-ring: 222.2 47.4% 11.2%;
  }

  .dark {
    --background: 220 20% 11%; /* #1e293b */
    --foreground: 210 40% 98%;

    --card: 217 33% 17%; /* #293345 */
    --card-foreground: 210 40% 98%;

    --popover: 220 20% 11%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    
    --secondary: 217 33% 25%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 25%; /* Same as secondary */
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217 33% 25%;
    --accent-foreground: 210 40% 98%;
    
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    
    --border: 217 33% 25%;
    --input: 217 33% 25%;
    --ring: 210 40% 98%;

    /* Semantic Status Colors - Dark Mode */
    --status-success: 142 76% 36%;    /* Darker green for dark mode */
    --status-info: 221 83% 53%;       /* Same blue works in dark */
    --status-warning: 32 95% 44%;     /* Same orange works in dark */
    --status-error: 0 72% 51%;        /* Same red works in dark */
    --status-purple: 271 76% 53%;     /* Same purple works in dark */

    /* Sidebar Variables - Dark Mode */
    --sidebar-background: 220 20% 11%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-accent: 217 33% 17%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 217 33% 25%;
    --sidebar-ring: 210 40% 98%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: 'rlig' 1, 'calt' 1;
    overflow-x: hidden;
    width: 100%;
    max-width: 100%;
    position: relative;
  }
}

/* ŒîŒüŒõŒüŒ¶ŒüŒùŒüŒ£ CURSOR Œ≥ŒπŒ± œÑŒøŒΩ viewer */
.dxf-viewer-root,
.dxf-viewer-root * {
  cursor: none !important;
}

/* üéØ DROPDOWN CONTACT CARDS - FORCE GRAY BACKGROUND */
/* ŒëœÖœÑœå override œÑŒø bg-card CSS variable ŒºœåŒΩŒø Œ≥ŒπŒ± œÑŒ± dropdown contact items */
[data-dropdown-contact-item="true"] {
  background-color: #f3f4f6 !important; /* Force gray-100 equivalent */
  background: #f3f4f6 !important; /* Double override Œ≥ŒπŒ± safety */
  background-image: none !important; /* Prevent any background images */
}

[data-dropdown-contact-item="true"]:hover {
  background-color: #e5e7eb !important; /* Force gray-200 on hover */
  background: #e5e7eb !important;
}

/* Special case Œ≥ŒπŒ± highlighted items (blue background) */
[data-dropdown-contact-item="true"].bg-blue-100,
[data-dropdown-contact-item="true"][class*="bg-blue"] {
  background-color: #dbeafe !important; /* Force blue-100 */
  background: #dbeafe !important;
}

/* üî• UNIVERSAL MOBILE OVERFLOW PROTECTION */
@layer utilities {
  /* ‚ôø Screen Reader Only - WCAG 2.1 AA Compliance */
  .sr-only {
    position: absolute !important;
    width: 1px !important;
    height: 1px !important;
    padding: 0 !important;
    margin: -1px !important;
    overflow: hidden !important;
    clip: rect(0, 0, 0, 0) !important;
    white-space: nowrap !important;
    border: 0 !important;
  }

  /* Hide scrollbars while maintaining scroll functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    scrollbar-width: none;  /* Firefox */
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Safari and Chrome */
  }

  /* Mobile slide-in animations */
  @keyframes slide-in-from-right {
    from {
      transform: translateX(100%);
    }
    to {
      transform: translateX(0);
    }
  }

  @keyframes slide-out-to-right {
    from {
      transform: translateX(0);
    }
    to {
      transform: translateX(100%);
    }
  }

  .animate-in {
    animation-fill-mode: both;
  }

  .slide-in-from-right {
    animation-name: slide-in-from-right;
  }

  .slide-out-to-right {
    animation-name: slide-out-to-right;
  }

  .duration-300 {
    animation-duration: 300ms;
  }

  /* Force all containers to respect viewport boundaries */
  * {
    box-sizing: border-box;
  }

  /* Prevent horizontal overflow on mobile */
  .container,
  [class*="container"],
  header,
  main,
  section,
  div {
    max-width: 100%;
    overflow-x: hidden;
  }

  /* Mobile-specific fixes */
  @media (max-width: 640px) {
    /* Force all flex containers to wrap and constrain */
    .flex {
      max-width: 100% !important;
      overflow-x: hidden !important;
    }

    /* Force all grid containers to fit viewport */
    .grid {
      max-width: 100% !important;
      overflow-x: hidden !important;
    }

    /* Constrain all text elements */
    h1, h2, h3, h4, h5, h6, p, span, div {
      max-width: 100% !important;
      word-wrap: break-word !important;
      overflow-wrap: break-word !important;
    }

    /* Force sidebar to hide on mobile if needed */
    [data-sidebar] {
      max-width: 100vw !important;
    }
  }
}

/* =============================================================
   FINAL NUCLEAR SOLUTION - HIDE ALL ARROW INDICATORS
   ============================================================= */

/* Hide ALL possible scrollbar arrows and indicators */
* {
  scrollbar-width: none !important; /* Firefox */
  -ms-overflow-style: none !important; /* IE */
}

*::-webkit-scrollbar {
  display: none !important;
  width: 0px !important;
  height: 0px !important;
}

*::-webkit-scrollbar-button {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

*::-webkit-scrollbar-track,
*::-webkit-scrollbar-thumb,
*::-webkit-scrollbar-corner {
  display: none !important;
}

/* üè¢ ENTERPRISE: Hide Unicode triangle characters via data attributes */
/* Modern replacement for :contains() using data attributes */
[data-hide-arrows="true"] span,
[data-hide-arrows="true"] div,
.hide-unicode-arrows,
*[data-text-content*="arrow"],
*[aria-label*="arrow"],
*[title*="arrow"] {
  display: none !important;
  font-size: 0 !important;
  color: transparent !important;
  visibility: hidden !important;
}

/* üè¢ ENTERPRISE: Hide CSS generated arrow content */
/* Modern approach: Use specific classes instead of content attribute selectors */
.hide-arrow-before::before,
.hide-arrow-after::after,
[data-hide-arrow-content="true"]::before,
[data-hide-arrow-content="true"]::after {
  content: "" !important;
  display: none !important;
}

/* üè¢ ENTERPRISE: Remove border-based arrows via class targeting */
/* Modern approach: Use specific classes instead of style attribute selectors */
.remove-triangle-borders,
[data-remove-arrows="true"],
.arrow-border-reset {
  border: none !important;
  border-left: none !important;
  border-right: none !important;
  border-top: none !important;
  border-bottom: none !important;
}

/* Hide all lucide chevron icons globally */
.lucide-chevron-down,
.lucide-chevron-up,
.lucide-chevron-left,
.lucide-chevron-right,
.lucide-arrow-down,
.lucide-arrow-up {
  display: none !important;
  visibility: hidden !important;
}
